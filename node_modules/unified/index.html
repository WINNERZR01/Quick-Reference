<!doctype html>
<html lang="en" data-color-mode="dark">
<head>
<meta charset="utf-8">
<title># [![unified][logo]][site]

[![Build][build-badge]][build]
[![Coverage][coverage-badge]][coverage]
[![Downloads][downloads-badge]][downloads]
[![Size][size-badge]][size]
[![Sponsors][sponsors-badge]][collective]
[![Backers][backers-badge]][collective]
[![Chat][chat-badge]][chat]

**unified** is an interface for processing text using syntax trees.
It’s what powers [**remark**][remark] (Markdown), [**retext**][retext] (natural
language), and [**rehype**][rehype] (HTML), and allows for processing between
formats.

## Intro

**unified** enables new exciting projects like [Gatsby][] to pull in Markdown,
[MDX][] to embed [JSX][], and [Prettier][] to format it.
It’s used in about 700k projects on GitHub and has about 35m downloads each
month on npm: you’re probably using it.
Some notable users are [Node.js][], [Vercel][], [Netlify][], [GitHub][],
[Mozilla][], [WordPress][], [Adobe][], [Facebook][], [Google][], and many more.

*   To read about what we are up to, follow us [Twitter][]
*   For a less technical and more practical introduction to unified, visit
    [`unifiedjs.com`][site] and peruse its [Learn][] section
*   Browse [awesome unified][awesome] to find out more about the ecosystem
*   Questions?
    Get help on [Discussions][chat]!
*   Check out [Contribute][] below to find out how to help out, or become a
    backer or sponsor on [OpenCollective][collective]

## Sponsors

Support this effort and give back by sponsoring on [OpenCollective][collective]!

&#x3C;!--lint ignore no-html-->

&#x3C;table>
&#x3C;tr valign &#x26;  index cheatsheet &#x26;  Quick Reference</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta description="为开发人员分享快速参考备忘单。">
<meta keywords="Quick,Reference,cheatsheet,index">
<link rel="icon" href="data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%221em%22%20width%3D%221em%22%3E%20%3Cpath%20d%3D%22m21.66%2010.44-.98%204.18c-.84%203.61-2.5%205.07-5.62%204.77-.5-.04-1.04-.13-1.62-.27l-1.68-.4c-4.17-.99-5.46-3.05-4.48-7.23l.98-4.19c.2-.85.44-1.59.74-2.2%201.17-2.42%203.16-3.07%206.5-2.28l1.67.39c4.19.98%205.47%203.05%204.49%207.23Z%22%20fill%3D%22%23c9d1d9%22%2F%3E%20%3Cpath%20d%3D%22M15.06%2019.39c-.62.42-1.4.77-2.35%201.08l-1.58.52c-3.97%201.28-6.06.21-7.35-3.76L2.5%2013.28c-1.28-3.97-.22-6.07%203.75-7.35l1.58-.52c.41-.13.8-.24%201.17-.31-.3.61-.54%201.35-.74%202.2l-.98%204.19c-.98%204.18.31%206.24%204.48%207.23l1.68.4c.58.14%201.12.23%201.62.27Zm2.43-8.88c-.06%200-.12-.01-.19-.02l-4.85-1.23a.75.75%200%200%201%20.37-1.45l4.85%201.23a.748.748%200%200%201-.18%201.47Z%22%20fill%3D%22%23228e6c%22%20%2F%3E%20%3Cpath%20d%3D%22M14.56%2013.89c-.06%200-.12-.01-.19-.02l-2.91-.74a.75.75%200%200%201%20.37-1.45l2.91.74c.4.1.64.51.54.91-.08.34-.38.56-.72.56Z%22%20fill%3D%22%23228e6c%22%20%2F%3E%20%3C%2Fsvg%3E" type="image/svg+xml">
<link rel="stylesheet" href="..\..\style\style.css">
<link rel="stylesheet" href="..\..\style\katex.css">
</head>
<body><nav class="header-nav"><div class="max-container"><a href="..\..\index.html" class="logo"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" height="1em" width="1em">
  <path d="m21.66 10.44-.98 4.18c-.84 3.61-2.5 5.07-5.62 4.77-.5-.04-1.04-.13-1.62-.27l-1.68-.4c-4.17-.99-5.46-3.05-4.48-7.23l.98-4.19c.2-.85.44-1.59.74-2.2 1.17-2.42 3.16-3.07 6.5-2.28l1.67.39c4.19.98 5.47 3.05 4.49 7.23Z" fill="#c9d1d9"></path>
  <path d="M15.06 19.39c-.62.42-1.4.77-2.35 1.08l-1.58.52c-3.97 1.28-6.06.21-7.35-3.76L2.5 13.28c-1.28-3.97-.22-6.07 3.75-7.35l1.58-.52c.41-.13.8-.24 1.17-.31-.3.61-.54 1.35-.74 2.2l-.98 4.19c-.98 4.18.31 6.24 4.48 7.23l1.68.4c.58.14 1.12.23 1.62.27Zm2.43-8.88c-.06 0-.12-.01-.19-.02l-4.85-1.23a.75.75 0 0 1 .37-1.45l4.85 1.23a.748.748 0 0 1-.18 1.47Z" fill="#228e6c"></path>
  <path d="M14.56 13.89c-.06 0-.12-.01-.19-.02l-2.91-.74a.75.75 0 0 1 .37-1.45l2.91.74c.4.1.64.51.54.91-.08.34-.38.56-.72.56Z" fill="#228e6c"></path>
</svg>
<span class="title">Quick Reference</span></a><div class="menu"><a href="https://github.com/jaywcjlove/reference/blob/main/node_modules/unified\readme.md" class="" target="__blank"><svg viewBox="0 0 36 36" fill="currentColor" height="1em" width="1em"><path d="m33 6.4-3.7-3.7a1.71 1.71 0 0 0-2.36 0L23.65 6H6a2 2 0 0 0-2 2v22a2 2 0 0 0 2 2h22a2 2 0 0 0 2-2V11.76l3-3a1.67 1.67 0 0 0 0-2.36ZM18.83 20.13l-4.19.93 1-4.15 9.55-9.57 3.23 3.23ZM29.5 9.43 26.27 6.2l1.85-1.85 3.23 3.23Z"></path><path fill="none" d="M0 0h36v36H0z"></path></svg><span>编辑</span></a><button id="darkMode" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="light" height="1em" width="1em">
  <path d="M6.995 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007-2.246-5.007-5.007-5.007S6.995 9.239 6.995 12zM11 19h2v3h-2zm0-17h2v3h-2zm-9 9h3v2H2zm17 0h3v2h-3zM5.637 19.778l-1.414-1.414 2.121-2.121 1.414 1.414zM16.242 6.344l2.122-2.122 1.414 1.414-2.122 2.122zM6.344 7.759 4.223 5.637l1.415-1.414 2.12 2.122zm13.434 10.605-1.414 1.414-2.122-2.122 1.414-1.414z"></path>
</svg>
<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="dark" height="1em" width="1em">
  <path d="M12 11.807A9.002 9.002 0 0 1 10.049 2a9.942 9.942 0 0 0-5.12 2.735c-3.905 3.905-3.905 10.237 0 14.142 3.906 3.906 10.237 3.905 14.143 0a9.946 9.946 0 0 0 2.735-5.119A9.003 9.003 0 0 1 12 11.807z"></path>
</svg>
</button><script>
  const LOCAL_NANE = '_dark_mode_theme_'
  const rememberedValue = localStorage.getItem(LOCAL_NANE);
  if (rememberedValue && ['light', 'dark'].includes(rememberedValue)) {
    document.documentElement.setAttribute('data-color-mode', rememberedValue);
  }
  const button = document.querySelector('#darkMode');
  button.onclick = () => {
    const theme = document.documentElement.dataset.colorMode;
    const mode = theme === 'light' ? 'dark' : 'light';
    document.documentElement.setAttribute('data-color-mode', mode);
    localStorage.setItem(LOCAL_NANE, mode);
  }
</script><a href="https://github.com/jaywcjlove/reference" class="" target="__blank"><svg viewBox="0 0 16 16" fill="currentColor" height="1em" width="1em"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a></div></div></nav><div class="wrap h1body-exist max-container"><header class="wrap-header h1wrap"><h1 id=""><a aria-hidden="true" tabindex="-1" href="#"><span class="icon icon-link"></span></a><a href="https://unifiedjs.com"><img src="https://raw.githubusercontent.com/unifiedjs/unified/93862e5/logo.svg?sanitize=true" alt="unified"></a></h1><div class="wrap-body">
<p><a href="https://github.com/unifiedjs/unified/actions"><img src="https://github.com/unifiedjs/unified/workflows/main/badge.svg" alt="Build"></a>
<a href="https://codecov.io/github/unifiedjs/unified"><img src="https://img.shields.io/codecov/c/github/unifiedjs/unified.svg" alt="Coverage"></a>
<a href="https://www.npmjs.com/package/unified"><img src="https://img.shields.io/npm/dm/unified.svg" alt="Downloads"></a>
<a href="https://bundlephobia.com/result?p=unified"><img src="https://img.shields.io/bundlephobia/minzip/unified.svg" alt="Size"></a>
<a href="https://opencollective.com/unified"><img src="https://opencollective.com/unified/sponsors/badge.svg" alt="Sponsors"></a>
<a href="https://opencollective.com/unified"><img src="https://opencollective.com/unified/backers/badge.svg" alt="Backers"></a>
<a href="https://github.com/unifiedjs/unified/discussions"><img src="https://img.shields.io/badge/chat-discussions-success.svg" alt="Chat"></a></p>
<p><strong>unified</strong> is an interface for processing text using syntax trees.
It’s what powers <a href="https://github.com/remarkjs/remark"><strong>remark</strong></a> (Markdown), <a href="https://github.com/retextjs/retext"><strong>retext</strong></a> (natural
language), and <a href="https://github.com/rehypejs/rehype"><strong>rehype</strong></a> (HTML), and allows for processing between
formats.</p>
</div></header><div class="menu-tocs"><div class="menu-btn"><svg aria-hidden="true" fill="currentColor" height="1em" width="1em" viewBox="0 0 16 16" version="1.1" data-view-component="true">
  <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
</svg></div><div class="menu-modal"><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#intro">Intro</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#sponsors">Sponsors</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#install">Install</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#use">Use</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#contents">Contents</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#description">Description</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#processors">Processors</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#syntax-trees">Syntax trees</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#list-of-processors">List of processors</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#list-of-plugins">List of plugins</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#file">File</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#configuration">Configuration</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#integrations">Integrations</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#programming-interface">Programming interface</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#processing-between-syntaxes">Processing between syntaxes</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#api">API</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#processor">processor()</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#returns">Returns</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#example">Example</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#processoruseplugin-options">processor.use(plugin[, options])</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#signatures">Signatures</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#parameters">Parameters</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#returns-1">Returns</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#note">Note</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#example-1">Example</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#processorparsefile">processor.parse(file)</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#parameters-1">Parameters</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#returns-2">Returns</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#note-1">Note</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#example-2">Example</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#processorparser">processor.Parser</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#processorstringifynode-file">processor.stringify(node[, file])</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#parameters-2">Parameters</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#returns-3">Returns</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#note-2">Note</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#example-3">Example</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#processorcompiler">processor.Compiler</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#processorrunnode-file-done">processor.run(node[, file][, done])</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#parameters-3">Parameters</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#returns-4">Returns</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#note-3">Note</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#function-doneerr-node-file">function done(err[, node, file])</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#parameters-4">Parameters</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#example-4">Example</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#processorrunsyncnode-file">processor.runSync(node[, file])</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#parameters-5">Parameters</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#returns-5">Returns</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#note-4">Note</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#processorprocessfile-done">processor.process(file[, done])</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#parameters-6">Parameters</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#returns-6">Returns</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#note-5">Note</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#example-5">Example</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#function-doneerr-file">function done(err, file)</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#parameters-7">Parameters</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#example-6">Example</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#processorprocesssyncfilevalue">processor.processSync(file|value)</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#parameters-8">Parameters</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#returns-7">Returns</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#note-6">Note</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#example-7">Example</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#processordatakey-value">processor.data([key[, value]])</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#signatures-1">Signatures</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#parameters-9">Parameters</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#returns-8">Returns</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#note-7">Note</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#example-8">Example</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#processorfreeze">processor.freeze()</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#returns-9">Returns</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#example-9">Example</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#plugin">Plugin</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#example-10">Example</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#function-attacheroptions">function attacher([options])</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#context">Context</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#parameters-10">Parameters</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#returns-10">Returns</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#note-8">Note</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#function-transformernode-file-next">function transformer(node, file[, next])</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#parameters-11">Parameters</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#returns-11">Returns</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#function-nexterr-tree-file">function next(err[, tree[, file]])</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#parameters-12">Parameters</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#preset">Preset</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#example-11">Example</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#contribute">Contribute</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#acknowledgments">Acknowledgments</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#license">License</a></div></div><div class="h1wrap-body"><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="intro"><a aria-hidden="true" tabindex="-1" href="#intro"><span class="icon icon-link"></span></a>Intro</h2><div class="wrap-body">
<p><strong>unified</strong> enables new exciting projects like <a href="https://www.gatsbyjs.org">Gatsby</a> to pull in Markdown,
<a href="https://mdxjs.com">MDX</a> to embed <a href="https://reactjs.org/docs/jsx-in-depth.html">JSX</a>, and <a href="https://prettier.io">Prettier</a> to format it.
It’s used in about 700k projects on GitHub and has about 35m downloads each
month on npm: you’re probably using it.
Some notable users are <a href="https://nodejs.org">Node.js</a>, <a href="https://vercel.com">Vercel</a>, <a href="https://www.netlify.com">Netlify</a>, <a href="https://github.com">GitHub</a>,
<a href="https://www.mozilla.org">Mozilla</a>, <a href="https://wordpress.com">WordPress</a>, <a href="https://www.adobe.com">Adobe</a>, <a href="https://www.facebook.com">Facebook</a>, <a href="https://www.google.com">Google</a>, and many more.</p>
<ul>
<li>To read about what we are up to, follow us <a href="https://twitter.com/unifiedjs">Twitter</a></li>
<li>For a less technical and more practical introduction to unified, visit
<a href="https://unifiedjs.com"><code>unifiedjs.com</code></a> and peruse its <a href="https://unifiedjs.com/learn/">Learn</a> section</li>
<li>Browse <a href="https://github.com/unifiedjs/awesome-unified">awesome unified</a> to find out more about the ecosystem</li>
<li>Questions?
Get help on <a href="https://github.com/unifiedjs/unified/discussions">Discussions</a>!</li>
<li>Check out <a href="#contribute">Contribute</a> below to find out how to help out, or become a
backer or sponsor on <a href="https://opencollective.com/unified">OpenCollective</a></li>
</ul>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="sponsors"><a aria-hidden="true" tabindex="-1" href="#sponsors"><span class="icon icon-link"></span></a>Sponsors</h2><div class="wrap-body">
<p>Support this effort and give back by sponsoring on <a href="https://opencollective.com/unified">OpenCollective</a>!</p>
<!--lint ignore no-html-->
<table>
<tbody><tr valign="middle">
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://vercel.com">Vercel</a><br><br>
  <a href="https://vercel.com"><img src="https://avatars1.githubusercontent.com/u/14985020?s=256&#x26;v=4" width="128"></a>
</td>
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://motif.land">Motif</a><br><br>
  <a href="https://motif.land"><img src="https://avatars1.githubusercontent.com/u/74457950?s=256&#x26;v=4" width="128"></a>
</td>
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://www.hashicorp.com">HashiCorp</a><br><br>
  <a href="https://www.hashicorp.com"><img src="https://avatars1.githubusercontent.com/u/761456?s=256&#x26;v=4" width="128"></a>
</td>
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://americanexpress.io">American Express</a><br><br>
  <a href="https://americanexpress.io"><img src="https://avatars1.githubusercontent.com/u/3853301?s=256&#x26;v=4" width="128"></a>
</td>
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://www.gitbook.com">GitBook</a><br><br>
  <a href="https://www.gitbook.com"><img src="https://avatars1.githubusercontent.com/u/7111340?s=256&#x26;v=4" width="128"></a>
</td>
</tr>
<tr valign="middle">
</tr>
<tr valign="middle">
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://www.gatsbyjs.org">Gatsby</a><br><br>
  <a href="https://www.gatsbyjs.org"><img src="https://avatars1.githubusercontent.com/u/12551863?s=256&#x26;v=4" width="128"></a>
</td>
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://www.netlify.com">Netlify</a><br><br>
  <!--OC has a sharper image-->
  <a href="https://www.netlify.com"><img src="https://images.opencollective.com/netlify/4087de2/logo/256.png" width="128"></a>
</td>
<td width="10%" align="center">
  <a href="https://www.coinbase.com">Coinbase</a><br><br>
  <a href="https://www.coinbase.com"><img src="https://avatars1.githubusercontent.com/u/1885080?s=256&#x26;v=4" width="64"></a>
</td>
<td width="10%" align="center">
  <a href="https://themeisle.com">ThemeIsle</a><br><br>
  <a href="https://themeisle.com"><img src="https://avatars1.githubusercontent.com/u/58979018?s=128&#x26;v=4" width="64"></a>
</td>
<td width="10%" align="center">
  <a href="https://expo.io">Expo</a><br><br>
  <a href="https://expo.io"><img src="https://avatars1.githubusercontent.com/u/12504344?s=128&#x26;v=4" width="64"></a>
</td>
<td width="10%" align="center">
  <a href="https://boostnote.io">Boost Note</a><br><br>
  <a href="https://boostnote.io"><img src="https://images.opencollective.com/boosthub/6318083/logo/128.png" width="64"></a>
</td>
<td width="10%" align="center">
  <a href="https://www.holloway.com">Holloway</a><br><br>
  <a href="https://www.holloway.com"><img src="https://avatars1.githubusercontent.com/u/35904294?s=128&#x26;v=4" width="64"></a>
</td>
<td width="10%"></td>
</tr>
<tr valign="middle">
<td width="100%" align="center" colspan="6">
  <br>
  <a href="https://opencollective.com/unified"><strong>You?</strong></a>
  <br><br>
</td>
</tr>
</tbody></table>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="install"><a aria-hidden="true" tabindex="-1" href="#install"><span class="icon icon-link"></span></a>Install</h2><div class="wrap-body">
<p>This package is <a href="https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c">ESM only</a>:
Node 12+ is needed to use it and it must be <code>import</code>ed instead of <code>require</code>d.</p>
<p><a href="https://docs.npmjs.com/cli/install">npm</a>:</p>
<pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line"><span class="token function">npm</span> <span class="token function">install</span> unified
</span></code></pre>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="use"><a aria-hidden="true" tabindex="-1" href="#use"><span class="icon icon-link"></span></a>Use</h2><div class="wrap-body">
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>unified<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unified'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkParse</span> <span class="token keyword module">from</span> <span class="token string">'remark-parse'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkRehype</span> <span class="token keyword module">from</span> <span class="token string">'remark-rehype'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeDocument</span> <span class="token keyword module">from</span> <span class="token string">'rehype-document'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeFormat</span> <span class="token keyword module">from</span> <span class="token string">'rehype-format'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeStringify</span> <span class="token keyword module">from</span> <span class="token string">'rehype-stringify'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>reporter<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vfile-reporter'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkParse<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkRehype<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeDocument<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'👋🌍'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeFormat<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeStringify<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">process</span><span class="token punctuation">(</span><span class="token string">'# Hello world!'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token function">reporter</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name">String</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token comment">// Handle your error here!</span>
</span><span class="code-line">      <span class="token keyword control-flow">throw</span> error
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span></code></pre>
<p>Yields:</p>
<pre class="language-txt"><code class="language-txt code-highlight"><span class="code-line">no issues found
</span></code></pre>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token doctype"><span class="token punctuation">&#x3C;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>head</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>title</span><span class="token punctuation">></span></span>👋🌍<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>title</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>head</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>body</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h1</span><span class="token punctuation">></span></span>Hello world!<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h1</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>body</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>html</span><span class="token punctuation">></span></span>
</span></code></pre>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="contents"><a aria-hidden="true" tabindex="-1" href="#contents"><span class="icon icon-link"></span></a>Contents</h2><div class="wrap-body">
<ul>
<li><a href="#description">Description</a></li>
<li><a href="#api">API</a>
<ul>
<li><a href="#processor"><code>processor()</code></a></li>
<li><a href="#processoruseplugin-options"><code>processor.use(plugin[, options])</code></a></li>
<li><a href="#processorparsefile"><code>processor.parse(file)</code></a></li>
<li><a href="#processorstringifynode-file"><code>processor.stringify(node[, file])</code></a></li>
<li><a href="#processorrunnode-file-done"><code>processor.run(node[, file][, done])</code></a></li>
<li><a href="#processorrunsyncnode-file"><code>processor.runSync(node[, file])</code></a></li>
<li><a href="#processorprocessfile-done"><code>processor.process(file[, done])</code></a></li>
<li><a href="#processorprocesssyncfilevalue"><code>processor.processSync(file|value)</code></a></li>
<li><a href="#processordatakey-value"><code>processor.data([key[, value]])</code></a></li>
<li><a href="#processorfreeze"><code>processor.freeze()</code></a></li>
</ul>
</li>
<li><a href="#plugin"><code>Plugin</code></a>
<ul>
<li><a href="#function-attacheroptions"><code>function attacher([options])</code></a></li>
<li><a href="#function-transformernode-file-next"><code>function transformer(node, file[, next])</code></a></li>
</ul>
</li>
<li><a href="#preset"><code>Preset</code></a></li>
<li><a href="#contribute">Contribute</a></li>
<li><a href="#acknowledgments">Acknowledgments</a></li>
<li><a href="#license">License</a></li>
</ul>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-exist"><div class="wrap-header h2wrap"><h2 id="description"><a aria-hidden="true" tabindex="-1" href="#description"><span class="icon icon-link"></span></a>Description</h2><div class="wrap-body">
<p><strong>unified</strong> is an interface for processing text using syntax trees.
Syntax trees are a representation of text understandable to programs.
Those programs, called <a href="#plugin"><em>plugin</em></a>s, take these trees and inspect and
modify them.
To get to the syntax tree from text, there is a <a href="#processorparser"><em>parser</em></a>.
To get from that back to text, there is a <a href="#processorcompiler"><em>compiler</em></a>.
This is the <a href="#processorprocessfile-done"><em>process</em></a> of a <em>processor</em>.</p>
<pre><code class="language-ascii code-highlight"><span class="code-line">| ........................ process ........................... |
</span><span class="code-line">| .......... parse ... | ... run ... | ... stringify ..........|
</span><span class="code-line">
</span><span class="code-line">          +--------+                     +----------+
</span><span class="code-line">Input ->- | Parser | ->- Syntax Tree ->- | Compiler | ->- Output
</span><span class="code-line">          +--------+          |          +----------+
</span><span class="code-line">                              X
</span><span class="code-line">                              |
</span><span class="code-line">                       +--------------+
</span><span class="code-line">                       | Transformers |
</span><span class="code-line">                       +--------------+
</span></code></pre>
</div></div><div class="h2wrap-body"><h6 id="processors"><a aria-hidden="true" tabindex="-1" href="#processors"><span class="icon icon-link"></span></a>Processors</h6>
<p>Every <strong>processor</strong> implements another processor.
To create a processor, call another processor.
The new processor is configured to work the same as its ancestor.
But when the descendant processor is configured in the future it does not affect
the ancestral processor.</p>
<p>When processors are exposed from a module (for example, <code>unified</code> itself) they
should not be configured directly, as that would change their behavior for all
module users.
Those processors are <a href="#processorfreeze"><em>frozen</em></a> and they should be called to create a
new processor before they are used.</p>
<h6 id="syntax-trees"><a aria-hidden="true" tabindex="-1" href="#syntax-trees"><span class="icon icon-link"></span></a>Syntax trees</h6>
<p>The <strong>syntax trees</strong> used in <strong>unified</strong> are <a href="https://github.com/syntax-tree/unist"><strong>unist</strong></a> nodes.
A <a href="https://github.com/syntax-tree/unist#node"><strong>node</strong></a> is a plain JavaScript objects with a <code>type</code> field.
The semantics of nodes and format of syntax trees is defined by other projects.</p>
<p>There are several <a href="https://github.com/syntax-tree/unist#list-of-utilities"><em>utilities</em></a> for working with nodes.</p>
<ul>
<li><a href="https://github.com/syntax-tree/esast"><strong>esast</strong></a> — JS</li>
<li><a href="https://github.com/syntax-tree/hast"><strong>hast</strong></a> — HTML</li>
<li><a href="https://github.com/syntax-tree/mdast"><strong>mdast</strong></a> — Markdown</li>
<li><a href="https://github.com/syntax-tree/nlcst"><strong>nlcst</strong></a> — Natural language</li>
<li><a href="https://github.com/syntax-tree/xast"><strong>xast</strong></a> — XML</li>
</ul>
<h6 id="list-of-processors"><a aria-hidden="true" tabindex="-1" href="#list-of-processors"><span class="icon icon-link"></span></a>List of processors</h6>
<p>The following projects process different <a href="#syntax-trees"><em>syntax tree</em></a> formats.
They parse text to a syntax tree and compile that back to text.
These processors can be used as is, or their parser and compiler can be mixed
and matched with <strong>unified</strong> and plugins to process between different syntaxes.</p>
<ul>
<li><a href="https://github.com/rehypejs/rehype"><strong>rehype</strong></a> (<a href="https://github.com/syntax-tree/hast"><em>hast</em></a>) — HTML</li>
<li><a href="https://github.com/remarkjs/remark"><strong>remark</strong></a> (<a href="https://github.com/syntax-tree/mdast"><em>mdast</em></a>) — Markdown</li>
<li><a href="https://github.com/retextjs/retext"><strong>retext</strong></a> (<a href="https://github.com/syntax-tree/nlcst"><em>nlcst</em></a>) — Natural language</li>
</ul>
<h6 id="list-of-plugins"><a aria-hidden="true" tabindex="-1" href="#list-of-plugins"><span class="icon icon-link"></span></a>List of plugins</h6>
<p>The below <a href="#plugin"><strong>plugins</strong></a> work with <strong>unified</strong>, on all <a href="#syntax-trees"><em>syntax
tree</em></a> formats:</p>
<ul>
<li><a href="https://github.com/unifiedjs/unified-diff"><code>unified-diff</code></a>
— Ignore messages for unchanged lines in Travis</li>
<li><a href="https://github.com/unifiedjs/unified-message-control"><code>unified-message-control</code></a>
— Enable, disable, and ignore messages</li>
</ul>
<p>See <a href="https://github.com/remarkjs/remark/blob/HEAD/doc/plugins.md#list-of-plugins"><strong>remark</strong></a>, <a href="https://github.com/rehypejs/rehype/blob/HEAD/doc/plugins.md#list-of-plugins"><strong>rehype</strong></a>, and
<a href="https://github.com/retextjs/retext/blob/HEAD/doc/plugins.md#list-of-plugins"><strong>retext</strong></a> for their lists of plugins.</p>
<h6 id="file"><a aria-hidden="true" tabindex="-1" href="#file"><span class="icon icon-link"></span></a>File</h6>
<p>When processing a document, <strong>metadata</strong> is often gathered about that document.
<a href="https://github.com/vfile/vfile"><strong>vfile</strong></a> is a virtual file format that stores data, metadata, and
messages about files for <strong>unified</strong> and its plugins.</p>
<p>There are several <a href="https://github.com/vfile/vfile#list-of-utilities"><em>utilities</em></a> for working with these files.</p>
<h6 id="configuration"><a aria-hidden="true" tabindex="-1" href="#configuration"><span class="icon icon-link"></span></a>Configuration</h6>
<p><a href="#processors"><em>Processors</em></a> are configured with <a href="#plugin"><em>plugin</em></a>s or
with the <a href="#processordatakey-value"><code>data</code></a> method.</p>
<h6 id="integrations"><a aria-hidden="true" tabindex="-1" href="#integrations"><span class="icon icon-link"></span></a>Integrations</h6>
<p><strong>unified</strong> can integrate with the file system with <a href="https://github.com/unifiedjs/unified-engine"><code>unified-engine</code></a>.
CLI apps can be created with <a href="https://github.com/unifiedjs/unified-args"><code>unified-args</code></a>, Gulp plugins with
<a href="https://github.com/unifiedjs/unified-engine-gulp"><code>unified-engine-gulp</code></a>, and Atom Linters with
<a href="https://github.com/unifiedjs/unified-engine-atom"><code>unified-engine-atom</code></a>.</p>
<p><a href="https://github.com/unifiedjs/unified-stream"><code>unified-stream</code></a> provides a streaming interface.</p>
<h6 id="programming-interface"><a aria-hidden="true" tabindex="-1" href="#programming-interface"><span class="icon icon-link"></span></a>Programming interface</h6>
<p>The API provided by <strong>unified</strong> allows multiple files to be processed and gives
access to <em>metadata</em> (such as lint messages):</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>unified<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unified'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkParse</span> <span class="token keyword module">from</span> <span class="token string">'remark-parse'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkPresetLintMarkdownStyleGuide</span> <span class="token keyword module">from</span> <span class="token string">'remark-preset-lint-markdown-style-guide'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkRetext</span> <span class="token keyword module">from</span> <span class="token string">'remark-retext'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">retextEnglish</span> <span class="token keyword module">from</span> <span class="token string">'retext-english'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">retextEquality</span> <span class="token keyword module">from</span> <span class="token string">'retext-equality'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkRehype</span> <span class="token keyword module">from</span> <span class="token string">'remark-rehype'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeStringify</span> <span class="token keyword module">from</span> <span class="token string">'rehype-stringify'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>reporter<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vfile-reporter'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkParse<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkPresetLintMarkdownStyleGuide<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkRetext<span class="token punctuation">,</span> <span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>retextEnglish<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>retextEquality<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkRehype<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeStringify<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">process</span><span class="token punctuation">(</span><span class="token string">'*Emphasis* and _stress_, you guys!'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token function">reporter</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name">String</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token comment">// Handle your error here!</span>
</span><span class="code-line">      <span class="token keyword control-flow">throw</span> error
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span></code></pre>
<p>Yields:</p>
<pre class="language-txt"><code class="language-txt code-highlight"><span class="code-line">  1:16-1:24  warning  Emphasis should use `*` as a marker                                  emphasis-marker  remark-lint
</span><span class="code-line">  1:30-1:34  warning  `guys` may be insensitive, use `people`, `persons`, `folks` instead  gals-man         retext-equality
</span><span class="code-line">
</span><span class="code-line">⚠ 2 warnings
</span></code></pre>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>em</span><span class="token punctuation">></span></span>Emphasis<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>em</span><span class="token punctuation">></span></span> and <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>em</span><span class="token punctuation">></span></span>stress<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>em</span><span class="token punctuation">></span></span>, you guys!<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span></code></pre>
<h6 id="processing-between-syntaxes"><a aria-hidden="true" tabindex="-1" href="#processing-between-syntaxes"><span class="icon icon-link"></span></a>Processing between syntaxes</h6>
<p><a href="#processors"><em>Processors</em></a> can be combined in two modes.</p>
<p><strong>Bridge</strong> mode transforms the <a href="#syntax-trees"><em>syntax tree</em></a> from one format
(<em>origin</em>) to another (<em>destination</em>).
Another processor runs on the destination tree.
Finally, the original processor continues transforming the origin tree.</p>
<p><strong>Mutate</strong> mode also transforms the syntax tree from one format to another.
But the original processor continues transforming the destination tree.</p>
<p>In the previous example (“Programming interface”), <code>remark-retext</code> is used in
<em>bridge</em> mode: the origin syntax tree is kept after <a href="https://github.com/retextjs/retext"><strong>retext</strong></a> is
done; whereas <code>remark-rehype</code> is used in <em>mutate</em> mode: it sets a new syntax
tree and discards the origin tree.</p>
<ul>
<li><a href="https://github.com/remarkjs/remark-retext"><code>remark-retext</code></a></li>
<li><a href="https://github.com/remarkjs/remark-rehype"><code>remark-rehype</code></a></li>
<li><a href="https://github.com/rehypejs/rehype-retext"><code>rehype-retext</code></a></li>
<li><a href="https://github.com/rehypejs/rehype-remark"><code>rehype-remark</code></a></li>
</ul>
</div></div><div class="wrap h2body-exist"><div class="wrap-header h2wrap"><h2 id="api"><a aria-hidden="true" tabindex="-1" href="#api"><span class="icon icon-link"></span></a>API</h2><div class="wrap-body">
<p>This package exports the following identifiers: <code>unified</code>.
There is no default export.</p>
</div></div><div class="h2wrap-body"><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="processor"><a aria-hidden="true" tabindex="-1" href="#processor"><span class="icon icon-link"></span></a><code>processor()</code></h3><div class="wrap-body">
<p><a href="#processors"><em>Processor</em></a> describing how to <em>process</em> text.</p>
<h6 id="returns"><a aria-hidden="true" tabindex="-1" href="#returns"><span class="icon icon-link"></span></a>Returns</h6>
<p><code>Function</code> — New <a href="#processorfreeze"><em>unfrozen</em></a> processor that is configured to work the
same as its ancestor.
When the descendant processor is configured in the future it does not affect the
ancestral processor.</p>
<h6 id="example"><a aria-hidden="true" tabindex="-1" href="#example"><span class="icon icon-link"></span></a>Example</h6>
<p>The following example shows how a new processor can be created (from the remark
processor) and linked to <strong>stdin</strong>(4) and <strong>stdout</strong>(4).</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>remark<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'remark'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">concatStream</span> <span class="token keyword module">from</span> <span class="token string">'concat-stream'</span>
</span><span class="code-line">
</span><span class="code-line">process<span class="token punctuation">.</span><span class="token property-access">stdin</span><span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token function">concatStream</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">buf</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">    process<span class="token punctuation">.</span><span class="token property-access">stdout</span><span class="token punctuation">.</span><span class="token method function property-access">write</span><span class="token punctuation">(</span><span class="token function">remark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">processSync</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span></code></pre>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="processoruseplugin-options"><a aria-hidden="true" tabindex="-1" href="#processoruseplugin-options"><span class="icon icon-link"></span></a><code>processor.use(plugin[, options])</code></h3><div class="wrap-body">
<p><a href="#configuration"><em>Configure</em></a> the processor to use a <a href="#plugin"><em>plugin</em></a> and
optionally configure that plugin with options.</p>
<p>If the processor is already using this plugin, the previous plugin configuration
is changed based on the options that are passed in.
The plugin is not added a second time.</p>
<h6 id="signatures"><a aria-hidden="true" tabindex="-1" href="#signatures"><span class="icon icon-link"></span></a>Signatures</h6>
<ul>
<li><code>processor.use(plugin[, options])</code></li>
<li><code>processor.use(preset)</code></li>
<li><code>processor.use(list)</code></li>
</ul>
<h6 id="parameters"><a aria-hidden="true" tabindex="-1" href="#parameters"><span class="icon icon-link"></span></a>Parameters</h6>
<ul>
<li><code>plugin</code> (<a href="#plugin"><code>Attacher</code></a>)</li>
<li><code>options</code> (<code>*</code>, optional) — Configuration for <code>plugin</code></li>
<li><code>preset</code> (<code>Object</code>) — Object with an optional <code>plugins</code> (set to <code>list</code>),
and/or an optional <code>settings</code> object</li>
<li><code>list</code> (<code>Array</code>) — List of plugins, presets, and pairs (<code>plugin</code> and
<code>options</code> in an array)</li>
</ul>
<h6 id="returns-1"><a aria-hidden="true" tabindex="-1" href="#returns-1"><span class="icon icon-link"></span></a>Returns</h6>
<p><code>processor</code> — The processor that <code>use</code> was called on.</p>
<h6 id="note"><a aria-hidden="true" tabindex="-1" href="#note"><span class="icon icon-link"></span></a>Note</h6>
<p><code>use</code> cannot be called on <a href="#processorfreeze"><em>frozen</em></a> processors.
Call the processor first to create a new unfrozen processor.</p>
<h6 id="example-1"><a aria-hidden="true" tabindex="-1" href="#example-1"><span class="icon icon-link"></span></a>Example</h6>
<p>There are many ways to pass plugins to <code>.use()</code>.
The below example gives an overview.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>unified<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unified'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token comment">// Plugin with options:</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>pluginA<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token comment">// Passing the same plugin again merges configuration (to `{x: true, y: false, z: true}`):</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>pluginA<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token comment">// Plugins:</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token punctuation">[</span>pluginB<span class="token punctuation">,</span> pluginC<span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token comment">// Two plugins, the second with options:</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token punctuation">[</span>pluginD<span class="token punctuation">,</span> <span class="token punctuation">[</span>pluginE<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token comment">// Preset with plugins and settings:</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>pluginF<span class="token punctuation">,</span> <span class="token punctuation">[</span>pluginG<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">settings</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token comment">// Settings only:</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">settings</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="processorparsefile"><a aria-hidden="true" tabindex="-1" href="#processorparsefile"><span class="icon icon-link"></span></a><code>processor.parse(file)</code></h3><div class="wrap-body">
<p>Parse text to a <a href="#syntax-trees"><em>syntax tree</em></a>.</p>
<h6 id="parameters-1"><a aria-hidden="true" tabindex="-1" href="#parameters-1"><span class="icon icon-link"></span></a>Parameters</h6>
<ul>
<li><code>file</code> (<a href="https://github.com/vfile/vfile"><code>VFile</code></a>) — <a href="#file"><em>File</em></a>, any value accepted by <code>vfile()</code></li>
</ul>
<h6 id="returns-2"><a aria-hidden="true" tabindex="-1" href="#returns-2"><span class="icon icon-link"></span></a>Returns</h6>
<p><a href="https://github.com/syntax-tree/unist#node"><code>Node</code></a> — Parsed <a href="#syntax-trees"><em>syntax tree</em></a> representing <code>file</code>.</p>
<h6 id="note-1"><a aria-hidden="true" tabindex="-1" href="#note-1"><span class="icon icon-link"></span></a>Note</h6>
<p><code>parse</code> freezes the processor if not already <a href="#processorfreeze"><em>frozen</em></a>.</p>
<p><code>parse</code> performs the <a href="#description"><em>parse phase</em></a>, not the <em>run phase</em> or other
phases.</p>
<h6 id="example-2"><a aria-hidden="true" tabindex="-1" href="#example-2"><span class="icon icon-link"></span></a>Example</h6>
<p>The below example shows how <code>parse</code> can be used to create a syntax tree from a
file.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>unified<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unified'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkParse</span> <span class="token keyword module">from</span> <span class="token string">'remark-parse'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> tree <span class="token operator">=</span> <span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkParse<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span><span class="token string">'# Hello world!'</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span>
</span></code></pre>
<p>Yields:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'root'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'heading'</span><span class="token punctuation">,</span> <span class="token literal-property property">depth</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token known-class-name class-name">Array</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token maybe-class-name">Position</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token literal-property property">start</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">column</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">end</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">column</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<h4 id="processorparser"><a aria-hidden="true" tabindex="-1" href="#processorparser"><span class="icon icon-link"></span></a><code>processor.Parser</code></h4>
<p>A <strong>parser</strong> handles the parsing of text to a <a href="#syntax-trees"><em>syntax tree</em></a>.
Used in the <a href="#description"><em>parse phase</em></a> and called with a <code>string</code> and
<a href="https://github.com/vfile/vfile"><code>VFile</code></a> representation of the text to parse.</p>
<p><code>Parser</code> can be a function, in which case it must return a <a href="https://github.com/syntax-tree/unist#node"><code>Node</code></a>: the
syntax tree representation of the given file.</p>
<p><code>Parser</code> can also be a constructor function (a function with a <code>parse</code> field, or
other fields, in its <code>prototype</code>), in which case it’s constructed with <code>new</code>.
Instances must have a <code>parse</code> method that is called without arguments and must
return a <a href="https://github.com/syntax-tree/unist#node"><code>Node</code></a>.</p>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="processorstringifynode-file"><a aria-hidden="true" tabindex="-1" href="#processorstringifynode-file"><span class="icon icon-link"></span></a><code>processor.stringify(node[, file])</code></h3><div class="wrap-body">
<p>Compile a <a href="#syntax-trees"><em>syntax tree</em></a>.</p>
<h6 id="parameters-2"><a aria-hidden="true" tabindex="-1" href="#parameters-2"><span class="icon icon-link"></span></a>Parameters</h6>
<ul>
<li><code>node</code> (<a href="https://github.com/syntax-tree/unist#node"><code>Node</code></a>) — <a href="#syntax-trees"><em>Syntax tree</em></a> to compile</li>
<li><code>file</code> (<a href="https://github.com/vfile/vfile"><code>VFile</code></a>, optional) — <a href="#file"><em>File</em></a>, any value accepted by
<code>vfile()</code></li>
</ul>
<h6 id="returns-3"><a aria-hidden="true" tabindex="-1" href="#returns-3"><span class="icon icon-link"></span></a>Returns</h6>
<p><code>string</code> or <code>Buffer</code> (see notes) — Textual representation of the <a href="#syntax-trees"><em>syntax
tree</em></a></p>
<h6 id="note-2"><a aria-hidden="true" tabindex="-1" href="#note-2"><span class="icon icon-link"></span></a>Note</h6>
<p><code>stringify</code> freezes the processor if not already <a href="#processorfreeze"><em>frozen</em></a>.</p>
<p><code>stringify</code> performs the <a href="#description"><em>stringify phase</em></a>, not the <em>run phase</em>
or other phases.</p>
<p>unified typically compiles by serializing: most <a href="#processorcompiler"><em>compiler</em></a>s return
<code>string</code> (or <code>Buffer</code>).
Some compilers, such as the one configured with <a href="https://github.com/rehypejs/rehype-react"><code>rehype-react</code></a>,
return other values (in this case, a React tree).
If you’re using a compiler doesn’t serialize, expect different result values.
When using TypeScript, cast the type on your side.</p>
<h6 id="example-3"><a aria-hidden="true" tabindex="-1" href="#example-3"><span class="icon icon-link"></span></a>Example</h6>
<p>The below example shows how <code>stringify</code> can be used to serialize a syntax tree.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>unified<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unified'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeStringify</span> <span class="token keyword module">from</span> <span class="token string">'rehype-stringify'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>h<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'hastscript'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> tree <span class="token operator">=</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">,</span> <span class="token string">'Hello world!'</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> doc <span class="token operator">=</span> <span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeStringify<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span>
</span></code></pre>
<p>Yields:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h1</span><span class="token punctuation">></span></span>Hello world!<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h1</span><span class="token punctuation">></span></span>
</span></code></pre>
<h4 id="processorcompiler"><a aria-hidden="true" tabindex="-1" href="#processorcompiler"><span class="icon icon-link"></span></a><code>processor.Compiler</code></h4>
<p>A <strong>compiler</strong> handles the compiling of a <a href="#syntax-trees"><em>syntax tree</em></a> to text.
Used in the <a href="#description"><em>stringify phase</em></a> and called with a <a href="https://github.com/syntax-tree/unist#node"><code>Node</code></a>
and <a href="#file"><code>VFile</code></a> representation of syntax tree to compile.</p>
<p><code>Compiler</code> can be a function, in which case it should return a <code>string</code>: the
textual representation of the syntax tree.</p>
<p><code>Compiler</code> can also be a constructor function (a function with a <code>compile</code>
field, or other fields, in its <code>prototype</code>), in which case it’s constructed with
<code>new</code>.
Instances must have a <code>compile</code> method that is called without arguments and
should return a <code>string</code>.</p>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="processorrunnode-file-done"><a aria-hidden="true" tabindex="-1" href="#processorrunnode-file-done"><span class="icon icon-link"></span></a><code>processor.run(node[, file][, done])</code></h3><div class="wrap-body">
<p>Run <a href="#function-transformernode-file-next"><em>transformers</em></a> on a <a href="#syntax-trees"><em>syntax tree</em></a>.</p>
<h6 id="parameters-3"><a aria-hidden="true" tabindex="-1" href="#parameters-3"><span class="icon icon-link"></span></a>Parameters</h6>
<ul>
<li><code>node</code> (<a href="https://github.com/syntax-tree/unist#node"><code>Node</code></a>) — <a href="#syntax-trees"><em>Syntax tree</em></a> to run on</li>
<li><code>file</code> (<a href="https://github.com/vfile/vfile"><code>VFile</code></a>, optional) — <a href="#file"><em>File</em></a>, any value accepted by
<code>vfile()</code></li>
<li><code>done</code> (<a href="#function-doneerr-node-file"><code>Function</code></a>, optional) — Callback</li>
</ul>
<h6 id="returns-4"><a aria-hidden="true" tabindex="-1" href="#returns-4"><span class="icon icon-link"></span></a>Returns</h6>
<p><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> if <code>done</code> is not given.
The returned promise is rejected with a fatal error, or resolved with the
transformed <a href="#syntax-trees"><em>syntax tree</em></a>.</p>
<h6 id="note-3"><a aria-hidden="true" tabindex="-1" href="#note-3"><span class="icon icon-link"></span></a>Note</h6>
<p><code>run</code> freezes the processor if not already <a href="#processorfreeze"><em>frozen</em></a>.</p>
<p><code>run</code> performs the <a href="#description"><em>run phase</em></a>, not other phases.</p>
<h4 id="function-doneerr-node-file"><a aria-hidden="true" tabindex="-1" href="#function-doneerr-node-file"><span class="icon icon-link"></span></a><code>function done(err[, node, file])</code></h4>
<p>Callback called when <a href="#function-transformernode-file-next"><em>transformers</em></a> are done.
Called with either an error or results.</p>
<h6 id="parameters-4"><a aria-hidden="true" tabindex="-1" href="#parameters-4"><span class="icon icon-link"></span></a>Parameters</h6>
<ul>
<li><code>err</code> (<code>Error</code>, optional) — Fatal error</li>
<li><code>node</code> (<a href="https://github.com/syntax-tree/unist#node"><code>Node</code></a>, optional) — Transformed <a href="#syntax-trees"><em>syntax tree</em></a></li>
<li><code>file</code> (<a href="https://github.com/vfile/vfile"><code>VFile</code></a>, optional) — <a href="#file"><em>File</em></a></li>
</ul>
<h6 id="example-4"><a aria-hidden="true" tabindex="-1" href="#example-4"><span class="icon icon-link"></span></a>Example</h6>
<p>The below example shows how <code>run</code> can be used to transform a syntax tree.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>unified<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unified'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkReferenceLinks</span> <span class="token keyword module">from</span> <span class="token string">'remark-reference-links'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>u<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unist-builder'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> tree <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
</span><span class="code-line">  <span class="token function">u</span><span class="token punctuation">(</span><span class="token string">'paragraph'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token function">u</span><span class="token punctuation">(</span><span class="token string">'link'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">href</span><span class="token operator">:</span> <span class="token string">'https://example.com'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token function">u</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">,</span> <span class="token string">'Example Domain'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkReferenceLinks<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">run</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">(</span><span class="token parameter">changedTree</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>changedTree<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token comment">// Handle your error here!</span>
</span><span class="code-line">      <span class="token keyword control-flow">throw</span> error
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span></code></pre>
<p>Yields:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'root'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'paragraph'</span><span class="token punctuation">,</span> <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token known-class-name class-name">Array</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'definition'</span><span class="token punctuation">,</span> <span class="token literal-property property">identifier</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token keyword nil">undefined</span><span class="token punctuation">,</span> <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token keyword nil">undefined</span><span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="processorrunsyncnode-file"><a aria-hidden="true" tabindex="-1" href="#processorrunsyncnode-file"><span class="icon icon-link"></span></a><code>processor.runSync(node[, file])</code></h3><div class="wrap-body">
<p>Run <a href="#function-transformernode-file-next"><em>transformers</em></a> on a <a href="#syntax-trees"><em>syntax tree</em></a>.</p>
<p>An error is thrown if asynchronous <a href="#plugin"><em>plugin</em></a>s are configured.</p>
<h6 id="parameters-5"><a aria-hidden="true" tabindex="-1" href="#parameters-5"><span class="icon icon-link"></span></a>Parameters</h6>
<ul>
<li><code>node</code> (<a href="https://github.com/syntax-tree/unist#node"><code>Node</code></a>) — <a href="#syntax-trees"><em>Syntax tree</em></a> to run on</li>
<li><code>file</code> (<a href="https://github.com/vfile/vfile"><code>VFile</code></a>, optional) — <a href="#file"><em>File</em></a>, any value accepted by
<code>vfile()</code></li>
</ul>
<h6 id="returns-5"><a aria-hidden="true" tabindex="-1" href="#returns-5"><span class="icon icon-link"></span></a>Returns</h6>
<p><a href="https://github.com/syntax-tree/unist#node"><code>Node</code></a> — Transformed <a href="#syntax-trees"><em>syntax tree</em></a>.</p>
<h6 id="note-4"><a aria-hidden="true" tabindex="-1" href="#note-4"><span class="icon icon-link"></span></a>Note</h6>
<p><code>runSync</code> freezes the processor if not already <a href="#processorfreeze"><em>frozen</em></a>.</p>
<p><code>runSync</code> performs the <a href="#description"><em>run phase</em></a>, not other phases.</p>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="processorprocessfile-done"><a aria-hidden="true" tabindex="-1" href="#processorprocessfile-done"><span class="icon icon-link"></span></a><code>processor.process(file[, done])</code></h3><div class="wrap-body">
<p><a href="#description"><em>Process</em></a> the given <a href="#file"><em>file</em></a> as configured on the
processor.</p>
<h6 id="parameters-6"><a aria-hidden="true" tabindex="-1" href="#parameters-6"><span class="icon icon-link"></span></a>Parameters</h6>
<ul>
<li><code>file</code> (<a href="https://github.com/vfile/vfile"><code>VFile</code></a>) — <a href="#file"><em>File</em></a>, any value accepted by <code>vfile()</code></li>
<li><code>done</code> (<a href="#function-doneerr-file"><code>Function</code></a>, optional) — Callback</li>
</ul>
<h6 id="returns-6"><a aria-hidden="true" tabindex="-1" href="#returns-6"><span class="icon icon-link"></span></a>Returns</h6>
<p><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> if <code>done</code> is not given.
The returned promise is rejected with a fatal error, or resolved with the
processed <a href="#file"><em>file</em></a>.</p>
<p>The parsed, transformed, and compiled value is exposed on
<a href="https://github.com/vfile/vfile#vfilevalue"><code>file.value</code></a> or <code>file.result</code> (see notes).</p>
<h6 id="note-5"><a aria-hidden="true" tabindex="-1" href="#note-5"><span class="icon icon-link"></span></a>Note</h6>
<p><code>process</code> freezes the processor if not already <a href="#processorfreeze"><em>frozen</em></a>.</p>
<p><code>process</code> performs the <a href="#description"><em>parse</em>, <em>run</em>, and <em>stringify</em> phases</a>.</p>
<p>unified typically compiles by serializing: most <a href="#processorcompiler"><em>compiler</em></a>s return
<code>string</code> (or <code>Buffer</code>).
Some compilers, such as the one configured with <a href="https://github.com/rehypejs/rehype-react"><code>rehype-react</code></a>,
return other values (in this case, a React tree).
If you’re using a compiler that serializes, the result is available at
<code>file.value</code>.
Otherwise, the result is available at <code>file.result</code>.</p>
<h6 id="example-5"><a aria-hidden="true" tabindex="-1" href="#example-5"><span class="icon icon-link"></span></a>Example</h6>
<p>The below example shows how <code>process</code> can be used to process a file, whether
transformers are asynchronous or not, with promises.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>unified<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unified'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkParse</span> <span class="token keyword module">from</span> <span class="token string">'remark-parse'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkRehype</span> <span class="token keyword module">from</span> <span class="token string">'remark-rehype'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeDocument</span> <span class="token keyword module">from</span> <span class="token string">'rehype-document'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeFormat</span> <span class="token keyword module">from</span> <span class="token string">'rehype-format'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeStringify</span> <span class="token keyword module">from</span> <span class="token string">'rehype-stringify'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkParse<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkRehype<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeDocument<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'👋🌍'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeFormat<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeStringify<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">process</span><span class="token punctuation">(</span><span class="token string">'# Hello world!'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name">String</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token comment">// Handle your error here!</span>
</span><span class="code-line">      <span class="token keyword control-flow">throw</span> error
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span></code></pre>
<p>Yields:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token doctype"><span class="token punctuation">&#x3C;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>head</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>title</span><span class="token punctuation">></span></span>👋🌍<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>title</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>head</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>body</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h1</span><span class="token punctuation">></span></span>Hello world!<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h1</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>body</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>html</span><span class="token punctuation">></span></span>
</span></code></pre>
<h4 id="function-doneerr-file"><a aria-hidden="true" tabindex="-1" href="#function-doneerr-file"><span class="icon icon-link"></span></a><code>function done(err, file)</code></h4>
<p>Callback called when the <a href="#description"><em>process</em></a> is done.
Called with a fatal error, if any, and a <a href="#file"><em>file</em></a>.</p>
<h6 id="parameters-7"><a aria-hidden="true" tabindex="-1" href="#parameters-7"><span class="icon icon-link"></span></a>Parameters</h6>
<ul>
<li><code>err</code> (<code>Error</code>, optional) — Fatal error</li>
<li><code>file</code> (<a href="https://github.com/vfile/vfile"><code>VFile</code></a>) — Processed <a href="#file"><em>file</em></a></li>
</ul>
<h6 id="example-6"><a aria-hidden="true" tabindex="-1" href="#example-6"><span class="icon icon-link"></span></a>Example</h6>
<p>The below example shows how <code>process</code> can be used to process a file, whether
transformers are asynchronous or not, with a callback.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>unified<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unified'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkParse</span> <span class="token keyword module">from</span> <span class="token string">'remark-parse'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkGithub</span> <span class="token keyword module">from</span> <span class="token string">'remark-github'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkStringify</span> <span class="token keyword module">from</span> <span class="token string">'remark-stringify'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>reporter<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vfile-reporter'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkParse<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkGithub<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkStringify<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">process</span><span class="token punctuation">(</span><span class="token string">'@unifiedjs'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token function">reporter</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name">String</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token comment">// Handle your error here!</span>
</span><span class="code-line">      <span class="token keyword control-flow">throw</span> error
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span></code></pre>
<p>Yields:</p>
<pre class="language-txt"><code class="language-txt code-highlight"><span class="code-line">no issues found
</span></code></pre>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line"><span class="token url">[<span class="token content"><span class="token bold"><span class="token punctuation">**</span><span class="token content">@unifiedjs</span><span class="token punctuation">**</span></span></span>](<span class="token url">https://github.com/unifiedjs</span>)</span>
</span></code></pre>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="processorprocesssyncfilevalue"><a aria-hidden="true" tabindex="-1" href="#processorprocesssyncfilevalue"><span class="icon icon-link"></span></a><code>processor.processSync(file|value)</code></h3><div class="wrap-body">
<p><a href="#description"><em>Process</em></a> the given <a href="#file"><em>file</em></a> as configured on the
processor.</p>
<p>An error is thrown if asynchronous <a href="#plugin"><em>plugin</em></a>s are configured.</p>
<h6 id="parameters-8"><a aria-hidden="true" tabindex="-1" href="#parameters-8"><span class="icon icon-link"></span></a>Parameters</h6>
<ul>
<li><code>file</code> (<a href="https://github.com/vfile/vfile"><code>VFile</code></a>) — <a href="#file"><em>File</em></a>, any value accepted by <code>vfile()</code></li>
</ul>
<h6 id="returns-7"><a aria-hidden="true" tabindex="-1" href="#returns-7"><span class="icon icon-link"></span></a>Returns</h6>
<p>(<a href="https://github.com/vfile/vfile"><code>VFile</code></a>) — Processed <a href="#file"><em>file</em></a></p>
<p>The parsed, transformed, and compiled value is exposed on
<a href="https://github.com/vfile/vfile#vfilevalue"><code>file.value</code></a> or <code>file.result</code> (see notes).</p>
<h6 id="note-6"><a aria-hidden="true" tabindex="-1" href="#note-6"><span class="icon icon-link"></span></a>Note</h6>
<p><code>processSync</code> freezes the processor if not already <a href="#processorfreeze"><em>frozen</em></a>.</p>
<p><code>processSync</code> performs the <a href="#description"><em>parse</em>, <em>run</em>, and <em>stringify</em>
phases</a>.</p>
<p>unified typically compiles by serializing: most <a href="#processorcompiler"><em>compiler</em></a>s return
<code>string</code> (or <code>Buffer</code>).
Some compilers, such as the one configured with <a href="https://github.com/rehypejs/rehype-react"><code>rehype-react</code></a>,
return other values (in this case, a React tree).
If you’re using a compiler that serializes, the result is available at
<code>file.value</code>.
Otherwise, the result is available at <code>file.result</code>.</p>
<h6 id="example-7"><a aria-hidden="true" tabindex="-1" href="#example-7"><span class="icon icon-link"></span></a>Example</h6>
<p>The below example shows how <code>processSync</code> can be used to process a file, if all
transformers are synchronous.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>unified<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unified'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkParse</span> <span class="token keyword module">from</span> <span class="token string">'remark-parse'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkRehype</span> <span class="token keyword module">from</span> <span class="token string">'remark-rehype'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeDocument</span> <span class="token keyword module">from</span> <span class="token string">'rehype-document'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeFormat</span> <span class="token keyword module">from</span> <span class="token string">'rehype-format'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeStringify</span> <span class="token keyword module">from</span> <span class="token string">'rehype-stringify'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> processor <span class="token operator">=</span> <span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkParse<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkRehype<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeDocument<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'👋🌍'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeFormat<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeStringify<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>processor<span class="token punctuation">.</span><span class="token method function property-access">processSync</span><span class="token punctuation">(</span><span class="token string">'# Hello world!'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span></code></pre>
<p>Yields:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token doctype"><span class="token punctuation">&#x3C;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>head</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>title</span><span class="token punctuation">></span></span>👋🌍<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>title</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>head</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>body</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h1</span><span class="token punctuation">></span></span>Hello world!<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h1</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>body</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>html</span><span class="token punctuation">></span></span>
</span></code></pre>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="processordatakey-value"><a aria-hidden="true" tabindex="-1" href="#processordatakey-value"><span class="icon icon-link"></span></a><code>processor.data([key[, value]])</code></h3><div class="wrap-body">
<p><a href="#configuration"><em>Configure</em></a> the processor with information available to all
<a href="#plugin"><em>plugin</em></a>s.
Information is stored in an in-memory key-value store.</p>
<p>Typically, options can be given to a specific plugin, but sometimes it makes
sense to have information shared with several plugins.
For example, a list of HTML elements that are self-closing, which is needed
during all <a href="#description"><em>phases</em></a> of the <em>process</em>.</p>
<h6 id="signatures-1"><a aria-hidden="true" tabindex="-1" href="#signatures-1"><span class="icon icon-link"></span></a>Signatures</h6>
<ul>
<li><code>processor = processor.data(key, value)</code></li>
<li><code>processor = processor.data(values)</code></li>
<li><code>value = processor.data(key)</code></li>
<li><code>info = processor.data()</code></li>
</ul>
<h6 id="parameters-9"><a aria-hidden="true" tabindex="-1" href="#parameters-9"><span class="icon icon-link"></span></a>Parameters</h6>
<ul>
<li><code>key</code> (<code>string</code>, optional) — Identifier</li>
<li><code>value</code> (<code>*</code>, optional) — Value to set</li>
<li><code>values</code> (<code>Object</code>, optional) — Values to set</li>
</ul>
<h6 id="returns-8"><a aria-hidden="true" tabindex="-1" href="#returns-8"><span class="icon icon-link"></span></a>Returns</h6>
<ul>
<li><code>processor</code> — If setting, the processor that <code>data</code> is called on</li>
<li><code>value</code> (<code>*</code>) — If getting, the value at <code>key</code></li>
<li><code>info</code> (<code>Object</code>) — Without arguments, the key-value store</li>
</ul>
<h6 id="note-7"><a aria-hidden="true" tabindex="-1" href="#note-7"><span class="icon icon-link"></span></a>Note</h6>
<p>Setting information cannot occur on <a href="#processorfreeze"><em>frozen</em></a> processors.
Call the processor first to create a new unfrozen processor.</p>
<h6 id="example-8"><a aria-hidden="true" tabindex="-1" href="#example-8"><span class="icon icon-link"></span></a>Example</h6>
<p>The following example show how to get and set information:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>unified<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unified'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> processor <span class="token operator">=</span> <span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">data</span><span class="token punctuation">(</span><span class="token string">'alpha'</span><span class="token punctuation">,</span> <span class="token string">'bravo'</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">processor<span class="token punctuation">.</span><span class="token method function property-access">data</span><span class="token punctuation">(</span><span class="token string">'alpha'</span><span class="token punctuation">)</span> <span class="token comment">// => 'bravo'</span>
</span><span class="code-line">
</span><span class="code-line">processor<span class="token punctuation">.</span><span class="token method function property-access">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// => {alpha: 'bravo'}</span>
</span><span class="code-line">
</span><span class="code-line">processor<span class="token punctuation">.</span><span class="token method function property-access">data</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">charlie</span><span class="token operator">:</span> <span class="token string">'delta'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">processor<span class="token punctuation">.</span><span class="token method function property-access">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// => {charlie: 'delta'}</span>
</span></code></pre>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="processorfreeze"><a aria-hidden="true" tabindex="-1" href="#processorfreeze"><span class="icon icon-link"></span></a><code>processor.freeze()</code></h3><div class="wrap-body">
<p><strong>Freeze</strong> a processor.
<em>Frozen</em> processors are meant to be extended and not to be configured directly.</p>
<p>Once a processor is frozen it cannot be <em>unfrozen</em>.
New processors working the same way can be created by calling the processor.</p>
<p>It’s possible to freeze processors explicitly by calling <code>.freeze()</code>.
Processors freeze implicitly when <a href="#processorparsefile"><code>.parse()</code></a>, <a href="#processorrunnode-file-done"><code>.run()</code></a>,
<a href="#processorrunsyncnode-file"><code>.runSync()</code></a>, <a href="#processorstringifynode-file"><code>.stringify()</code></a>, <a href="#processorprocessfile-done"><code>.process()</code></a>,
or <a href="#processorprocesssyncfilevalue"><code>.processSync()</code></a> are called.</p>
<h6 id="returns-9"><a aria-hidden="true" tabindex="-1" href="#returns-9"><span class="icon icon-link"></span></a>Returns</h6>
<p><code>processor</code> — The processor that <code>freeze</code> was called on.</p>
<h6 id="example-9"><a aria-hidden="true" tabindex="-1" href="#example-9"><span class="icon icon-link"></span></a>Example</h6>
<p>The following example, <code>index.js</code>, shows how rehype prevents extensions to
itself:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>unified<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unified'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkParse</span> <span class="token keyword module">from</span> <span class="token string">'rehype-parse'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkStringify</span> <span class="token keyword module">from</span> <span class="token string">'rehype-stringify'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> rehype <span class="token operator">=</span> <span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkParse<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkStringify<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">freeze</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre>
<p>The below example, <code>a.js</code>, shows how that processor can be used and configured.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>rehype<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'rehype'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeFormat</span> <span class="token keyword module">from</span> <span class="token string">'rehype-format'</span>
</span><span class="code-line"><span class="token comment">// …</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">rehype</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeFormat<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token comment">// …</span>
</span></code></pre>
<p>The below example, <code>b.js</code>, shows a similar looking example that operates on the
frozen rehype interface because it does not call <code>rehype</code>.
If this behavior was allowed it would result in unexpected behavior so an
error is thrown.
<strong>This is invalid</strong>:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>rehype<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'rehype'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeFormat</span> <span class="token keyword module">from</span> <span class="token string">'rehype-format'</span>
</span><span class="code-line"><span class="token comment">// …</span>
</span><span class="code-line">
</span><span class="code-line">rehype
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeFormat<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token comment">// …</span>
</span></code></pre>
<p>Yields:</p>
<pre class="language-txt"><code class="language-txt code-highlight"><span class="code-line">~/node_modules/unified/index.js:426
</span><span class="code-line">    throw new Error(
</span><span class="code-line">    ^
</span><span class="code-line">
</span><span class="code-line">Error: Cannot call `use` on a frozen processor.
</span><span class="code-line">Create a new processor first, by calling it: use `processor()` instead of `processor`.
</span><span class="code-line">    at assertUnfrozen (~/node_modules/unified/index.js:426:11)
</span><span class="code-line">    at Function.use (~/node_modules/unified/index.js:165:5)
</span><span class="code-line">    at ~/b.js:6:4
</span></code></pre>
</div></div></div></div></div><div class="wrap h2body-exist"><div class="wrap-header h2wrap"><h2 id="plugin"><a aria-hidden="true" tabindex="-1" href="#plugin"><span class="icon icon-link"></span></a><code>Plugin</code></h2><div class="wrap-body">
<p><strong>Plugins</strong> <a href="#configuration"><em>configure</em></a> the processors they are applied on in
the following ways:</p>
<ul>
<li>They change the processor: such as the <a href="#processorparser"><em>parser</em></a>, the
<a href="#processorcompiler"><em>compiler</em></a>, or configuring <a href="#processordatakey-value"><em>data</em></a></li>
<li>They specify how to handle <a href="#syntax-trees"><em>syntax trees</em></a> and <a href="#file"><em>files</em></a></li>
</ul>
<p>Plugins are a concept.
They materialize as <a href="#function-attacheroptions"><code>attacher</code></a>s.</p>
</div></div><div class="h2wrap-body"><h6 id="example-10"><a aria-hidden="true" tabindex="-1" href="#example-10"><span class="icon icon-link"></span></a>Example</h6>
<p><code>move.js</code>:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token parameter">options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span>extname<span class="token punctuation">}</span> <span class="token operator">=</span> options
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>extname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Missing `extname` in options'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">return</span> transformer
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">function</span> <span class="token function">transformer</span><span class="token punctuation">(</span><span class="token parameter">tree<span class="token punctuation">,</span> file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token property-access">extname</span> <span class="token operator">&#x26;&#x26;</span> file<span class="token punctuation">.</span><span class="token property-access">extname</span> <span class="token operator">!==</span> extname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      file<span class="token punctuation">.</span><span class="token property-access">extname</span> <span class="token operator">=</span> extname
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p><code>index.md</code>:</p>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line"><span class="token title important"><span class="token punctuation">#</span> Hello, world!</span>
</span></code></pre>
<p><code>index.js</code>:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>unified<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unified'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkParse</span> <span class="token keyword module">from</span> <span class="token string">'remark-parse'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkRehype</span> <span class="token keyword module">from</span> <span class="token string">'remark-rehype'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeStringify</span> <span class="token keyword module">from</span> <span class="token string">'rehype-stringify'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>toVFile<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'to-vfile'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>reporter<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vfile-reporter'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>move<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'./move.js'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkParse<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkRehype<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>move<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">extname</span><span class="token operator">:</span> <span class="token string">'.html'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeStringify<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">process</span><span class="token punctuation">(</span>toVFile<span class="token punctuation">.</span><span class="token method function property-access">readSync</span><span class="token punctuation">(</span><span class="token string">'index.md'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token function">reporter</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">      toVFile<span class="token punctuation">.</span><span class="token method function property-access">writeSync</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span> <span class="token comment">// Written to `index.html`.</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token comment">// Handle your error here!</span>
</span><span class="code-line">      <span class="token keyword control-flow">throw</span> error
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span></code></pre>
<p>Yields:</p>
<pre class="language-txt"><code class="language-txt code-highlight"><span class="code-line">index.md: no issues found
</span></code></pre>
<p>…and in <code>index.html</code>:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h1</span><span class="token punctuation">></span></span>Hello, world!<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h1</span><span class="token punctuation">></span></span>
</span></code></pre>
<div class="wrap h3body-not-exist"><div class="wrap-header h3wrap"><h3 id="function-attacheroptions"><a aria-hidden="true" tabindex="-1" href="#function-attacheroptions"><span class="icon icon-link"></span></a><code>function attacher([options])</code></h3><div class="wrap-body">
<p><strong>Attachers</strong> are materialized <a href="#plugin"><em>plugin</em></a>s.
An attacher is a function that can receive options and
<a href="#configuration"><em>configures</em></a> the processor.</p>
<p>Attachers change the processor, such as the <a href="#processorparser"><em>parser</em></a>, the
<a href="#processorcompiler"><em>compiler</em></a>, configuring <a href="#processordatakey-value"><em>data</em></a>, or by specifying how the
<a href="#syntax-trees"><em>syntax tree</em></a> or <a href="#file"><em>file</em></a> are handled.</p>
</div></div></div><h6 id="context"><a aria-hidden="true" tabindex="-1" href="#context"><span class="icon icon-link"></span></a>Context</h6>
<p>The context object (<code>this</code>) is set to the processor the attacher is applied on.</p>
<h6 id="parameters-10"><a aria-hidden="true" tabindex="-1" href="#parameters-10"><span class="icon icon-link"></span></a>Parameters</h6>
<ul>
<li><code>options</code> (<code>*</code>, optional) — Configuration</li>
</ul>
<h6 id="returns-10"><a aria-hidden="true" tabindex="-1" href="#returns-10"><span class="icon icon-link"></span></a>Returns</h6>
<p><a href="#function-transformernode-file-next"><code>transformer</code></a> — Optional.</p>
<h6 id="note-8"><a aria-hidden="true" tabindex="-1" href="#note-8"><span class="icon icon-link"></span></a>Note</h6>
<p>Attachers are called when the processor is <a href="#processorfreeze"><em>frozen</em></a>, not when they are
applied.</p>
<div class="wrap h3body-not-exist"><div class="wrap-header h3wrap"><h3 id="function-transformernode-file-next"><a aria-hidden="true" tabindex="-1" href="#function-transformernode-file-next"><span class="icon icon-link"></span></a><code>function transformer(node, file[, next])</code></h3><div class="wrap-body">
<p><strong>Transformers</strong> handle <a href="#syntax-trees"><em>syntax tree</em></a>s and <a href="#file"><em>file</em></a>s.
A transformer is a function that is called each time a syntax tree and file are
passed through the <a href="#description"><em>run phase</em></a>.
If an error occurs (either because it’s thrown, returned, rejected, or passed to
<a href="#function-nexterr-tree-file"><code>next</code></a>), the process stops.</p>
<p>The <em>run phase</em> is handled by <a href="https://github.com/wooorm/trough#function-fninput-next"><code>trough</code></a>, see its documentation for the
exact semantics of these functions.</p>
</div></div></div><h6 id="parameters-11"><a aria-hidden="true" tabindex="-1" href="#parameters-11"><span class="icon icon-link"></span></a>Parameters</h6>
<ul>
<li><code>node</code> (<a href="https://github.com/syntax-tree/unist#node"><code>Node</code></a>) — <a href="#syntax-trees"><em>Syntax tree</em></a> to handle</li>
<li><code>file</code> (<a href="https://github.com/vfile/vfile"><code>VFile</code></a>) — <a href="#file"><em>File</em></a> to handle</li>
<li><code>next</code> (<a href="#function-nexterr-tree-file"><code>Function</code></a>, optional)</li>
</ul>
<h6 id="returns-11"><a aria-hidden="true" tabindex="-1" href="#returns-11"><span class="icon icon-link"></span></a>Returns</h6>
<ul>
<li><code>void</code> — If nothing is returned, the next transformer keeps using same tree.</li>
<li><code>Error</code> — Fatal error to stop the process</li>
<li><code>node</code> (<a href="https://github.com/syntax-tree/unist#node"><code>Node</code></a>) — New <a href="#syntax-trees"><em>syntax tree</em></a>.
If returned, the next transformer is given this new tree</li>
<li><code>Promise</code> — Returned to perform an asynchronous operation.
The promise <strong>must</strong> be resolved (optionally with a <a href="https://github.com/syntax-tree/unist#node"><code>Node</code></a>) or
rejected (optionally with an <code>Error</code>)</li>
</ul>
<h4 id="function-nexterr-tree-file"><a aria-hidden="true" tabindex="-1" href="#function-nexterr-tree-file"><span class="icon icon-link"></span></a><code>function next(err[, tree[, file]])</code></h4>
<p>If the signature of a <a href="#function-transformernode-file-next"><em>transformer</em></a> includes <code>next</code> (the third
argument), the transformer <strong>may</strong> perform asynchronous operations, and <strong>must</strong>
call <code>next()</code>.</p>
<h6 id="parameters-12"><a aria-hidden="true" tabindex="-1" href="#parameters-12"><span class="icon icon-link"></span></a>Parameters</h6>
<ul>
<li><code>err</code> (<code>Error</code>, optional) — Fatal error to stop the process</li>
<li><code>node</code> (<a href="https://github.com/syntax-tree/unist#node"><code>Node</code></a>, optional) — New <a href="#syntax-trees"><em>syntax tree</em></a>.
If given, the next transformer is given this new tree</li>
<li><code>file</code> (<a href="https://github.com/vfile/vfile"><code>VFile</code></a>, optional) — New <a href="#file"><em>file</em></a>.
If given, the next transformer is given this new file</li>
</ul>
</div></div><div class="wrap h2body-exist"><div class="wrap-header h2wrap"><h2 id="preset"><a aria-hidden="true" tabindex="-1" href="#preset"><span class="icon icon-link"></span></a><code>Preset</code></h2><div class="wrap-body">
<p><strong>Presets</strong> are sharable <a href="#configuration"><em>configuration</em></a>.
They can contain <a href="#plugin"><em>plugins</em></a> and settings.</p>
</div></div><div class="h2wrap-body"><h6 id="example-11"><a aria-hidden="true" tabindex="-1" href="#example-11"><span class="icon icon-link"></span></a>Example</h6>
<p><code>preset.js</code>:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkPresetLintRecommended</span> <span class="token keyword module">from</span> <span class="token string">'remark-preset-lint-recommended'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkPresetLintConsistent</span> <span class="token keyword module">from</span> <span class="token string">'remark-preset-lint-consistent'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkCommentConfig</span> <span class="token keyword module">from</span> <span class="token string">'remark-comment-config'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkToc</span> <span class="token keyword module">from</span> <span class="token string">'remark-toc'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkLicense</span> <span class="token keyword module">from</span> <span class="token string">'remark-license'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> preset <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">settings</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">bullet</span><span class="token operator">:</span> <span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token literal-property property">emphasis</span><span class="token operator">:</span> <span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token literal-property property">fences</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">    remarkPresetLintRecommended<span class="token punctuation">,</span>
</span><span class="code-line">    remarkPresetLintConsistent<span class="token punctuation">,</span>
</span><span class="code-line">    remarkCommentConfig<span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">[</span>remarkToc<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">maxDepth</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">tight</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">    remarkLicense
</span><span class="code-line">  <span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p><code>example.md</code>:</p>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line"><span class="token title important"><span class="token punctuation">#</span> Hello, world!</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token italic"><span class="token punctuation">_</span><span class="token content">Emphasis</span><span class="token punctuation">_</span></span> and <span class="token bold"><span class="token punctuation">**</span><span class="token content">importance</span><span class="token punctuation">**</span></span>.
</span><span class="code-line">
</span><span class="code-line"><span class="token title important"><span class="token punctuation">##</span> Table of contents</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token title important"><span class="token punctuation">##</span> API</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token title important"><span class="token punctuation">##</span> License</span>
</span></code></pre>
<p><code>index.js</code>:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>remark<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'remark'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>toVFile<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'to-vfile'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>reporter<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vfile-reporter'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>preset<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'./preset.js'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">remark</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>preset<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">process</span><span class="token punctuation">(</span>toVFile<span class="token punctuation">.</span><span class="token method function property-access">readSync</span><span class="token punctuation">(</span><span class="token string">'example.md'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token function">reporter</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">      toVFile<span class="token punctuation">.</span><span class="token method function property-access">writeSync</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token comment">// Handle your error here!</span>
</span><span class="code-line">      <span class="token keyword control-flow">throw</span> error
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span></code></pre>
<p>Yields:</p>
<pre class="language-txt"><code class="language-txt code-highlight"><span class="code-line">example.md: no issues found
</span></code></pre>
<p><code>example.md</code> now contains:</p>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line"><span class="token title important"><span class="token punctuation">#</span> Hello, world!</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token italic"><span class="token punctuation">*</span><span class="token content">Emphasis</span><span class="token punctuation">*</span></span> and <span class="token bold"><span class="token punctuation">**</span><span class="token content">importance</span><span class="token punctuation">**</span></span>.
</span><span class="code-line">
</span><span class="code-line"><span class="token title important"><span class="token punctuation">##</span> Table of contents</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token list punctuation">*</span>   <span class="token url">[<span class="token content">API</span>](<span class="token url">#api</span>)</span>
</span><span class="code-line"><span class="token list punctuation">*</span>   <span class="token url">[<span class="token content">License</span>](<span class="token url">#license</span>)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token title important"><span class="token punctuation">##</span> API</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token title important"><span class="token punctuation">##</span> License</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token url">[<span class="token content">MIT</span>](<span class="token url">license</span>)</span> © <span class="token url">[<span class="token content">Titus Wormer</span>](<span class="token url">https://wooorm.com</span>)</span>
</span></code></pre>
</div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="contribute"><a aria-hidden="true" tabindex="-1" href="#contribute"><span class="icon icon-link"></span></a>Contribute</h2><div class="wrap-body">
<p>See <a href="https://github.com/unifiedjs/.github/blob/HEAD/contributing.md"><code>contributing.md</code></a> in <a href="https://github.com/unifiedjs/.github"><code>unifiedjs/.github</code></a> for ways
to get started.
See <a href="https://github.com/unifiedjs/.github/blob/HEAD/support.md"><code>support.md</code></a> for ways to get help.
Ideas for new plugins and tools can be posted in <a href="https://github.com/unifiedjs/ideas"><code>unifiedjs/ideas</code></a>.</p>
<p>A curated list of awesome unified resources can be found in <a href="https://github.com/unifiedjs/awesome-unified"><strong>awesome
unified</strong></a>.</p>
<p>This project has a <a href="https://github.com/unifiedjs/.github/blob/HEAD/code-of-conduct.md">code of conduct</a>.
By interacting with this repository, organization, or community you agree to
abide by its terms.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="acknowledgments"><a aria-hidden="true" tabindex="-1" href="#acknowledgments"><span class="icon icon-link"></span></a>Acknowledgments</h2><div class="wrap-body">
<p>Preliminary work for unified was done <a href="https://github.com/retextjs/retext/commit/8fcb1f#diff-168726dbe96b3ce427e7fedce31bb0bc">in 2014</a> for
<a href="https://github.com/retextjs/retext"><strong>retext</strong></a> and inspired by <a href="https://github.com/segmentio/ware"><code>ware</code></a>.
Further incubation happened in <a href="https://github.com/remarkjs/remark"><strong>remark</strong></a>.
The project was finally <a href="https://github.com/remarkjs/remark/commit/9892ec#diff-168726dbe96b3ce427e7fedce31bb0bc">externalised</a> in 2015 and <a href="https://github.com/unifiedjs/unified/commit/2ba1cf">published</a> as <code>unified</code>.
The project was authored by <a href="https://github.com/wooorm"><strong>@wooorm</strong></a>.</p>
<p>Although <code>unified</code> since moved its plugin architecture to <a href="https://github.com/wooorm/trough#function-fninput-next"><code>trough</code></a>,
thanks to <a href="https://github.com/calvinfo"><strong>@calvinfo</strong></a>,
<a href="https://github.com/ianstormtaylor"><strong>@ianstormtaylor</strong></a>, and others for their
work on <a href="https://github.com/segmentio/ware"><code>ware</code></a>, as it was a huge initial inspiration.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="license"><a aria-hidden="true" tabindex="-1" href="#license"><span class="icon icon-link"></span></a>License</h2><div class="wrap-body">
<p><a href="license">MIT</a> © <a href="https://wooorm.com">Titus Wormer</a></p>
<!-- Definitions -->
</div></div><div class="h2wrap-body"></div></div></div></div><footer class="footer-wrap"><footer class="max-container">© 2022 Kenny Wang.</footer></footer><script>
if(('onhashchange' in window) && ((typeof document.documentMode==='undefined') || document.documentMode==8)) {
  window.onhashchange = function () {
    anchorPoint()
    updateAnchor()
  };
}
function anchorPoint() {
  const hash = window.location.hash?.replace(/^#/, '') || '';
  const elm = document.getElementById(decodeURIComponent(hash));
  Array.from(document.querySelectorAll('.h2wrap-body .wrap')).forEach((elm) => elm.classList.remove('active'))
  if (elm?.tagName === 'H3') {
    elm?.parentElement?.parentElement?.classList.add('active');
  }
}
anchorPoint();

function updateAnchor(element) {
  const anchorContainer = document.querySelectorAll('.menu-tocs .menu-modal a.tocs-link');
  anchorContainer.forEach((tocanchor) => {
    tocanchor.classList.remove('is-active-link');
  });
  const anchor = element || document.querySelector(`a.tocs-link[href='${decodeURIComponent(window.location.hash)}']`);
  if (anchor) {
    anchor.classList.add('is-active-link');
  }
}
// toc 定位
updateAnchor()
const anchor = document.querySelectorAll('.menu-tocs .menu-modal a.tocs-link');
anchor.forEach((item) => {
  item.addEventListener('click', (e) => {
    updateAnchor()
  })
})
</script></body>
</html>
