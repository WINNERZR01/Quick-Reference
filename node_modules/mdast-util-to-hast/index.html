<!doctype html>
<html lang="en" data-color-mode="dark">
<head>
<meta charset="utf-8">
<title># mdast-util-to-hast

[![Build][build-badge]][build]
[![Coverage][coverage-badge]][coverage]
[![Downloads][downloads-badge]][downloads]
[![Size][size-badge]][size]
[![Sponsors][sponsors-badge]][collective]
[![Backers][backers-badge]][collective]
[![Chat][chat-badge]][chat]

[mdast][] utility to transform to [hast][].

## Contents

*   [What is this?](#what-is-this)
*   [When should I use this?](#when-should-i-use-this)
*   [Install](#install)
*   [Use](#use)
*   [API](#api)
    *   [`toHast(node[, options])`](#tohastnode-options)
    *   [`defaultHandlers`](#defaulthandlers)
    *   [`all(h, parent)`](#allh-parent)
    *   [`one(h, node, parent)`](#oneh-node-parent)
*   [Examples](#examples)
    *   [Example: supporting HTML in markdown naïvely](#example-supporting-html-in-markdown-naïvely)
    *   [Example: supporting HTML in markdown properly](#example-supporting-html-in-markdown-properly)
    *   [Example: footnotes in languages other than English](#example-footnotes-in-languages-other-than-english)
    *   [Example: supporting custom nodes](#example-supporting-custom-nodes)
*   [Algorithm](#algorithm)
*   [CSS](#css)
*   [Syntax tree](#syntax-tree)
    *   [Nodes](#nodes)
*   [Types](#types)
*   [Compatibility](#compatibility)
*   [Security](#security)
*   [Related](#related)
*   [Contribute](#contribute)
*   [License](#license)

## What is this?

This package is a utility that takes an [mdast][] (markdown) syntax tree as
input and turns it into a [hast][] (HTML) syntax tree.

## When should I use this?

This project is useful when you want to deal with ASTs and turn markdown to
HTML.

The hast utility [`hast-util-to-mdast`][hast-util-to-mdast] does the inverse of
this utility.
It turns HTML into markdown.

The remark plugin [`remark-rehype`][remark-rehype] wraps this utility to also
turn markdown to HTML at a higher-level (easier) abstraction.

## Install

This package is [ESM only][esm].
In Node.js (version 12.20+, 14.14+, or 16.0+), install with [npm][]:

```sh
npm install mdast-util-to-hast
```

In Deno with [`esm.sh`][esmsh]:

```js
import {toHast} from "https://esm.sh/mdast-util-to-hast@12"
```

In browsers with [`esm.sh`][esmsh]:

```html
&#x3C;script type &#x26;  index cheatsheet &#x26;  Quick Reference</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta description="为开发人员分享快速参考备忘单。">
<meta keywords="Quick,Reference,cheatsheet,index">
<link rel="icon" href="data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%221em%22%20width%3D%221em%22%3E%20%3Cpath%20d%3D%22m21.66%2010.44-.98%204.18c-.84%203.61-2.5%205.07-5.62%204.77-.5-.04-1.04-.13-1.62-.27l-1.68-.4c-4.17-.99-5.46-3.05-4.48-7.23l.98-4.19c.2-.85.44-1.59.74-2.2%201.17-2.42%203.16-3.07%206.5-2.28l1.67.39c4.19.98%205.47%203.05%204.49%207.23Z%22%20fill%3D%22%23c9d1d9%22%2F%3E%20%3Cpath%20d%3D%22M15.06%2019.39c-.62.42-1.4.77-2.35%201.08l-1.58.52c-3.97%201.28-6.06.21-7.35-3.76L2.5%2013.28c-1.28-3.97-.22-6.07%203.75-7.35l1.58-.52c.41-.13.8-.24%201.17-.31-.3.61-.54%201.35-.74%202.2l-.98%204.19c-.98%204.18.31%206.24%204.48%207.23l1.68.4c.58.14%201.12.23%201.62.27Zm2.43-8.88c-.06%200-.12-.01-.19-.02l-4.85-1.23a.75.75%200%200%201%20.37-1.45l4.85%201.23a.748.748%200%200%201-.18%201.47Z%22%20fill%3D%22%23228e6c%22%20%2F%3E%20%3Cpath%20d%3D%22M14.56%2013.89c-.06%200-.12-.01-.19-.02l-2.91-.74a.75.75%200%200%201%20.37-1.45l2.91.74c.4.1.64.51.54.91-.08.34-.38.56-.72.56Z%22%20fill%3D%22%23228e6c%22%20%2F%3E%20%3C%2Fsvg%3E" type="image/svg+xml">
<link rel="stylesheet" href="..\..\style\style.css">
<link rel="stylesheet" href="..\..\style\katex.css">
</head>
<body><nav class="header-nav"><div class="max-container"><a href="..\..\index.html" class="logo"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" height="1em" width="1em">
  <path d="m21.66 10.44-.98 4.18c-.84 3.61-2.5 5.07-5.62 4.77-.5-.04-1.04-.13-1.62-.27l-1.68-.4c-4.17-.99-5.46-3.05-4.48-7.23l.98-4.19c.2-.85.44-1.59.74-2.2 1.17-2.42 3.16-3.07 6.5-2.28l1.67.39c4.19.98 5.47 3.05 4.49 7.23Z" fill="#c9d1d9"></path>
  <path d="M15.06 19.39c-.62.42-1.4.77-2.35 1.08l-1.58.52c-3.97 1.28-6.06.21-7.35-3.76L2.5 13.28c-1.28-3.97-.22-6.07 3.75-7.35l1.58-.52c.41-.13.8-.24 1.17-.31-.3.61-.54 1.35-.74 2.2l-.98 4.19c-.98 4.18.31 6.24 4.48 7.23l1.68.4c.58.14 1.12.23 1.62.27Zm2.43-8.88c-.06 0-.12-.01-.19-.02l-4.85-1.23a.75.75 0 0 1 .37-1.45l4.85 1.23a.748.748 0 0 1-.18 1.47Z" fill="#228e6c"></path>
  <path d="M14.56 13.89c-.06 0-.12-.01-.19-.02l-2.91-.74a.75.75 0 0 1 .37-1.45l2.91.74c.4.1.64.51.54.91-.08.34-.38.56-.72.56Z" fill="#228e6c"></path>
</svg>
<span class="title">Quick Reference</span></a><div class="menu"><a href="https://github.com/jaywcjlove/reference/blob/main/node_modules/mdast-util-to-hast\readme.md" class="" target="__blank"><svg viewBox="0 0 36 36" fill="currentColor" height="1em" width="1em"><path d="m33 6.4-3.7-3.7a1.71 1.71 0 0 0-2.36 0L23.65 6H6a2 2 0 0 0-2 2v22a2 2 0 0 0 2 2h22a2 2 0 0 0 2-2V11.76l3-3a1.67 1.67 0 0 0 0-2.36ZM18.83 20.13l-4.19.93 1-4.15 9.55-9.57 3.23 3.23ZM29.5 9.43 26.27 6.2l1.85-1.85 3.23 3.23Z"></path><path fill="none" d="M0 0h36v36H0z"></path></svg><span>编辑</span></a><button id="darkMode" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="light" height="1em" width="1em">
  <path d="M6.995 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007-2.246-5.007-5.007-5.007S6.995 9.239 6.995 12zM11 19h2v3h-2zm0-17h2v3h-2zm-9 9h3v2H2zm17 0h3v2h-3zM5.637 19.778l-1.414-1.414 2.121-2.121 1.414 1.414zM16.242 6.344l2.122-2.122 1.414 1.414-2.122 2.122zM6.344 7.759 4.223 5.637l1.415-1.414 2.12 2.122zm13.434 10.605-1.414 1.414-2.122-2.122 1.414-1.414z"></path>
</svg>
<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="dark" height="1em" width="1em">
  <path d="M12 11.807A9.002 9.002 0 0 1 10.049 2a9.942 9.942 0 0 0-5.12 2.735c-3.905 3.905-3.905 10.237 0 14.142 3.906 3.906 10.237 3.905 14.143 0a9.946 9.946 0 0 0 2.735-5.119A9.003 9.003 0 0 1 12 11.807z"></path>
</svg>
</button><script>
  const LOCAL_NANE = '_dark_mode_theme_'
  const rememberedValue = localStorage.getItem(LOCAL_NANE);
  if (rememberedValue && ['light', 'dark'].includes(rememberedValue)) {
    document.documentElement.setAttribute('data-color-mode', rememberedValue);
  }
  const button = document.querySelector('#darkMode');
  button.onclick = () => {
    const theme = document.documentElement.dataset.colorMode;
    const mode = theme === 'light' ? 'dark' : 'light';
    document.documentElement.setAttribute('data-color-mode', mode);
    localStorage.setItem(LOCAL_NANE, mode);
  }
</script><a href="https://github.com/jaywcjlove/reference" class="" target="__blank"><svg viewBox="0 0 16 16" fill="currentColor" height="1em" width="1em"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a></div></div></nav><div class="wrap h1body-exist max-container"><header class="wrap-header h1wrap"><h1 id="mdast-util-to-hast"><a aria-hidden="true" tabindex="-1" href="#mdast-util-to-hast"><span class="icon icon-link"></span></a>mdast-util-to-hast</h1><div class="wrap-body">
<p><a href="https://github.com/syntax-tree/mdast-util-to-hast/actions"><img src="https://github.com/syntax-tree/mdast-util-to-hast/workflows/main/badge.svg" alt="Build"></a>
<a href="https://codecov.io/github/syntax-tree/mdast-util-to-hast"><img src="https://img.shields.io/codecov/c/github/syntax-tree/mdast-util-to-hast.svg" alt="Coverage"></a>
<a href="https://www.npmjs.com/package/mdast-util-to-hast"><img src="https://img.shields.io/npm/dm/mdast-util-to-hast.svg" alt="Downloads"></a>
<a href="https://bundlephobia.com/result?p=mdast-util-to-hast"><img src="https://img.shields.io/bundlephobia/minzip/mdast-util-to-hast.svg" alt="Size"></a>
<a href="https://opencollective.com/unified"><img src="https://opencollective.com/unified/sponsors/badge.svg" alt="Sponsors"></a>
<a href="https://opencollective.com/unified"><img src="https://opencollective.com/unified/backers/badge.svg" alt="Backers"></a>
<a href="https://github.com/syntax-tree/unist/discussions"><img src="https://img.shields.io/badge/chat-discussions-success.svg" alt="Chat"></a></p>
<p><a href="https://github.com/syntax-tree/mdast">mdast</a> utility to transform to <a href="https://github.com/syntax-tree/hast">hast</a>.</p>
</div></header><div class="menu-tocs"><div class="menu-btn"><svg aria-hidden="true" fill="currentColor" height="1em" width="1em" viewBox="0 0 16 16" version="1.1" data-view-component="true">
  <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
</svg></div><div class="menu-modal"><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#contents">Contents</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#what-is-this">What is this?</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#when-should-i-use-this">When should I use this?</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#install">Install</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#use">Use</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#api">API</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#tohastnode-options">toHast(node[, options])</a><a aria-hidden="true" class="leve5 tocs-link" data-num="5" href="#options">options</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsallowdangeroushtml">options.allowDangerousHtml</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsclobberprefix">options.clobberPrefix</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsfootnotelabel">options.footnoteLabel</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsfootnotelabeltagname">options.footnoteLabelTagName</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsfootnotelabelproperties">options.footnoteLabelProperties</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsfootnotebacklabel">options.footnoteBackLabel</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionshandlers">options.handlers</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionspassthrough">options.passThrough</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsunknownhandler">options.unknownHandler</a><a aria-hidden="true" class="leve5 tocs-link" data-num="5" href="#returns">Returns</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#defaulthandlers">defaultHandlers</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#allh-parent">all(h, parent)</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#oneh-node-parent">one(h, node, parent)</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#examples">Examples</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#example-supporting-html-in-markdown-naïvely">Example: supporting HTML in markdown naïvely</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#example-supporting-html-in-markdown-properly">Example: supporting HTML in markdown properly</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#example-footnotes-in-languages-other-than-english">Example: footnotes in languages other than English</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#example-supporting-custom-nodes">Example: supporting custom nodes</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#algorithm">Algorithm</a><a aria-hidden="true" class="leve5 tocs-link" data-num="5" href="#default-handling">Default handling</a><a aria-hidden="true" class="leve5 tocs-link" data-num="5" href="#fields-on-nodes">Fields on nodes</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#hname">hName</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#hproperties">hProperties</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#hchildren">hChildren</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#css">CSS</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#syntax-tree">Syntax tree</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#nodes">Nodes</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#raw">Raw</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#types">Types</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#compatibility">Compatibility</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#security">Security</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#related">Related</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#contribute">Contribute</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#license">License</a></div></div><div class="h1wrap-body"><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="contents"><a aria-hidden="true" tabindex="-1" href="#contents"><span class="icon icon-link"></span></a>Contents</h2><div class="wrap-body">
<ul>
<li><a href="#what-is-this">What is this?</a></li>
<li><a href="#when-should-i-use-this">When should I use this?</a></li>
<li><a href="#install">Install</a></li>
<li><a href="#use">Use</a></li>
<li><a href="#api">API</a>
<ul>
<li><a href="#tohastnode-options"><code>toHast(node[, options])</code></a></li>
<li><a href="#defaulthandlers"><code>defaultHandlers</code></a></li>
<li><a href="#allh-parent"><code>all(h, parent)</code></a></li>
<li><a href="#oneh-node-parent"><code>one(h, node, parent)</code></a></li>
</ul>
</li>
<li><a href="#examples">Examples</a>
<ul>
<li><a href="#example-supporting-html-in-markdown-na%C3%AFvely">Example: supporting HTML in markdown naïvely</a></li>
<li><a href="#example-supporting-html-in-markdown-properly">Example: supporting HTML in markdown properly</a></li>
<li><a href="#example-footnotes-in-languages-other-than-english">Example: footnotes in languages other than English</a></li>
<li><a href="#example-supporting-custom-nodes">Example: supporting custom nodes</a></li>
</ul>
</li>
<li><a href="#algorithm">Algorithm</a></li>
<li><a href="#css">CSS</a></li>
<li><a href="#syntax-tree">Syntax tree</a>
<ul>
<li><a href="#nodes">Nodes</a></li>
</ul>
</li>
<li><a href="#types">Types</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#security">Security</a></li>
<li><a href="#related">Related</a></li>
<li><a href="#contribute">Contribute</a></li>
<li><a href="#license">License</a></li>
</ul>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="what-is-this"><a aria-hidden="true" tabindex="-1" href="#what-is-this"><span class="icon icon-link"></span></a>What is this?</h2><div class="wrap-body">
<p>This package is a utility that takes an <a href="https://github.com/syntax-tree/mdast">mdast</a> (markdown) syntax tree as
input and turns it into a <a href="https://github.com/syntax-tree/hast">hast</a> (HTML) syntax tree.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="when-should-i-use-this"><a aria-hidden="true" tabindex="-1" href="#when-should-i-use-this"><span class="icon icon-link"></span></a>When should I use this?</h2><div class="wrap-body">
<p>This project is useful when you want to deal with ASTs and turn markdown to
HTML.</p>
<p>The hast utility <a href="https://github.com/syntax-tree/hast-util-to-mdast"><code>hast-util-to-mdast</code></a> does the inverse of
this utility.
It turns HTML into markdown.</p>
<p>The remark plugin <a href="https://github.com/remarkjs/remark-rehype"><code>remark-rehype</code></a> wraps this utility to also
turn markdown to HTML at a higher-level (easier) abstraction.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="install"><a aria-hidden="true" tabindex="-1" href="#install"><span class="icon icon-link"></span></a>Install</h2><div class="wrap-body">
<p>This package is <a href="https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c">ESM only</a>.
In Node.js (version 12.20+, 14.14+, or 16.0+), install with <a href="https://docs.npmjs.com/cli/install">npm</a>:</p>
<pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line"><span class="token function">npm</span> <span class="token function">install</span> mdast-util-to-hast
</span></code></pre>
<p>In Deno with <a href="https://esm.sh"><code>esm.sh</code></a>:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>toHast<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">"https://esm.sh/mdast-util-to-hast@12"</span>
</span></code></pre>
<p>In browsers with <a href="https://esm.sh"><code>esm.sh</code></a>:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>toHast<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">"https://esm.sh/mdast-util-to-hast@12?bundle"</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>
</span></code></pre>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="use"><a aria-hidden="true" tabindex="-1" href="#use"><span class="icon icon-link"></span></a>Use</h2><div class="wrap-body">
<p>Say we have the following <code>example.md</code>:</p>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line"><span class="token title important"><span class="token punctuation">##</span> Hello **World**!</span>
</span></code></pre>
<p>…and next to it a module <code>example.js</code>:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>promises <span class="token keyword module">as</span> fs<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'node:fs'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>fromMarkdown<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'mdast-util-from-markdown'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>toHast<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'mdast-util-to-hast'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>toHtml<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'hast-util-to-html'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> markdown <span class="token operator">=</span> <span class="token known-class-name class-name">String</span><span class="token punctuation">(</span><span class="token keyword control-flow">await</span> fs<span class="token punctuation">.</span><span class="token method function property-access">readFile</span><span class="token punctuation">(</span><span class="token string">'example.md'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> mdast <span class="token operator">=</span> <span class="token function">fromMarkdown</span><span class="token punctuation">(</span>markdown<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> hast <span class="token operator">=</span> <span class="token function">toHast</span><span class="token punctuation">(</span>mdast<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token function">toHtml</span><span class="token punctuation">(</span>hast<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>
</span></code></pre>
<p>…now running <code>node example.js</code> yields:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h2</span><span class="token punctuation">></span></span>Hello <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>strong</span><span class="token punctuation">></span></span>World<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>strong</span><span class="token punctuation">></span></span>!<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h2</span><span class="token punctuation">></span></span>
</span></code></pre>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-exist"><div class="wrap-header h2wrap"><h2 id="api"><a aria-hidden="true" tabindex="-1" href="#api"><span class="icon icon-link"></span></a>API</h2><div class="wrap-body">
<p>This package exports the identifiers <code>toHast</code>, <code>defaultHandlers</code>, <code>all</code>, and
<code>one</code>.
There is no default export.</p>
</div></div><div class="h2wrap-body"><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="tohastnode-options"><a aria-hidden="true" tabindex="-1" href="#tohastnode-options"><span class="icon icon-link"></span></a><code>toHast(node[, options])</code></h3><div class="wrap-body">
<p><a href="https://github.com/syntax-tree/mdast">mdast</a> utility to transform to <a href="https://github.com/syntax-tree/hast">hast</a>.</p>
<h5 id="options"><a aria-hidden="true" tabindex="-1" href="#options"><span class="icon icon-link"></span></a><code>options</code></h5>
<p>Configuration (optional).</p>
<h6 id="optionsallowdangeroushtml"><a aria-hidden="true" tabindex="-1" href="#optionsallowdangeroushtml"><span class="icon icon-link"></span></a><code>options.allowDangerousHtml</code></h6>
<p>Whether to persist raw HTML in markdown in the hast tree (<code>boolean</code>, default:
<code>false</code>).
Raw HTML is available in mdast as <a href="https://github.com/syntax-tree/mdast#html"><code>html</code></a> nodes and can be embedded
in hast as semistandard <code>raw</code> nodes.
Most utilities ignore <code>raw</code> nodes but two notable ones don’t:</p>
<ul>
<li><a href="https://github.com/syntax-tree/hast-util-to-html"><code>hast-util-to-html</code></a> also has an option
<code>allowDangerousHtml</code> which will output the raw HTML.
This is typically discouraged as noted by the option name but is useful if
you completely trust authors</li>
<li><a href="https://github.com/syntax-tree/hast-util-raw"><code>hast-util-raw</code></a> can handle the raw embedded HTML strings by
parsing them into standard hast nodes (<code>element</code>, <code>text</code>, etc).
This is a heavy task as it needs a full HTML parser, but it is the only way
to support untrusted content</li>
</ul>
<h6 id="optionsclobberprefix"><a aria-hidden="true" tabindex="-1" href="#optionsclobberprefix"><span class="icon icon-link"></span></a><code>options.clobberPrefix</code></h6>
<p>Prefix to use before the <code>id</code> attribute on footnotes to prevent it from
<em>clobbering</em> (<code>string</code>, default: <code>'user-content-'</code>).
DOM clobbering is this:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>x</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">// `x` now refers to the DOM `p#x` element</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>
</span></code></pre>
<p>Elements by their ID are made available by browsers on the <code>window</code> object,
which is a security risk.
Using a prefix solves this problem.</p>
<p>More information on how to handle clobbering and the prefix is explained in
<a href="https://github.com/rehypejs/rehype-sanitize#example-headings-dom-clobbering">Example: headings (DOM clobbering) in <code>rehype-sanitize</code></a>.</p>
<blockquote>
<p>👉 <strong>Note</strong>: this option affects footnotes.
Footnotes are not specified by CommonMark.
They are supported by GitHub, so they can be enabled by using the utility
<a href="https://github.com/syntax-tree/mdast-util-gfm"><code>mdast-util-gfm</code></a>.</p>
</blockquote>
<h6 id="optionsfootnotelabel"><a aria-hidden="true" tabindex="-1" href="#optionsfootnotelabel"><span class="icon icon-link"></span></a><code>options.footnoteLabel</code></h6>
<p>Label to use for the footnotes section (<code>string</code>, default: <code>'Footnotes'</code>).
Affects screen readers.
Change it when the markdown is not in English.</p>
<blockquote>
<p>👉 <strong>Note</strong>: this option affects footnotes.
Footnotes are not specified by CommonMark.
They are supported by GitHub, so they can be enabled by using the utility
<a href="https://github.com/syntax-tree/mdast-util-gfm"><code>mdast-util-gfm</code></a>.</p>
</blockquote>
<h6 id="optionsfootnotelabeltagname"><a aria-hidden="true" tabindex="-1" href="#optionsfootnotelabeltagname"><span class="icon icon-link"></span></a><code>options.footnoteLabelTagName</code></h6>
<p>HTML tag to use for the footnote label (<code>string</code>, default: <code>h2</code>).
Can be changed to match your document structure and play well with your CSS.</p>
<blockquote>
<p>👉 <strong>Note</strong>: this option affects footnotes.
Footnotes are not specified by CommonMark.
They are supported by GitHub, so they can be enabled by using the utility
<a href="https://github.com/syntax-tree/mdast-util-gfm"><code>mdast-util-gfm</code></a>.</p>
</blockquote>
<h6 id="optionsfootnotelabelproperties"><a aria-hidden="true" tabindex="-1" href="#optionsfootnotelabelproperties"><span class="icon icon-link"></span></a><code>options.footnoteLabelProperties</code></h6>
<p>Properties to use on the footnote label (<code>object</code>, default:
<code>{className: ['sr-only']}</code>).
Importantly, <code>id: 'footnote-label'</code> is always added, because footnote calls use
it with <code>aria-describedby</code> to provide an accessible label.
A <code>sr-only</code> class is added by default to hide this from sighted users.
Change it to make the label visible, or add classes for other purposes.</p>
<blockquote>
<p>👉 <strong>Note</strong>: this option affects footnotes.
Footnotes are not specified by CommonMark.
They are supported by GitHub, so they can be enabled by using the utility
<a href="https://github.com/syntax-tree/mdast-util-gfm"><code>mdast-util-gfm</code></a>.</p>
</blockquote>
<h6 id="optionsfootnotebacklabel"><a aria-hidden="true" tabindex="-1" href="#optionsfootnotebacklabel"><span class="icon icon-link"></span></a><code>options.footnoteBackLabel</code></h6>
<p>Label to use from backreferences back to their footnote call (<code>string</code>, default:
<code>'Back to content'</code>).
Affects screen readers.
Change it when the markdown is not in English.</p>
<blockquote>
<p>👉 <strong>Note</strong>: this option affects footnotes.
Footnotes are not specified by CommonMark.
They are supported by GitHub, so they can be enabled by using the utility
<a href="https://github.com/syntax-tree/mdast-util-gfm"><code>mdast-util-gfm</code></a>.</p>
</blockquote>
<h6 id="optionshandlers"><a aria-hidden="true" tabindex="-1" href="#optionshandlers"><span class="icon icon-link"></span></a><code>options.handlers</code></h6>
<p>Object mapping node types to functions handling the corresponding nodes.
See <a href="lib/handlers"><code>lib/handlers/</code></a> for examples.</p>
<p>In a handler, you have access to <code>h</code>, which should be used to create hast nodes
from mdast nodes.
On <code>h</code>, there are several fields that may be of interest.</p>
<h6 id="optionspassthrough"><a aria-hidden="true" tabindex="-1" href="#optionspassthrough"><span class="icon icon-link"></span></a><code>options.passThrough</code></h6>
<p>List of mdast node types to pass through (keep) in hast (<code>Array&#x3C;string></code>,
default: <code>[]</code>).
If the passed through nodes have children, those children are expected to be
mdast and will be handled.</p>
<p>Similar functionality can be achieved with a custom handler.
A <code>passThrough</code> of <code>['customNode']</code> is equivalent to:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token function">toHast</span><span class="token punctuation">(</span><span class="token comment">/* … */</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">handlers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">customNode</span><span class="token punctuation">(</span><span class="token parameter">h<span class="token punctuation">,</span> node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span> <span class="token string">'children'</span> <span class="token keyword">in</span> node <span class="token operator">?</span> <span class="token punctuation">{</span><span class="token spread operator">...</span>node<span class="token punctuation">,</span> <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token function">all</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span> node<span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">:</span> node
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre>
<h6 id="optionsunknownhandler"><a aria-hidden="true" tabindex="-1" href="#optionsunknownhandler"><span class="icon icon-link"></span></a><code>options.unknownHandler</code></h6>
<p>Handler for unknown nodes (<code>Handler?</code>).
Unknown nodes are nodes with a type that isn’t in <code>handlers</code> or <code>passThrough</code>.
The default behavior for unknown nodes is:</p>
<ul>
<li>when the node has a <code>value</code> (and doesn’t have <code>data.hName</code>,
<code>data.hProperties</code>, or <code>data.hChildren</code>, see later), create a hast <code>text</code>
node</li>
<li>otherwise, create a <code>&#x3C;div></code> element (which could be changed with
<code>data.hName</code>), with its children mapped from mdast to hast as well</li>
</ul>
<h5 id="returns"><a aria-hidden="true" tabindex="-1" href="#returns"><span class="icon icon-link"></span></a>Returns</h5>
<p><a href="https://github.com/syntax-tree/hast#nodes"><code>HastNode</code></a>.</p>
</div></div></div><div class="wrap h3body-not-exist"><div class="wrap-header h3wrap"><h3 id="defaulthandlers"><a aria-hidden="true" tabindex="-1" href="#defaulthandlers"><span class="icon icon-link"></span></a><code>defaultHandlers</code></h3><div class="wrap-body">
<p>Object mapping mdast node types to functions that can handle them.
See <a href="lib/handlers/index.js"><code>lib/handlers/index.js</code></a>.</p>
</div></div></div><div class="wrap h3body-not-exist"><div class="wrap-header h3wrap"><h3 id="allh-parent"><a aria-hidden="true" tabindex="-1" href="#allh-parent"><span class="icon icon-link"></span></a><code>all(h, parent)</code></h3><div class="wrap-body">
<p>Helper function for writing custom handlers passed to <code>options.handlers</code>.
Pass it <code>h</code> and a parent node (mdast) and it will turn the node’s children into
an array of transformed nodes (hast).</p>
</div></div></div><div class="wrap h3body-not-exist"><div class="wrap-header h3wrap"><h3 id="oneh-node-parent"><a aria-hidden="true" tabindex="-1" href="#oneh-node-parent"><span class="icon icon-link"></span></a><code>one(h, node, parent)</code></h3><div class="wrap-body">
<p>Helper function for writing custom handlers passed to <code>options.handlers</code>.
Pass it <code>h</code>, a <code>node</code>, and its <code>parent</code> (mdast) and it will turn <code>node</code> into
hast content.</p>
</div></div></div></div></div><div class="wrap h2body-exist"><div class="wrap-header h2wrap"><h2 id="examples"><a aria-hidden="true" tabindex="-1" href="#examples"><span class="icon icon-link"></span></a>Examples</h2><div class="wrap-body">
</div></div><div class="h2wrap-body"><div class="wrap h3body-not-exist"><div class="wrap-header h3wrap"><h3 id="example-supporting-html-in-markdown-naïvely"><a aria-hidden="true" tabindex="-1" href="#example-supporting-html-in-markdown-naïvely"><span class="icon icon-link"></span></a>Example: supporting HTML in markdown naïvely</h3><div class="wrap-body">
<p>If you completely trust authors (or plugins) and want to allow them to HTML <em>in</em>
markdown, and the last utility has an <code>allowDangerousHtml</code> option as well (such
as <code>hast-util-to-html</code>) you can pass <code>allowDangerousHtml</code> to this utility
(<code>mdast-util-to-hast</code>):</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>fromMarkdown<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'mdast-util-from-markdown'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>toHast<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'mdast-util-to-hast'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>toHtml<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'hast-util-to-html'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> markdown <span class="token operator">=</span> <span class="token string">'It &#x3C;i>works&#x3C;/i>! &#x3C;img onerror="alert(1)">'</span>
</span><span class="code-line"><span class="token keyword">const</span> mdast <span class="token operator">=</span> <span class="token function">fromMarkdown</span><span class="token punctuation">(</span>markdown<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> hast <span class="token operator">=</span> <span class="token function">toHast</span><span class="token punctuation">(</span>mdast<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">allowDangerousHtml</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token function">toHtml</span><span class="token punctuation">(</span>hast<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">allowDangerousHtml</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>
</span></code></pre>
<p>…now running <code>node example.js</code> yields:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>It <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>i</span><span class="token punctuation">></span></span>works<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>i</span><span class="token punctuation">></span></span>! <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span> <span class="token special-attr"><span class="token attr-name">onerror</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span></code></pre>
<blockquote>
<p>⚠️ <strong>Danger</strong>: observe that the XSS attack through the <code>onerror</code> attribute
is still present.</p>
</blockquote>
</div></div></div><div class="wrap h3body-not-exist"><div class="wrap-header h3wrap"><h3 id="example-supporting-html-in-markdown-properly"><a aria-hidden="true" tabindex="-1" href="#example-supporting-html-in-markdown-properly"><span class="icon icon-link"></span></a>Example: supporting HTML in markdown properly</h3><div class="wrap-body">
<p>If you do not trust the authors of the input markdown, or if you want to make
sure that further utilities can see HTML embedded in markdown, use
<a href="https://github.com/syntax-tree/hast-util-raw"><code>hast-util-raw</code></a>.
The following example passes <code>allowDangerousHtml</code> to this utility
(<code>mdast-util-to-hast</code>), then turns the raw embedded HTML into proper HTML nodes
(<code>hast-util-raw</code>), and finally sanitizes the HTML by only allowing safe things
(<code>hast-util-sanitize</code>):</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>fromMarkdown<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'mdast-util-from-markdown'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>toHast<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'mdast-util-to-hast'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>raw<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'hast-util-raw'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>sanitize<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'hast-util-sanitize'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>toHtml<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'hast-util-to-html'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> markdown <span class="token operator">=</span> <span class="token string">'It &#x3C;i>works&#x3C;/i>! &#x3C;img onerror="alert(1)">'</span>
</span><span class="code-line"><span class="token keyword">const</span> mdast <span class="token operator">=</span> <span class="token function">fromMarkdown</span><span class="token punctuation">(</span>markdown<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> hast <span class="token operator">=</span> <span class="token function">raw</span><span class="token punctuation">(</span><span class="token function">toHast</span><span class="token punctuation">(</span>mdast<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">allowDangerousHtml</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> safeHast <span class="token operator">=</span> <span class="token function">sanitize</span><span class="token punctuation">(</span>hast<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token function">toHtml</span><span class="token punctuation">(</span>safeHast<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>
</span></code></pre>
<p>…now running <code>node example.js</code> yields:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>It <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>i</span><span class="token punctuation">></span></span>works<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>i</span><span class="token punctuation">></span></span>! <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span></code></pre>
<blockquote>
<p>👉 <strong>Note</strong>: observe that the XSS attack through the <code>onerror</code> attribute
is no longer present.</p>
</blockquote>
</div></div></div><div class="wrap h3body-not-exist"><div class="wrap-header h3wrap"><h3 id="example-footnotes-in-languages-other-than-english"><a aria-hidden="true" tabindex="-1" href="#example-footnotes-in-languages-other-than-english"><span class="icon icon-link"></span></a>Example: footnotes in languages other than English</h3><div class="wrap-body">
<p>If you know that the markdown is authored in a language other than English,
and you’re using <code>micromark-extension-gfm</code> and <code>mdast-util-gfm</code> to match how
GitHub renders markdown, and you know that footnotes are (or can?) be used, you
should translate the labels associated with them.</p>
<p>Let’s first set the stage:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>fromMarkdown<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'mdast-util-from-markdown'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>gfm<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'micromark-extension-gfm'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>gfmFromMarkdown<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'mdast-util-gfm'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>toHast<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'mdast-util-to-hast'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>toHtml<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'hast-util-to-html'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> markdown <span class="token operator">=</span> <span class="token string">'Bonjour[^1]\n\n[^1]: Monde!'</span>
</span><span class="code-line"><span class="token keyword">const</span> mdast <span class="token operator">=</span> <span class="token function">fromMarkdown</span><span class="token punctuation">(</span>markdown<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">gfm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">mdastExtensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">gfmFromMarkdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> hast <span class="token operator">=</span> <span class="token function">toHast</span><span class="token punctuation">(</span>mdast<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token function">toHtml</span><span class="token punctuation">(</span>hast<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>
</span></code></pre>
<p>…now running <code>node example.js</code> yields:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>Bonjour<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>sup</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#user-content-fn-1<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user-content-fnref-1<span class="token punctuation">"</span></span> <span class="token attr-name">data-footnote-ref</span> <span class="token attr-name">aria-describedby</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>footnote-label<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>sup</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>section</span> <span class="token attr-name">data-footnotes</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>footnotes<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sr-only<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>footnote-label<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Footnotes<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h2</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ol</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user-content-fn-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>Monde! <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#user-content-fnref-1<span class="token punctuation">"</span></span> <span class="token attr-name">data-footnote-backref</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>data-footnote-backref<span class="token punctuation">"</span></span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Back to content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>↩<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ol</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>section</span><span class="token punctuation">></span></span>
</span></code></pre>
<p>This is a mix of English and French that screen readers can’t handle nicely.
Let’s say our program does know that the markdown is in French.
In that case, it’s important to translate and define the labels relating to
footnotes so that screen reader users can properly pronounce the page:</p>
<pre class="language-diff"><code class="language-diff code-highlight"><span class="code-line">@@ -9,7 +9,10 @@ const mdast = fromMarkdown(markdown, {
</span><span class="code-line"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">  extensions: [gfm()],
</span></span></span><span class="code-line"><span class="token unchanged"><span class="token line"></span><span class="token prefix unchanged"> </span><span class="token line">  mdastExtensions: [gfmFromMarkdown()]
</span></span></span><span class="code-line"><span class="token unchanged"><span class="token line"></span><span class="token prefix unchanged"> </span><span class="token line">})
</span></span></span><span class="code-line deleted"><span class="token unchanged"><span class="token line"></span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">const hast = toHast(mdast)
</span></span></span><span class="code-line inserted"><span class="token deleted-sign deleted"><span class="token line"></span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">const hast = toHast(mdast, {
</span></span></span><span class="code-line inserted"><span class="token inserted-sign inserted"><span class="token line"></span><span class="token prefix inserted">+</span><span class="token line">  footnoteLabel: 'Notes de bas de page',
</span></span></span><span class="code-line inserted"><span class="token inserted-sign inserted"><span class="token line"></span><span class="token prefix inserted">+</span><span class="token line">  footnoteBackLabel: 'Arrière'
</span></span></span><span class="code-line inserted"><span class="token inserted-sign inserted"><span class="token line"></span><span class="token prefix inserted">+</span><span class="token line">})
</span></span></span><span class="code-line"><span class="token inserted-sign inserted"><span class="token line"></span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">const html = toHtml(hast)
</span></span></span><span class="code-line"><span class="token unchanged"><span class="token line"></span></span>
</span><span class="code-line"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">console.log(html)
</span></span></span></code></pre>
<p>…now running <code>node example.js</code> with the above patch applied yields:</p>
<pre class="language-diff"><code class="language-diff code-highlight"><span class="code-line"><span class="token coord">@@ -1,8 +1,8 @@</span>
</span><span class="code-line"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">&#x3C;p>Bonjour&#x3C;sup>&#x3C;a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref aria-describedby="footnote-label">1&#x3C;/a>&#x3C;/sup>&#x3C;/p>
</span></span></span><span class="code-line deleted"><span class="token unchanged"><span class="token line"></span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">&#x3C;section data-footnotes class="footnotes">&#x3C;h2 class="sr-only" id="footnote-label">Footnotes&#x3C;/h2>
</span></span></span><span class="code-line inserted"><span class="token deleted-sign deleted"><span class="token line"></span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">&#x3C;section data-footnotes class="footnotes">&#x3C;h2 class="sr-only" id="footnote-label">Notes de bas de page&#x3C;/h2>
</span></span></span><span class="code-line"><span class="token inserted-sign inserted"><span class="token line"></span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">&#x3C;ol>
</span></span></span><span class="code-line"><span class="token unchanged"><span class="token line"></span><span class="token prefix unchanged"> </span><span class="token line">&#x3C;li id="user-content-fn-1">
</span></span></span><span class="code-line deleted"><span class="token unchanged"><span class="token line"></span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">&#x3C;p>Monde! &#x3C;a href="#user-content-fnref-1" data-footnote-backref class="data-footnote-backref" aria-label="Back to content">↩&#x3C;/a>&#x3C;/p>
</span></span></span><span class="code-line inserted"><span class="token deleted-sign deleted"><span class="token line"></span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">&#x3C;p>Monde! &#x3C;a href="#user-content-fnref-1" data-footnote-backref class="data-footnote-backref" aria-label="Arrière">↩&#x3C;/a>&#x3C;/p>
</span></span></span><span class="code-line"><span class="token inserted-sign inserted"><span class="token line"></span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">&#x3C;/li>
</span></span></span><span class="code-line"><span class="token unchanged"><span class="token line"></span><span class="token prefix unchanged"> </span><span class="token line">&#x3C;/ol>
</span></span></span><span class="code-line"><span class="token unchanged"><span class="token line"></span><span class="token prefix unchanged"> </span><span class="token line">&#x3C;/section>
</span></span></span></code></pre>
</div></div></div><div class="wrap h3body-not-exist"><div class="wrap-header h3wrap"><h3 id="example-supporting-custom-nodes"><a aria-hidden="true" tabindex="-1" href="#example-supporting-custom-nodes"><span class="icon icon-link"></span></a>Example: supporting custom nodes</h3><div class="wrap-body">
<p>This project supports CommonMark and the GFM constructs (footnotes,
strikethrough, tables) and the frontmatter constructs YAML and TOML.
Support can be extended to other constructs in two ways: a) with handlers, b)
through fields on nodes.</p>
<p>For example, when we represent a mark element in markdown and want to turn it
into a <code>&#x3C;mark></code> element in HTML, we can use a handler:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>toHast<span class="token punctuation">,</span> all<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'mdast-util-to-hast'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>toHtml<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'hast-util-to-html'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> mdast <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'paragraph'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'mark'</span><span class="token punctuation">,</span> <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'x'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> hast <span class="token operator">=</span> <span class="token function">toHast</span><span class="token punctuation">(</span>mdast<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">handlers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">mark</span><span class="token punctuation">(</span><span class="token parameter">h<span class="token punctuation">,</span> node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword control-flow">return</span> <span class="token function">h</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> <span class="token string">'mark'</span><span class="token punctuation">,</span> <span class="token function">all</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span> node<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">toHtml</span><span class="token punctuation">(</span>hast<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span></code></pre>
<p>We can do the same through certain fields on nodes:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>toHast<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'mdast-util-to-hast'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>toHtml<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'hast-util-to-html'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> mdast <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'paragraph'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'mark'</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'x'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">hName</span><span class="token operator">:</span> <span class="token string">'mark'</span><span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">toHtml</span><span class="token punctuation">(</span><span class="token function">toHast</span><span class="token punctuation">(</span>mdast<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span></code></pre>
</div></div></div></div></div><div class="wrap h2body-exist"><div class="wrap-header h2wrap"><h2 id="algorithm"><a aria-hidden="true" tabindex="-1" href="#algorithm"><span class="icon icon-link"></span></a>Algorithm</h2><div class="wrap-body">
<p>This project by default handles CommonMark, GFM (footnotes, strikethrough,
tables) and common frontmatter (YAML, TOML).</p>
<p>Existing handlers can be overwritten and handlers for more nodes can be added.
It’s also possible to define how mdast is turned into hast through fields on
nodes.</p>
</div></div><div class="h2wrap-body"><h5 id="default-handling"><a aria-hidden="true" tabindex="-1" href="#default-handling"><span class="icon icon-link"></span></a>Default handling</h5>
<p>The following table gives insight into what input turns into what output:</p>
<table>
<thead>
<tr>
<th scope="col">mdast node</th>
<th scope="col">markdown example</th>
<th scope="col">hast node</th>
<th scope="col">html example</th>
</tr>
</thead>
<tbody>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#blockquote"><code>blockquote</code></a></p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line"><span class="token blockquote punctuation">></span> A greater than…
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#element"><code>element</code></a> (<code>blockquote</code>)</p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>blockquote</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>A greater than…<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>blockquote</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#break"><code>break</code></a></p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line">A backslash\
</span><span class="code-line">before a line break…
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#element"><code>element</code></a> (<code>br</code>)</p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>A backslash<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>br</span><span class="token punctuation">></span></span>
</span><span class="code-line">before a line break…<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#code"><code>code</code></a></p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line"><span class="token code"><span class="token punctuation">```</span><span class="token code-language">js</span>
</span></span><span class="code-line"><span class="token code"><span class="token code-block language-js">backtick<span class="token punctuation">.</span><span class="token method function property-access">fences</span><span class="token punctuation">(</span><span class="token string">'for blocks'</span><span class="token punctuation">)</span></span>
</span></span><span class="code-line"><span class="token code"><span class="token punctuation">```</span></span>
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#element"><code>element</code></a> (<code>pre</code> and <code>code</code>)</p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>pre</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>code</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>language-js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>backtick.fences('for blocks')
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>code</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>pre</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#delete"><code>delete</code></a> (GFM)</p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line">Two <span class="token strike"><span class="token punctuation">~~</span><span class="token content">tildes</span><span class="token punctuation">~~</span></span> for delete.
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#element"><code>element</code></a> (<code>del</code>)</p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>Two <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>del</span><span class="token punctuation">></span></span>tildes<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>del</span><span class="token punctuation">></span></span> for delete.<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#emphasis"><code>emphasis</code></a></p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line">Some <span class="token italic"><span class="token punctuation">*</span><span class="token content">asterisks</span><span class="token punctuation">*</span></span> for emphasis.
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#element"><code>element</code></a> (<code>em</code>)</p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>Some <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>em</span><span class="token punctuation">></span></span>asterisks<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>em</span><span class="token punctuation">></span></span> for emphasis.<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#footnotereference"><code>footnoteReference</code></a>,
<a href="https://github.com/syntax-tree/mdast#footnotedefinition"><code>footnoteDefinition</code></a>
(GFM)</p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line">With a [^caret].
</span><span class="code-line">
</span><span class="code-line"><span class="token url-reference url"><span class="token punctuation">[</span><span class="token variable">^caret</span><span class="token punctuation">]</span><span class="token punctuation">:</span> Stuff</span>
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#element"><code>element</code></a> (<code>section</code>, <code>sup</code>, <code>a</code>)</p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>With a <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>sup</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#fn-caret<span class="token punctuation">"</span></span> <span class="token attr-name">…</span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>sup</span><span class="token punctuation">></span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>…
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#heading"><code>heading</code></a></p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line"><span class="token title important"><span class="token punctuation">#</span> One number sign…</span>
</span><span class="code-line"><span class="token title important"><span class="token punctuation">######</span> Six number signs…</span>
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#element"><code>element</code></a> (<code>h1</code>…<code>h6</code>)</p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h1</span><span class="token punctuation">></span></span>One number sign…<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h1</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h6</span><span class="token punctuation">></span></span>Six number signs…<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h6</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#html"><code>html</code></a></p>
</th>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>kbd</span><span class="token punctuation">></span></span>CMD+S<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>kbd</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
<td>
<p>Nothing (default), <code>raw</code> (when <code>allowDangerousHtml: true</code>)</p>
</td>
<td>
<p>n/a</p>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#image"><code>image</code></a></p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line"><span class="token url"><span class="token operator">!</span>[<span class="token content">Alt text</span>](<span class="token url">/logo.png</span> <span class="token string">"title"</span>)</span>
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#element"><code>element</code></a> (<code>img</code>)</p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/logo.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Alt text<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#imagereference"><code>imageReference</code></a>,
<a href="https://github.com/syntax-tree/mdast#definition"><code>definition</code></a></p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line"><span class="token url"><span class="token operator">!</span>[<span class="token content">Alt text</span>][<span class="token variable">logo</span>]</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token url-reference url"><span class="token punctuation">[</span><span class="token variable">logo</span><span class="token punctuation">]</span><span class="token punctuation">:</span> /logo.png <span class="token string">"title"</span></span>
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#element"><code>element</code></a> (<code>img</code>)</p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/logo.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Alt text<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#inlinecode"><code>inlineCode</code></a></p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line">Some <span class="token code-snippet code keyword">`backticks`</span> for inline code.
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#element"><code>element</code></a> (<code>code</code>)</p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>Some <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>code</span><span class="token punctuation">></span></span>backticks<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>code</span><span class="token punctuation">></span></span> for inline code.<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#link"><code>link</code></a></p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line"><span class="token url">[<span class="token content">Example</span>](<span class="token url">https://example.com</span> <span class="token string">"title"</span>)</span>
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#element"><code>element</code></a> (<code>a</code>)</p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://example.com<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Example<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#linkreference"><code>linkReference</code></a>,
<a href="https://github.com/syntax-tree/mdast#definition"><code>definition</code></a></p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line">[Example][]
</span><span class="code-line">
</span><span class="code-line"><span class="token url-reference url"><span class="token punctuation">[</span><span class="token variable">example</span><span class="token punctuation">]</span><span class="token punctuation">:</span> https://example.com <span class="token string">"title"</span></span>
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#element"><code>element</code></a> (<code>a</code>)</p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://example.com<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Example<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#list"><code>list</code></a>,
<a href="https://github.com/syntax-tree/mdast#listitem"><code>listItem</code></a></p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line"><span class="token list punctuation">*</span> asterisks for unordered items
</span><span class="code-line">
</span><span class="code-line"><span class="token list punctuation">1.</span> decimals and a dot for ordered items
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#element"><code>element</code></a> (<code>li</code> and <code>ol</code> or <code>ul</code>)</p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span><span class="token punctuation">></span></span>asterisks for unordered items<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ol</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span><span class="token punctuation">></span></span>decimals and a dot for ordered items<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ol</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#paragraph"><code>paragraph</code></a></p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line">Just some text…
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#element"><code>element</code></a> (<code>p</code>)</p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>Just some text…<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#root"><code>root</code></a></p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line">Anything!
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#root"><code>root</code></a></p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>Anything!<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#strong"><code>strong</code></a></p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line">Two <span class="token bold"><span class="token punctuation">**</span><span class="token content">asterisks</span><span class="token punctuation">**</span></span> for strong.
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#element"><code>element</code></a> (<code>strong</code>)</p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>Two <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>strong</span><span class="token punctuation">></span></span>asterisks<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>strong</span><span class="token punctuation">></span></span> for strong.<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#text"><code>text</code></a></p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line">Anything!
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#text"><code>text</code></a></p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>Anything!<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#table"><code>table</code></a>,
<a href="https://github.com/syntax-tree/mdast#tablerow"><code>tableRow</code></a>,
<a href="https://github.com/syntax-tree/mdast#tablecell"><code>tableCell</code></a></p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line">| Pipes |
</span><span class="code-line">| ----- |
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#element"><code>element</code></a> (<code>table</code>, <code>thead</code>, <code>tbody</code>, <code>tr</code>, <code>td</code>, <code>th</code>)</p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>table</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>thead</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>tr</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>th</span><span class="token punctuation">></span></span>Pipes<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>th</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>tr</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>thead</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>table</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#thematicbreak"><code>thematicBreak</code></a></p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line">Three asterisks for a thematic break:
</span><span class="code-line">
</span><span class="code-line"><span class="token hr punctuation">***</span>
</span></code></pre>
</td>
<td>
<p><a href="https://github.com/syntax-tree/hast#element"><code>element</code></a> (<code>hr</code>)</p>
</td>
<td>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span>Three asterisks for a thematic break:<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>hr</span><span class="token punctuation">></span></span>
</span></code></pre>
</td>
</tr>
<tr>
<th scope="row">
<p><code>toml</code> (frontmatter)</p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line">+++
</span><span class="code-line">fenced = true
</span><span class="code-line">+++
</span></code></pre>
</td>
<td>
<p>Nothing</p>
</td>
<td>
<p>n/a</p>
</td>
</tr>
<tr>
<th scope="row">
<p><a href="https://github.com/syntax-tree/mdast#yaml"><code>yaml</code></a> (frontmatter)</p>
</th>
<td>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line"><span class="token front-matter-block"><span class="token punctuation">---</span>
</span></span><span class="code-line"><span class="token front-matter-block"><span class="token front-matter yaml language-yaml"><span class="token key atrule">fenced</span><span class="token punctuation">:</span> yes</span>
</span></span><span class="code-line"><span class="token front-matter-block"><span class="token punctuation">---</span></span>
</span></code></pre>
</td>
<td>
<p>Nothing</p>
</td>
<td>
<p>n/a</p>
</td>
</tr>
</tbody>
</table>
<blockquote>
<p>👉 <strong>Note</strong>: GFM prescribes that the obsolete <code>align</code> attribute on <code>td</code> and
<code>th</code> elements is used.
To use <code>style</code> attributes instead of obsolete features, combine this utility
with <a href="https://github.com/mapbox/hast-util-table-cell-style"><code>@mapbox/hast-util-table-cell-style</code></a>.</p>
</blockquote>
<blockquote>
<p>🧑‍🏫 <strong>Info</strong>: this project is concerned with turning one syntax tree into
another.
It does not deal with markdown syntax or HTML syntax.
The preceding examples are illustrative rather than authoritative or
exhaustive.</p>
</blockquote>
<h5 id="fields-on-nodes"><a aria-hidden="true" tabindex="-1" href="#fields-on-nodes"><span class="icon icon-link"></span></a>Fields on nodes</h5>
<p>A frequent problem arises when having to turn one syntax tree into another.
As the original tree (in this case, mdast for markdown) is in some cases
limited compared to the destination (in this case, hast for HTML) tree,
is it possible to provide more info in the original to define what the
result will be in the destination?
This is possible by defining data on mdast nodes, which this utility will read
as instructions on what hast nodes to create.</p>
<p>An example is math, which is a nonstandard markdown extension, that this utility
doesn’t understand.
To solve this, <code>mdast-util-math</code> defines instructions on mdast nodes that this
plugin does understand because they define a certain hast structure.</p>
<p>The following fields can be used:</p>
<ul>
<li><code>node.data.hName</code> configures the element’s tag name</li>
<li><code>node.data.hProperties</code> is mixed into the element’s properties</li>
<li><code>node.data.hChildren</code> configures the element’s children</li>
</ul>
<h6 id="hname"><a aria-hidden="true" tabindex="-1" href="#hname"><span class="icon icon-link"></span></a><code>hName</code></h6>
<p><code>node.data.hName</code> sets the tag name of an element.
The following <a href="https://github.com/syntax-tree/mdast">mdast</a>:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'strong'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">hName</span><span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'Alpha'</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>…yields (<a href="https://github.com/syntax-tree/hast">hast</a>):</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'element'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">tagName</span><span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'Alpha'</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<h6 id="hproperties"><a aria-hidden="true" tabindex="-1" href="#hproperties"><span class="icon icon-link"></span></a><code>hProperties</code></h6>
<p><code>node.data.hProperties</code> sets the properties of an element.
The following <a href="https://github.com/syntax-tree/mdast">mdast</a>:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'image'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token string">'circle.svg'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">alt</span><span class="token operator">:</span> <span class="token string">'Big red circle on a black background'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">hProperties</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'responsive'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>…yields (<a href="https://github.com/syntax-tree/hast">hast</a>):</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'element'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">tagName</span><span class="token operator">:</span> <span class="token string">'img'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token string">'circle.svg'</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">alt</span><span class="token operator">:</span> <span class="token string">'Big red circle on a black background'</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'responsive'</span><span class="token punctuation">]</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<h6 id="hchildren"><a aria-hidden="true" tabindex="-1" href="#hchildren"><span class="icon icon-link"></span></a><code>hChildren</code></h6>
<p><code>node.data.hChildren</code> sets the children of an element.
The following <a href="https://github.com/syntax-tree/mdast">mdast</a>:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'code'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">lang</span><span class="token operator">:</span> <span class="token string">'js'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token literal-property property">hChildren</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">      <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'element'</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token literal-property property">tagName</span><span class="token operator">:</span> <span class="token string">'span'</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'hljs-meta'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'"use strict"'</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">';'</span><span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">]</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'"use strict";'</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>…yields (<a href="https://github.com/syntax-tree/hast">hast</a>):</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'element'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">tagName</span><span class="token operator">:</span> <span class="token string">'pre'</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'element'</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">tagName</span><span class="token operator">:</span> <span class="token string">'code'</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'language-js'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">      <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'element'</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token literal-property property">tagName</span><span class="token operator">:</span> <span class="token string">'span'</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'hljs-meta'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'"use strict"'</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">';'</span><span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">]</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<blockquote>
<p>👉 <strong>Note</strong>: the <code>pre</code> and <code>language-js</code> class are normal <code>mdast-util-to-hast</code>
functionality.</p>
</blockquote>
</div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="css"><a aria-hidden="true" tabindex="-1" href="#css"><span class="icon icon-link"></span></a>CSS</h2><div class="wrap-body">
<p>Assuming you know how to use (semantic) HTML and CSS, then it should generally
be straight forward to style the HTML produced by this plugin.
With CSS, you can get creative and style the results as you please.</p>
<p>Some semistandard features, notably GFMs tasklists and footnotes, generate HTML
that be unintuitive, as it matches exactly what GitHub produces for their
website.
There is a project, <a href="https://github.com/sindresorhus/github-markdown-css"><code>sindresorhus/github-markdown-css</code></a>,
that exposes the stylesheet that GitHub uses for rendered markdown, which might
either be inspirational for more complex features, or can be used as-is to
exactly match how GitHub styles rendered markdown.</p>
<p>The following CSS is needed to make footnotes look a bit like GitHub:</p>
<pre class="language-css"><code class="language-css code-highlight"><span class="code-line"><span class="token comment">/* Style the footnotes section. */</span>
</span><span class="code-line"><span class="token selector"><span class="token class">.footnotes</span></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">font-size</span><span class="token punctuation">:</span> smaller<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode color">#8b949e</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property">border-top</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span> solid <span class="token hexcode color">#30363d</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">/* Hide the section label for visual users. */</span>
</span><span class="code-line"><span class="token selector"><span class="token class">.sr-only</span></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property">word-wrap</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">/* Place `[` and `]` around footnote calls. */</span>
</span><span class="code-line"><span class="token selector"><span class="token attribute"><span class="token punctuation">[</span><span class="token attr-name">data-footnote-ref</span><span class="token punctuation">]</span></span><span class="token pseudo-element">::before</span></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'['</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token selector"><span class="token attribute"><span class="token punctuation">[</span><span class="token attr-name">data-footnote-ref</span><span class="token punctuation">]</span></span><span class="token pseudo-element">::after</span></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">']'</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-exist"><div class="wrap-header h2wrap"><h2 id="syntax-tree"><a aria-hidden="true" tabindex="-1" href="#syntax-tree"><span class="icon icon-link"></span></a>Syntax tree</h2><div class="wrap-body">
<p>The following interfaces are added to <strong><a href="https://github.com/syntax-tree/hast">hast</a></strong> by this utility.</p>
</div></div><div class="h2wrap-body"><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="nodes"><a aria-hidden="true" tabindex="-1" href="#nodes"><span class="icon icon-link"></span></a>Nodes</h3><div class="wrap-body">
<h4 id="raw"><a aria-hidden="true" tabindex="-1" href="#raw"><span class="icon icon-link"></span></a><code>Raw</code></h4>
<pre><code class="language-idl code-highlight"><span class="code-line">interface Raw &#x3C;: Literal {
</span><span class="code-line">  type: "raw"
</span><span class="code-line">}
</span></code></pre>
<p><strong>Raw</strong> (<strong><a href="https://github.com/syntax-tree/hast#literal">Literal</a></strong>) represents a string if raw HTML inside
hast.
Raw nodes are typically ignored but are handled by
<a href="https://github.com/syntax-tree/hast-util-to-html"><code>hast-util-to-html</code></a> and <a href="https://github.com/syntax-tree/hast-util-raw"><code>hast-util-raw</code></a>.</p>
</div></div></div></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="types"><a aria-hidden="true" tabindex="-1" href="#types"><span class="icon icon-link"></span></a>Types</h2><div class="wrap-body">
<p>This package is fully typed with <a href="https://www.typescriptlang.org">TypeScript</a>.
It also exports <code>Options</code>, <code>Handler</code>, <code>Handlers</code>, <code>H</code>, and <code>Raw</code> types.</p>
<p>If you’re working with raw nodes in the hast syntax tree (which are added when
<code>allowDangerousHtml: true</code>), make sure to import this utility somewhere in your
types, as that registers the new node types in the tree.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token doc-comment comment">/** <span class="token keyword">@typedef</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'mdast-util-to-hast'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span> */</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>visit<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unist-util-visit'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token doc-comment comment">/** <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'hast'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Root<span class="token punctuation">}</span></span> */</span>
</span><span class="code-line"><span class="token keyword">const</span> tree <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">/* … */</span> <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">visit</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// `node` can now be `raw`.</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="compatibility"><a aria-hidden="true" tabindex="-1" href="#compatibility"><span class="icon icon-link"></span></a>Compatibility</h2><div class="wrap-body">
<p>Projects maintained by the unified collective are compatible with all maintained
versions of Node.js.
As of now, that is Node.js 12.20+, 14.14+, and 16.0+.
Our projects sometimes work with older versions, but this is not guaranteed.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="security"><a aria-hidden="true" tabindex="-1" href="#security"><span class="icon icon-link"></span></a>Security</h2><div class="wrap-body">
<p>Use of <code>mdast-util-to-hast</code> can open you up to a
<a href="https://en.wikipedia.org/wiki/Cross-site_scripting">cross-site scripting (XSS)</a> attack.
Embedded hast properties (<code>hName</code>, <code>hProperties</code>, <code>hChildren</code>), custom handlers,
and the <code>allowDangerousHtml</code> option all provide openings.</p>
<p>The following example shows how a script is injected where a benign code block
is expected with embedded hast properties:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword">const</span> code <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'code'</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'alert(1)'</span><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">code<span class="token punctuation">.</span><span class="token property-access">data</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">hName</span><span class="token operator">:</span> <span class="token string">'script'</span><span class="token punctuation">}</span>
</span></code></pre>
<p>Yields:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>
</span></code></pre>
<p>The following example shows how an image is changed to fail loading and
therefore run code in a browser.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'image'</span><span class="token punctuation">,</span> <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'existing.png'</span><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">image<span class="token punctuation">.</span><span class="token property-access">data</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">hProperties</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token string">'missing'</span><span class="token punctuation">,</span> <span class="token literal-property property">onError</span><span class="token operator">:</span> <span class="token string">'alert(2)'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</span></code></pre>
<p>Yields:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>missing<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onerror</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
</span></code></pre>
<p>The following example shows the default handling of embedded HTML:</p>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line"><span class="token title important"><span class="token punctuation">#</span> Hello</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>
</span></code></pre>
<p>Yields:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h1</span><span class="token punctuation">></span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h1</span><span class="token punctuation">></span></span>
</span></code></pre>
<p>Passing <code>allowDangerousHtml: true</code> to <code>mdast-util-to-hast</code> is typically still
not enough to run unsafe code:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h1</span><span class="token punctuation">></span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h1</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token entity" title="<">&#x26;#x3C;</span>script>alert(3)<span class="token entity" title="<">&#x26;#x3C;</span>/script>
</span></code></pre>
<p>If <code>allowDangerousHtml: true</code> is also given to <code>hast-util-to-html</code> (or
<code>rehype-stringify</code>), the unsafe code runs:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h1</span><span class="token punctuation">></span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h1</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>
</span></code></pre>
<p>Use <a href="https://github.com/syntax-tree/hast-util-sanitize"><code>hast-util-sanitize</code></a> to make the hast tree safe.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="related"><a aria-hidden="true" tabindex="-1" href="#related"><span class="icon icon-link"></span></a>Related</h2><div class="wrap-body">
<ul>
<li><a href="https://github.com/syntax-tree/hast-util-to-mdast"><code>hast-util-to-mdast</code></a>
— transform hast to mdast</li>
<li><a href="https://github.com/syntax-tree/hast-util-to-xast"><code>hast-util-to-xast</code></a>
— transform hast to xast</li>
<li><a href="https://github.com/syntax-tree/hast-util-sanitize"><code>hast-util-sanitize</code></a>
— sanitize hast nodes</li>
</ul>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="contribute"><a aria-hidden="true" tabindex="-1" href="#contribute"><span class="icon icon-link"></span></a>Contribute</h2><div class="wrap-body">
<p>See <a href="https://github.com/syntax-tree/.github/blob/HEAD/contributing.md"><code>contributing.md</code> in <code>syntax-tree/.github</code></a> for ways to get
started.
See <a href="https://github.com/syntax-tree/.github/blob/HEAD/support.md"><code>support.md</code></a> for ways to get help.</p>
<p>This project has a <a href="https://github.com/syntax-tree/.github/blob/HEAD/code-of-conduct.md">code of conduct</a>.
By interacting with this repository, organization, or community you agree to
abide by its terms.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="license"><a aria-hidden="true" tabindex="-1" href="#license"><span class="icon icon-link"></span></a>License</h2><div class="wrap-body">
<p><a href="license">MIT</a> © <a href="https://wooorm.com">Titus Wormer</a></p>
<!-- Definitions -->
</div></div><div class="h2wrap-body"></div></div></div></div><footer class="footer-wrap"><footer class="max-container">© 2022 Kenny Wang.</footer></footer><script>
if(('onhashchange' in window) && ((typeof document.documentMode==='undefined') || document.documentMode==8)) {
  window.onhashchange = function () {
    anchorPoint()
    updateAnchor()
  };
}
function anchorPoint() {
  const hash = window.location.hash?.replace(/^#/, '') || '';
  const elm = document.getElementById(decodeURIComponent(hash));
  Array.from(document.querySelectorAll('.h2wrap-body .wrap')).forEach((elm) => elm.classList.remove('active'))
  if (elm?.tagName === 'H3') {
    elm?.parentElement?.parentElement?.classList.add('active');
  }
}
anchorPoint();

function updateAnchor(element) {
  const anchorContainer = document.querySelectorAll('.menu-tocs .menu-modal a.tocs-link');
  anchorContainer.forEach((tocanchor) => {
    tocanchor.classList.remove('is-active-link');
  });
  const anchor = element || document.querySelector(`a.tocs-link[href='${decodeURIComponent(window.location.hash)}']`);
  if (anchor) {
    anchor.classList.add('is-active-link');
  }
}
// toc 定位
updateAnchor()
const anchor = document.querySelectorAll('.menu-tocs .menu-modal a.tocs-link');
anchor.forEach((item) => {
  item.addEventListener('click', (e) => {
    updateAnchor()
  })
})
</script></body>
</html>
