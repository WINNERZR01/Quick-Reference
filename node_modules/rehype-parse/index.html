<!doctype html>
<html lang="en" data-color-mode="dark">
<head>
<meta charset="utf-8">
<title># rehype-parse

[![Build][build-badge]][build]
[![Coverage][coverage-badge]][coverage]
[![Downloads][downloads-badge]][downloads]
[![Size][size-badge]][size]
[![Sponsors][sponsors-badge]][collective]
[![Backers][backers-badge]][collective]
[![Chat][chat-badge]][chat]

**[rehype][]** plugin to add support for parsing HTML input.

## Contents

*   [What is this?](#what-is-this)
*   [When should I use this?](#when-should-i-use-this)
*   [Install](#install)
*   [Use](#use)
*   [API](#api)
    *   [`unified().use(rehypeParse[, options])`](#unifieduserehypeparse-options)
*   [Examples](#examples)
    *   [Example: fragment versus document](#example-fragment-versus-document)
    *   [Example: whitespace around and inside `&#x3C;html>`](#example-whitespace-around-and-inside-html)
    *   [Example: parse errors](#example-parse-errors)
*   [Syntax](#syntax)
*   [Syntax tree](#syntax-tree)
*   [Types](#types)
*   [Compatibility](#compatibility)
*   [Security](#security)
*   [Contribute](#contribute)
*   [Sponsor](#sponsor)
*   [License](#license)

## What is this?

This package is a [unified][] ([rehype][]) plugin that defines how to take HTML
as input and turn it into a syntax tree.
When it’s used, HTML can be parsed and other rehype plugins can be used after
it.

See [the monorepo readme][rehype] for info on what the rehype ecosystem is.

## When should I use this?

This plugin adds support to unified for parsing HTML.
You can alternatively use [`rehype`][rehype-core] instead, which combines
unified, this plugin, and [`rehype-stringify`][rehype-stringify].

When you’re in a browser, trust your content, don’t need positional info, and
value a smaller bundle size, you can use [`rehype-dom-parse`][rehype-dom-parse]
instead.

This plugin is built on [`parse5`][parse5] and
[`hast-util-from-parse5`][hast-util-from-parse5], which deal with HTML-compliant
tokenizing, parsing, and creating nodes.
rehype focusses on making it easier to transform content by abstracting such
internals away.

## Install

This package is [ESM only][esm].
In Node.js (version 12.20+, 14.14+, or 16.0+), install with [npm][]:

```sh
npm install rehype-parse
```

In Deno with [Skypack][]:

```js
import rehypeParse from 'https://cdn.skypack.dev/rehype-parse@8?dts'
```

In browsers with [Skypack][]:

```html
&#x3C;script type &#x26;  index cheatsheet &#x26;  Quick Reference</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta description="为开发人员分享快速参考备忘单。">
<meta keywords="Quick,Reference,cheatsheet,index">
<link rel="icon" href="data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%221em%22%20width%3D%221em%22%3E%20%3Cpath%20d%3D%22m21.66%2010.44-.98%204.18c-.84%203.61-2.5%205.07-5.62%204.77-.5-.04-1.04-.13-1.62-.27l-1.68-.4c-4.17-.99-5.46-3.05-4.48-7.23l.98-4.19c.2-.85.44-1.59.74-2.2%201.17-2.42%203.16-3.07%206.5-2.28l1.67.39c4.19.98%205.47%203.05%204.49%207.23Z%22%20fill%3D%22%23c9d1d9%22%2F%3E%20%3Cpath%20d%3D%22M15.06%2019.39c-.62.42-1.4.77-2.35%201.08l-1.58.52c-3.97%201.28-6.06.21-7.35-3.76L2.5%2013.28c-1.28-3.97-.22-6.07%203.75-7.35l1.58-.52c.41-.13.8-.24%201.17-.31-.3.61-.54%201.35-.74%202.2l-.98%204.19c-.98%204.18.31%206.24%204.48%207.23l1.68.4c.58.14%201.12.23%201.62.27Zm2.43-8.88c-.06%200-.12-.01-.19-.02l-4.85-1.23a.75.75%200%200%201%20.37-1.45l4.85%201.23a.748.748%200%200%201-.18%201.47Z%22%20fill%3D%22%23228e6c%22%20%2F%3E%20%3Cpath%20d%3D%22M14.56%2013.89c-.06%200-.12-.01-.19-.02l-2.91-.74a.75.75%200%200%201%20.37-1.45l2.91.74c.4.1.64.51.54.91-.08.34-.38.56-.72.56Z%22%20fill%3D%22%23228e6c%22%20%2F%3E%20%3C%2Fsvg%3E" type="image/svg+xml">
<link rel="stylesheet" href="..\..\style\style.css">
<link rel="stylesheet" href="..\..\style\katex.css">
</head>
<body><nav class="header-nav"><div class="max-container"><a href="..\..\index.html" class="logo"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" height="1em" width="1em">
  <path d="m21.66 10.44-.98 4.18c-.84 3.61-2.5 5.07-5.62 4.77-.5-.04-1.04-.13-1.62-.27l-1.68-.4c-4.17-.99-5.46-3.05-4.48-7.23l.98-4.19c.2-.85.44-1.59.74-2.2 1.17-2.42 3.16-3.07 6.5-2.28l1.67.39c4.19.98 5.47 3.05 4.49 7.23Z" fill="#c9d1d9"></path>
  <path d="M15.06 19.39c-.62.42-1.4.77-2.35 1.08l-1.58.52c-3.97 1.28-6.06.21-7.35-3.76L2.5 13.28c-1.28-3.97-.22-6.07 3.75-7.35l1.58-.52c.41-.13.8-.24 1.17-.31-.3.61-.54 1.35-.74 2.2l-.98 4.19c-.98 4.18.31 6.24 4.48 7.23l1.68.4c.58.14 1.12.23 1.62.27Zm2.43-8.88c-.06 0-.12-.01-.19-.02l-4.85-1.23a.75.75 0 0 1 .37-1.45l4.85 1.23a.748.748 0 0 1-.18 1.47Z" fill="#228e6c"></path>
  <path d="M14.56 13.89c-.06 0-.12-.01-.19-.02l-2.91-.74a.75.75 0 0 1 .37-1.45l2.91.74c.4.1.64.51.54.91-.08.34-.38.56-.72.56Z" fill="#228e6c"></path>
</svg>
<span class="title">Quick Reference</span></a><div class="menu"><a href="https://github.com/jaywcjlove/reference/blob/main/node_modules/rehype-parse\readme.md" class="" target="__blank"><svg viewBox="0 0 36 36" fill="currentColor" height="1em" width="1em"><path d="m33 6.4-3.7-3.7a1.71 1.71 0 0 0-2.36 0L23.65 6H6a2 2 0 0 0-2 2v22a2 2 0 0 0 2 2h22a2 2 0 0 0 2-2V11.76l3-3a1.67 1.67 0 0 0 0-2.36ZM18.83 20.13l-4.19.93 1-4.15 9.55-9.57 3.23 3.23ZM29.5 9.43 26.27 6.2l1.85-1.85 3.23 3.23Z"></path><path fill="none" d="M0 0h36v36H0z"></path></svg><span>编辑</span></a><button id="darkMode" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="light" height="1em" width="1em">
  <path d="M6.995 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007-2.246-5.007-5.007-5.007S6.995 9.239 6.995 12zM11 19h2v3h-2zm0-17h2v3h-2zm-9 9h3v2H2zm17 0h3v2h-3zM5.637 19.778l-1.414-1.414 2.121-2.121 1.414 1.414zM16.242 6.344l2.122-2.122 1.414 1.414-2.122 2.122zM6.344 7.759 4.223 5.637l1.415-1.414 2.12 2.122zm13.434 10.605-1.414 1.414-2.122-2.122 1.414-1.414z"></path>
</svg>
<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="dark" height="1em" width="1em">
  <path d="M12 11.807A9.002 9.002 0 0 1 10.049 2a9.942 9.942 0 0 0-5.12 2.735c-3.905 3.905-3.905 10.237 0 14.142 3.906 3.906 10.237 3.905 14.143 0a9.946 9.946 0 0 0 2.735-5.119A9.003 9.003 0 0 1 12 11.807z"></path>
</svg>
</button><script>
  const LOCAL_NANE = '_dark_mode_theme_'
  const rememberedValue = localStorage.getItem(LOCAL_NANE);
  if (rememberedValue && ['light', 'dark'].includes(rememberedValue)) {
    document.documentElement.setAttribute('data-color-mode', rememberedValue);
  }
  const button = document.querySelector('#darkMode');
  button.onclick = () => {
    const theme = document.documentElement.dataset.colorMode;
    const mode = theme === 'light' ? 'dark' : 'light';
    document.documentElement.setAttribute('data-color-mode', mode);
    localStorage.setItem(LOCAL_NANE, mode);
  }
</script><a href="https://github.com/jaywcjlove/reference" class="" target="__blank"><svg viewBox="0 0 16 16" fill="currentColor" height="1em" width="1em"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a></div></div></nav><div class="wrap h1body-exist max-container"><header class="wrap-header h1wrap"><h1 id="rehype-parse"><a aria-hidden="true" tabindex="-1" href="#rehype-parse"><span class="icon icon-link"></span></a>rehype-parse</h1><div class="wrap-body">
<p><a href="https://github.com/rehypejs/rehype/actions"><img src="https://github.com/rehypejs/rehype/workflows/main/badge.svg" alt="Build"></a>
<a href="https://codecov.io/github/rehypejs/rehype"><img src="https://img.shields.io/codecov/c/github/rehypejs/rehype.svg" alt="Coverage"></a>
<a href="https://www.npmjs.com/package/rehype-parse"><img src="https://img.shields.io/npm/dm/rehype-parse.svg" alt="Downloads"></a>
<a href="https://bundlephobia.com/result?p=rehype-parse"><img src="https://img.shields.io/bundlephobia/minzip/rehype-parse.svg" alt="Size"></a>
<a href="https://opencollective.com/unified"><img src="https://opencollective.com/unified/sponsors/badge.svg" alt="Sponsors"></a>
<a href="https://opencollective.com/unified"><img src="https://opencollective.com/unified/backers/badge.svg" alt="Backers"></a>
<a href="https://github.com/rehypejs/rehype/discussions"><img src="https://img.shields.io/badge/chat-discussions-success.svg" alt="Chat"></a></p>
<p><strong><a href="https://github.com/rehypejs/rehype">rehype</a></strong> plugin to add support for parsing HTML input.</p>
</div></header><div class="menu-tocs"><div class="menu-btn"><svg aria-hidden="true" fill="currentColor" height="1em" width="1em" viewBox="0 0 16 16" version="1.1" data-view-component="true">
  <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
</svg></div><div class="menu-modal"><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#contents">Contents</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#what-is-this">What is this?</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#when-should-i-use-this">When should I use this?</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#install">Install</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#use">Use</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#api">API</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#unifieduserehypeparse-options">unified().use(rehypeParse[, options])</a><a aria-hidden="true" class="leve5 tocs-link" data-num="5" href="#options">options</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsfragment">options.fragment</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsspace">options.space</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsemitparseerrors">options.emitParseErrors</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsverbose">options.verbose</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#examples">Examples</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#example-fragment-versus-document">Example: fragment versus document</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#example-whitespace-around-and-inside-html">Example: whitespace around and inside &#x3C;html></a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#example-parse-errors">Example: parse errors</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#syntax">Syntax</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#syntax-tree">Syntax tree</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#types">Types</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#compatibility">Compatibility</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#security">Security</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#contribute">Contribute</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#sponsor">Sponsor</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#license">License</a></div></div><div class="h1wrap-body"><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="contents"><a aria-hidden="true" tabindex="-1" href="#contents"><span class="icon icon-link"></span></a>Contents</h2><div class="wrap-body">
<ul>
<li><a href="#what-is-this">What is this?</a></li>
<li><a href="#when-should-i-use-this">When should I use this?</a></li>
<li><a href="#install">Install</a></li>
<li><a href="#use">Use</a></li>
<li><a href="#api">API</a>
<ul>
<li><a href="#unifieduserehypeparse-options"><code>unified().use(rehypeParse[, options])</code></a></li>
</ul>
</li>
<li><a href="#examples">Examples</a>
<ul>
<li><a href="#example-fragment-versus-document">Example: fragment versus document</a></li>
<li><a href="#example-whitespace-around-and-inside-html">Example: whitespace around and inside <code>&#x3C;html></code></a></li>
<li><a href="#example-parse-errors">Example: parse errors</a></li>
</ul>
</li>
<li><a href="#syntax">Syntax</a></li>
<li><a href="#syntax-tree">Syntax tree</a></li>
<li><a href="#types">Types</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#security">Security</a></li>
<li><a href="#contribute">Contribute</a></li>
<li><a href="#sponsor">Sponsor</a></li>
<li><a href="#license">License</a></li>
</ul>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="what-is-this"><a aria-hidden="true" tabindex="-1" href="#what-is-this"><span class="icon icon-link"></span></a>What is this?</h2><div class="wrap-body">
<p>This package is a <a href="https://github.com/unifiedjs/unified">unified</a> (<a href="https://github.com/rehypejs/rehype">rehype</a>) plugin that defines how to take HTML
as input and turn it into a syntax tree.
When it’s used, HTML can be parsed and other rehype plugins can be used after
it.</p>
<p>See <a href="https://github.com/rehypejs/rehype">the monorepo readme</a> for info on what the rehype ecosystem is.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="when-should-i-use-this"><a aria-hidden="true" tabindex="-1" href="#when-should-i-use-this"><span class="icon icon-link"></span></a>When should I use this?</h2><div class="wrap-body">
<p>This plugin adds support to unified for parsing HTML.
You can alternatively use <a href="../rehype/"><code>rehype</code></a> instead, which combines
unified, this plugin, and <a href="../rehype-stringify/"><code>rehype-stringify</code></a>.</p>
<p>When you’re in a browser, trust your content, don’t need positional info, and
value a smaller bundle size, you can use <a href="https://github.com/rehypejs/rehype-dom/tree/main/packages/rehype-dom-parse"><code>rehype-dom-parse</code></a>
instead.</p>
<p>This plugin is built on <a href="https://github.com/inikulin/parse5"><code>parse5</code></a> and
<a href="https://github.com/syntax-tree/hast-util-from-parse5"><code>hast-util-from-parse5</code></a>, which deal with HTML-compliant
tokenizing, parsing, and creating nodes.
rehype focusses on making it easier to transform content by abstracting such
internals away.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="install"><a aria-hidden="true" tabindex="-1" href="#install"><span class="icon icon-link"></span></a>Install</h2><div class="wrap-body">
<p>This package is <a href="https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c">ESM only</a>.
In Node.js (version 12.20+, 14.14+, or 16.0+), install with <a href="https://docs.npmjs.com/cli/install">npm</a>:</p>
<pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line"><span class="token function">npm</span> <span class="token function">install</span> rehype-parse
</span></code></pre>
<p>In Deno with <a href="https://www.skypack.dev">Skypack</a>:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeParse</span> <span class="token keyword module">from</span> <span class="token string">'https://cdn.skypack.dev/rehype-parse@8?dts'</span>
</span></code></pre>
<p>In browsers with <a href="https://www.skypack.dev">Skypack</a>:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token keyword module">import</span> <span class="token imports">rehypeParse</span> <span class="token keyword module">from</span> <span class="token string">'https://cdn.skypack.dev/rehype-parse@8?min'</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>
</span></code></pre>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="use"><a aria-hidden="true" tabindex="-1" href="#use"><span class="icon icon-link"></span></a>Use</h2><div class="wrap-body">
<p>Say we have the following module <code>example.js</code>:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>unified<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unified'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeParse</span> <span class="token keyword module">from</span> <span class="token string">'rehype-parse'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeRemark</span> <span class="token keyword module">from</span> <span class="token string">'rehype-remark'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkStringify</span> <span class="token keyword module">from</span> <span class="token string">'remark-stringify'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeParse<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeRemark<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkStringify<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token method function property-access">process</span><span class="token punctuation">(</span><span class="token string">'&#x3C;h1>Hello, world!&#x3C;/h1>'</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name">String</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>…running that with <code>node example.js</code> yields:</p>
<pre class="language-markdown"><code class="language-markdown code-highlight"><span class="code-line"><span class="token title important"><span class="token punctuation">#</span> Hello, world!</span>
</span></code></pre>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-exist"><div class="wrap-header h2wrap"><h2 id="api"><a aria-hidden="true" tabindex="-1" href="#api"><span class="icon icon-link"></span></a>API</h2><div class="wrap-body">
<p>This package exports no identifiers.
The default export is <code>rehypeParse</code>.</p>
</div></div><div class="h2wrap-body"><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="unifieduserehypeparse-options"><a aria-hidden="true" tabindex="-1" href="#unifieduserehypeparse-options"><span class="icon icon-link"></span></a><code>unified().use(rehypeParse[, options])</code></h3><div class="wrap-body">
<p>Add support for parsing HTML input.</p>
<h5 id="options"><a aria-hidden="true" tabindex="-1" href="#options"><span class="icon icon-link"></span></a><code>options</code></h5>
<p>Configuration (optional).</p>
<h6 id="optionsfragment"><a aria-hidden="true" tabindex="-1" href="#optionsfragment"><span class="icon icon-link"></span></a><code>options.fragment</code></h6>
<p>Specify whether to parse as a fragment (<code>boolean</code>, default: <code>false</code>).
The default is to expect a whole document.
In document mode, unopened <code>html</code>, <code>head</code>, and <code>body</code> elements are opened.</p>
<h6 id="optionsspace"><a aria-hidden="true" tabindex="-1" href="#optionsspace"><span class="icon icon-link"></span></a><code>options.space</code></h6>
<p>Which space the document is in (<code>'svg'</code> or <code>'html'</code>, default: <code>'html'</code>).</p>
<p>When an <code>&#x3C;svg></code> element is found in the HTML space, <code>rehype-parse</code> already
automatically switches to and from the SVG space when entering and exiting it.</p>
<blockquote>
<p>👉 <strong>Note</strong>: rehype is not an XML parser.
It supports SVG as embedded in HTML.
It does not support the features available in XML.
Passing SVG files might break but fragments of modern SVG should be fine.</p>
</blockquote>
<blockquote>
<p>👉 <strong>Note</strong>: make sure to set <code>fragment: true</code> if <code>space: 'svg'</code>.</p>
</blockquote>
<h6 id="optionsemitparseerrors"><a aria-hidden="true" tabindex="-1" href="#optionsemitparseerrors"><span class="icon icon-link"></span></a><code>options.emitParseErrors</code></h6>
<p>Emit <a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-errors">HTML parse errors</a> as warning messages
(<code>boolean</code>, default: <code>false</code>).</p>
<p>Specific rules can be turned off by setting their IDs in <code>options</code> to <code>false</code>
(or <code>0</code>).
The default, when <code>emitParseErrors: true</code>, is <code>true</code> (or <code>1</code>), and means that
rules emit as warnings.
Rules can also be configured with <code>2</code>, to turn them into fatal errors.</p>
<p>The list of parse errors:</p>
<!-- parse-error start -->
<ul>
<li><code>abandonedHeadElementChild</code> — unexpected metadata element after head (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/abandoned-head-element-child/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-abrupt-closing-of-empty-comment"><code>abruptClosingOfEmptyComment</code></a> — unexpected abruptly closed empty comment (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/abrupt-closing-of-empty-comment/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-abrupt-doctype-public-identifier"><code>abruptDoctypePublicIdentifier</code></a> — unexpected abruptly closed public identifier (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/abrupt-doctype-public-identifier/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-abrupt-doctype-system-identifier"><code>abruptDoctypeSystemIdentifier</code></a> — unexpected abruptly closed system identifier (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/abrupt-doctype-system-identifier/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-absence-of-digits-in-numeric-character-reference"><code>absenceOfDigitsInNumericCharacterReference</code></a> — unexpected non-digit at start of numeric character reference (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/absence-of-digits-in-numeric-character-reference/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-cdata-in-html-content"><code>cdataInHtmlContent</code></a> — unexpected CDATA section in HTML (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/cdata-in-html-content/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-character-reference-outside-unicode-range"><code>characterReferenceOutsideUnicodeRange</code></a> — unexpected too big numeric character reference (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/character-reference-outside-unicode-range/index.html">example</a>)</li>
<li><code>closingOfElementWithOpenChildElements</code> — unexpected closing tag with open child elements (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/closing-of-element-with-open-child-elements/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-control-character-in-input-stream"><code>controlCharacterInInputStream</code></a> — unexpected control character (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/control-character-in-input-stream/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-control-character-reference"><code>controlCharacterReference</code></a> — unexpected control character reference (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/control-character-reference/index.html">example</a>)</li>
<li><code>disallowedContentInNoscriptInHead</code> — disallowed content inside <code>&#x3C;noscript></code> in <code>&#x3C;head></code> (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/disallowed-content-in-noscript-in-head/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-duplicate-attribute"><code>duplicateAttribute</code></a> — unexpected duplicate attribute (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/duplicate-attribute/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-end-tag-with-attributes"><code>endTagWithAttributes</code></a> — unexpected attribute on closing tag (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/end-tag-with-attributes/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-end-tag-with-trailing-solidus"><code>endTagWithTrailingSolidus</code></a> — unexpected slash at end of closing tag (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/end-tag-with-trailing-solidus/index.html">example</a>)</li>
<li><code>endTagWithoutMatchingOpenElement</code> — unexpected unopened end tag (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/end-tag-without-matching-open-element/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-eof-before-tag-name"><code>eofBeforeTagName</code></a> — unexpected end of file (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/eof-before-tag-name/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-eof-in-cdata"><code>eofInCdata</code></a> — unexpected end of file in CDATA (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/eof-in-cdata/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-eof-in-comment"><code>eofInComment</code></a> — unexpected end of file in comment (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/eof-in-comment/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-eof-in-doctype"><code>eofInDoctype</code></a> — unexpected end of file in doctype (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/eof-in-doctype/index.html">example</a>)</li>
<li><code>eofInElementThatCanContainOnlyText</code> — unexpected end of file in element that can only contain text (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/eof-in-element-that-can-contain-only-text/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-eof-in-script-html-comment-like-text"><code>eofInScriptHtmlCommentLikeText</code></a> — unexpected end of file in comment inside script (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/eof-in-script-html-comment-like-text/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-eof-in-tag"><code>eofInTag</code></a> — unexpected end of file in tag (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/eof-in-tag/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-incorrectly-closed-comment"><code>incorrectlyClosedComment</code></a> — incorrectly closed comment (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/incorrectly-closed-comment/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-incorrectly-opened-comment"><code>incorrectlyOpenedComment</code></a> — incorrectly opened comment (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/incorrectly-opened-comment/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-invalid-character-sequence-after-doctype-name"><code>invalidCharacterSequenceAfterDoctypeName</code></a> — invalid sequence after doctype name (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/invalid-character-sequence-after-doctype-name/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-invalid-first-character-of-tag-name"><code>invalidFirstCharacterOfTagName</code></a> — invalid first character in tag name (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/invalid-first-character-of-tag-name/index.html">example</a>)</li>
<li><code>misplacedDoctype</code> — misplaced doctype (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/misplaced-doctype/index.html">example</a>)</li>
<li><code>misplacedStartTagForHeadElement</code> — misplaced <code>&#x3C;head></code> start tag (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/misplaced-start-tag-for-head-element/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-missing-attribute-value"><code>missingAttributeValue</code></a> — missing attribute value (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/missing-attribute-value/index.html">example</a>)</li>
<li><code>missingDoctype</code> — missing doctype before other content (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/missing-doctype/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-missing-doctype-name"><code>missingDoctypeName</code></a> — missing doctype name (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/missing-doctype-name/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-missing-doctype-public-identifier"><code>missingDoctypePublicIdentifier</code></a> — missing public identifier in doctype (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/missing-doctype-public-identifier/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-missing-doctype-system-identifier"><code>missingDoctypeSystemIdentifier</code></a> — missing system identifier in doctype (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/missing-doctype-system-identifier/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-missing-end-tag-name"><code>missingEndTagName</code></a> — missing name in end tag (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/missing-end-tag-name/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-missing-quote-before-doctype-public-identifier"><code>missingQuoteBeforeDoctypePublicIdentifier</code></a> — missing quote before public identifier in doctype (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/missing-quote-before-doctype-public-identifier/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-missing-quote-before-doctype-system-identifier"><code>missingQuoteBeforeDoctypeSystemIdentifier</code></a> — missing quote before system identifier in doctype (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/missing-quote-before-doctype-system-identifier/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-missing-semicolon-after-character-reference"><code>missingSemicolonAfterCharacterReference</code></a> — missing semicolon after character reference (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/missing-semicolon-after-character-reference/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-missing-whitespace-after-doctype-public-keyword"><code>missingWhitespaceAfterDoctypePublicKeyword</code></a> — missing whitespace after public identifier in doctype (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/missing-whitespace-after-doctype-public-keyword/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-missing-whitespace-after-doctype-system-keyword"><code>missingWhitespaceAfterDoctypeSystemKeyword</code></a> — missing whitespace after system identifier in doctype (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/missing-whitespace-after-doctype-system-keyword/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-missing-whitespace-before-doctype-name"><code>missingWhitespaceBeforeDoctypeName</code></a> — missing whitespace before doctype name (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/missing-whitespace-before-doctype-name/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-missing-whitespace-between-attributes"><code>missingWhitespaceBetweenAttributes</code></a> — missing whitespace between attributes (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/missing-whitespace-between-attributes/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-missing-whitespace-between-doctype-public-and-system-identifiers"><code>missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers</code></a> — missing whitespace between public and system identifiers in doctype (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/missing-whitespace-between-doctype-public-and-system-identifiers/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-nested-comment"><code>nestedComment</code></a> — unexpected nested comment (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/nested-comment/index.html">example</a>)</li>
<li><code>nestedNoscriptInHead</code> — unexpected nested <code>&#x3C;noscript></code> in <code>&#x3C;head></code> (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/nested-noscript-in-head/index.html">example</a>)</li>
<li><code>nonConformingDoctype</code> — unexpected non-conforming doctype declaration (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/non-conforming-doctype/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-non-void-html-element-start-tag-with-trailing-solidus"><code>nonVoidHtmlElementStartTagWithTrailingSolidus</code></a> — unexpected trailing slash on start tag of non-void element (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/non-void-html-element-start-tag-with-trailing-solidus/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-noncharacter-character-reference"><code>noncharacterCharacterReference</code></a> — unexpected noncharacter code point referenced by character reference (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/noncharacter-character-reference/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-noncharacter-in-input-stream"><code>noncharacterInInputStream</code></a> — unexpected noncharacter character (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/noncharacter-in-input-stream/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-null-character-reference"><code>nullCharacterReference</code></a> — unexpected NULL character referenced by character reference (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/null-character-reference/index.html">example</a>)</li>
<li><code>openElementsLeftAfterEof</code> — unexpected end of file (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/open-elements-left-after-eof/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-surrogate-character-reference"><code>surrogateCharacterReference</code></a> — unexpected surrogate character referenced by character reference (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/surrogate-character-reference/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-surrogate-in-input-stream"><code>surrogateInInputStream</code></a> — unexpected surrogate character</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-unexpected-character-after-doctype-system-identifier"><code>unexpectedCharacterAfterDoctypeSystemIdentifier</code></a> — invalid character after system identifier in doctype (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/unexpected-character-after-doctype-system-identifier/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-unexpected-character-in-attribute-name"><code>unexpectedCharacterInAttributeName</code></a> — unexpected character in attribute name (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/unexpected-character-in-attribute-name/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-unexpected-character-in-unquoted-attribute-value"><code>unexpectedCharacterInUnquotedAttributeValue</code></a> — unexpected character in unquoted attribute value (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/unexpected-character-in-unquoted-attribute-value/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-unexpected-equals-sign-before-attribute-name"><code>unexpectedEqualsSignBeforeAttributeName</code></a> — unexpected equals sign before attribute name (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/unexpected-equals-sign-before-attribute-name/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-unexpected-null-character"><code>unexpectedNullCharacter</code></a> — unexpected NULL character (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/unexpected-null-character/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-unexpected-question-mark-instead-of-tag-name"><code>unexpectedQuestionMarkInsteadOfTagName</code></a> — unexpected question mark instead of tag name (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/unexpected-question-mark-instead-of-tag-name/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-unexpected-solidus-in-tag"><code>unexpectedSolidusInTag</code></a> — unexpected slash in tag (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/unexpected-solidus-in-tag/index.html">example</a>)</li>
<li><a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-unknown-named-character-reference"><code>unknownNamedCharacterReference</code></a> — unexpected unknown named character reference (<a href="https://github.com/rehypejs/rehype/blob/main/test/parse-error/unknown-named-character-reference/index.html">example</a>)</li>
</ul>
<!-- parse-error end -->
<h6 id="optionsverbose"><a aria-hidden="true" tabindex="-1" href="#optionsverbose"><span class="icon icon-link"></span></a><code>options.verbose</code></h6>
<p>Add extra positional info (<code>boolean</code>, default: <code>false</code>).</p>
</div></div></div></div></div><div class="wrap h2body-exist"><div class="wrap-header h2wrap"><h2 id="examples"><a aria-hidden="true" tabindex="-1" href="#examples"><span class="icon icon-link"></span></a>Examples</h2><div class="wrap-body">
</div></div><div class="h2wrap-body"><div class="wrap h3body-not-exist"><div class="wrap-header h3wrap"><h3 id="example-fragment-versus-document"><a aria-hidden="true" tabindex="-1" href="#example-fragment-versus-document"><span class="icon icon-link"></span></a>Example: fragment versus document</h3><div class="wrap-body">
<p>The following example shows the difference between parsing as a document and
parsing as a fragment:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>unified<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unified'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeParse</span> <span class="token keyword module">from</span> <span class="token string">'rehype-parse'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeStringify</span> <span class="token keyword module">from</span> <span class="token string">'rehype-stringify'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> doc <span class="token operator">=</span> <span class="token string">'&#x3C;title>Hi!&#x3C;/title>&#x3C;h1>Hello!&#x3C;/h1>'</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token known-class-name class-name">String</span><span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token keyword control-flow">await</span> <span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeParse<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">fragment</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeStringify<span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token punctuation">.</span><span class="token method function property-access">process</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token known-class-name class-name">String</span><span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token keyword control-flow">await</span> <span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeParse<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">fragment</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeStringify<span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token punctuation">.</span><span class="token method function property-access">process</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>…yields:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>title</span><span class="token punctuation">></span></span>Hi!<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h1</span><span class="token punctuation">></span></span>Hello!<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h1</span><span class="token punctuation">></span></span>
</span></code></pre>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>title</span><span class="token punctuation">></span></span>Hi!<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h1</span><span class="token punctuation">></span></span>Hello!<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h1</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>html</span><span class="token punctuation">></span></span>
</span></code></pre>
<blockquote>
<p>👉 <strong>Note</strong>: observe that when a whole document is expected (second example),
missing elements are opened and closed.</p>
</blockquote>
</div></div></div><div class="wrap h3body-not-exist"><div class="wrap-header h3wrap"><h3 id="example-whitespace-around-and-inside-html"><a aria-hidden="true" tabindex="-1" href="#example-whitespace-around-and-inside-html"><span class="icon icon-link"></span></a>Example: whitespace around and inside <code>&#x3C;html></code></h3><div class="wrap-body">
<p>The following example shows how whitespace is handled when around and directly
inside the <code>&#x3C;html></code> element:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>unified<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unified'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeParse</span> <span class="token keyword module">from</span> <span class="token string">'rehype-parse'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeStringify</span> <span class="token keyword module">from</span> <span class="token string">'rehype-stringify'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">main</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&#x3C;!doctype html>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">&#x3C;html lang=en>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  &#x3C;head>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    &#x3C;title>Hi!&#x3C;/title>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  &#x3C;/head>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  &#x3C;body>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    &#x3C;h1>Hello!&#x3C;/h1>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  &#x3C;/body>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">&#x3C;/html></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token parameter">doc</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token known-class-name class-name">String</span><span class="token punctuation">(</span><span class="token keyword control-flow">await</span> <span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeParse<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeStringify<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">process</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>…yields (where <code>␠</code> represents a space character):</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token doctype"><span class="token punctuation">&#x3C;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>head</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>title</span><span class="token punctuation">></span></span>Hi!<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>title</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>head</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>body</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h1</span><span class="token punctuation">></span></span>Hello!<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h1</span><span class="token punctuation">></span></span>
</span><span class="code-line">␠␠
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>html</span><span class="token punctuation">></span></span>
</span></code></pre>
<blockquote>
<p>👉 <strong>Note</strong>: observe that the line ending before <code>&#x3C;html></code> is ignored, the line
ending and two spaces before <code>&#x3C;head></code> is moved inside it, and the line ending
after <code>&#x3C;/body></code> is moved before it.</p>
</blockquote>
<p>This behavior is described by the HTML standard (see the section 13.2.6.4.1
“The ‘initial’ insertion mode” and adjacent states) which rehype follows.</p>
<p>The changes to this meaningless whitespace should not matter, except when
formatting markup, in which case <a href="https://github.com/rehypejs/rehype-format"><code>rehype-format</code></a> can be used to
improve the source code.</p>
</div></div></div><div class="wrap h3body-not-exist"><div class="wrap-header h3wrap"><h3 id="example-parse-errors"><a aria-hidden="true" tabindex="-1" href="#example-parse-errors"><span class="icon icon-link"></span></a>Example: parse errors</h3><div class="wrap-body">
<p>The following example shows how HTML parse errors can be enabled and configured:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>reporter<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'vfile-reporter'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>unified<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unified'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeParse</span> <span class="token keyword module">from</span> <span class="token string">'rehype-parse'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeStringify</span> <span class="token keyword module">from</span> <span class="token string">'rehype-stringify'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeParse<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token literal-property property">emitParseErrors</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Emit all.</span>
</span><span class="code-line">      <span class="token literal-property property">missingWhitespaceBeforeDoctypeName</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// Mark one as a fatal error.</span>
</span><span class="code-line">      <span class="token literal-property property">nonVoidHtmlElementStartTagWithTrailingSolidus</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// Ignore one.</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeStringify<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token method function property-access">process</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&#x3C;!doctypehtml>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">&#x3C;title class="a" class="b">Hello…&#x3C;/title>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">&#x3C;h1/>World!&#x3C;/h1></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">reporter</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>…yields:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line">  1:10-1:10  error    Missing whitespace before doctype name  missing-whitespace-before-doctype-name  parse-error
</span><span class="code-line">  2:23-2:23  warning  Unexpected duplicate attribute          duplicate-attribute                     parse-error
</span><span class="code-line">
</span><span class="code-line">2 messages (✖ 1 error, ⚠ 1 warning)
</span></code></pre>
<blockquote>
<p>🧑‍🏫 <strong>Info</strong>: messages in unified are warnings instead of errors.
Other linters (such as ESLint) almost always use errors.
Why?
Those tools <em>only</em> check code style.
They don’t generate, transform, and format code, which is what rehype and
unified focus on, too.
Errors in unified mean the same as an exception in your JavaScript code: a
crash.
That’s why we use warnings instead, because we continue checking more HTML and
continue running more plugins.</p>
</blockquote>
</div></div></div></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="syntax"><a aria-hidden="true" tabindex="-1" href="#syntax"><span class="icon icon-link"></span></a>Syntax</h2><div class="wrap-body">
<p>HTML is parsed according to WHATWG HTML (the living standard), which is also
followed by browsers such as Chrome and Firefox.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="syntax-tree"><a aria-hidden="true" tabindex="-1" href="#syntax-tree"><span class="icon icon-link"></span></a>Syntax tree</h2><div class="wrap-body">
<p>The syntax tree format used in rehype is <a href="https://github.com/syntax-tree/hast">hast</a>.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="types"><a aria-hidden="true" tabindex="-1" href="#types"><span class="icon icon-link"></span></a>Types</h2><div class="wrap-body">
<p>This package is fully typed with <a href="https://www.typescriptlang.org">TypeScript</a>.
The extra types <code>Options</code>, <code>ErrorCode</code>, and <code>ErrorSeverity</code> are exported.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="compatibility"><a aria-hidden="true" tabindex="-1" href="#compatibility"><span class="icon icon-link"></span></a>Compatibility</h2><div class="wrap-body">
<p>Projects maintained by the unified collective are compatible with all maintained
versions of Node.js.
As of now, that is Node.js 12.20+, 14.14+, and 16.0+.
Our projects sometimes work with older versions, but this is not guaranteed.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="security"><a aria-hidden="true" tabindex="-1" href="#security"><span class="icon icon-link"></span></a>Security</h2><div class="wrap-body">
<p>As <strong>rehype</strong> works on HTML, and improper use of HTML can open you up to a
<a href="https://en.wikipedia.org/wiki/Cross-site_scripting">cross-site scripting (XSS)</a> attack, use of rehype can also be unsafe.
Use <a href="https://github.com/rehypejs/rehype-sanitize"><code>rehype-sanitize</code></a> to make the tree safe.</p>
<p>Use of rehype plugins could also open you up to other attacks.
Carefully assess each plugin and the risks involved in using them.</p>
<p>For info on how to submit a report, see our <a href="https://github.com/rehypejs/.github/blob/main/security.md">security policy</a>.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="contribute"><a aria-hidden="true" tabindex="-1" href="#contribute"><span class="icon icon-link"></span></a>Contribute</h2><div class="wrap-body">
<p>See <a href="https://github.com/rehypejs/.github/blob/main/contributing.md"><code>contributing.md</code></a> in <a href="https://github.com/rehypejs/.github"><code>rehypejs/.github</code></a> for ways
to get started.
See <a href="https://github.com/rehypejs/.github/blob/main/support.md"><code>support.md</code></a> for ways to get help.</p>
<p>This project has a <a href="https://github.com/rehypejs/.github/blob/main/code-of-conduct.md">code of conduct</a>.
By interacting with this repository, organization, or community you agree to
abide by its terms.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="sponsor"><a aria-hidden="true" tabindex="-1" href="#sponsor"><span class="icon icon-link"></span></a>Sponsor</h2><div class="wrap-body">
<p>Support this effort and give back by sponsoring on <a href="https://opencollective.com/unified">OpenCollective</a>!</p>
<!--lint ignore no-html-->
<table>
<tbody><tr valign="middle">
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://vercel.com">Vercel</a><br><br>
  <a href="https://vercel.com"><img src="https://avatars1.githubusercontent.com/u/14985020?s=256&#x26;v=4" width="128"></a>
</td>
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://motif.land">Motif</a><br><br>
  <a href="https://motif.land"><img src="https://avatars1.githubusercontent.com/u/74457950?s=256&#x26;v=4" width="128"></a>
</td>
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://www.hashicorp.com">HashiCorp</a><br><br>
  <a href="https://www.hashicorp.com"><img src="https://avatars1.githubusercontent.com/u/761456?s=256&#x26;v=4" width="128"></a>
</td>
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://www.gitbook.com">GitBook</a><br><br>
  <a href="https://www.gitbook.com"><img src="https://avatars1.githubusercontent.com/u/7111340?s=256&#x26;v=4" width="128"></a>
</td>
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://www.gatsbyjs.org">Gatsby</a><br><br>
  <a href="https://www.gatsbyjs.org"><img src="https://avatars1.githubusercontent.com/u/12551863?s=256&#x26;v=4" width="128"></a>
</td>
</tr>
<tr valign="middle">
</tr>
<tr valign="middle">
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://www.netlify.com">Netlify</a><br><br>
  <!--OC has a sharper image-->
  <a href="https://www.netlify.com"><img src="https://images.opencollective.com/netlify/4087de2/logo/256.png" width="128"></a>
</td>
<td width="10%" align="center">
  <a href="https://www.coinbase.com">Coinbase</a><br><br>
  <a href="https://www.coinbase.com"><img src="https://avatars1.githubusercontent.com/u/1885080?s=256&#x26;v=4" width="64"></a>
</td>
<td width="10%" align="center">
  <a href="https://themeisle.com">ThemeIsle</a><br><br>
  <a href="https://themeisle.com"><img src="https://avatars1.githubusercontent.com/u/58979018?s=128&#x26;v=4" width="64"></a>
</td>
<td width="10%" align="center">
  <a href="https://expo.io">Expo</a><br><br>
  <a href="https://expo.io"><img src="https://avatars1.githubusercontent.com/u/12504344?s=128&#x26;v=4" width="64"></a>
</td>
<td width="10%" align="center">
  <a href="https://boostnote.io">Boost Note</a><br><br>
  <a href="https://boostnote.io"><img src="https://images.opencollective.com/boosthub/6318083/logo/128.png" width="64"></a>
</td>
<td width="10%" align="center">
  <a href="https://www.holloway.com">Holloway</a><br><br>
  <a href="https://www.holloway.com"><img src="https://avatars1.githubusercontent.com/u/35904294?s=128&#x26;v=4" width="64"></a>
</td>
<td width="10%"></td>
<td width="10%"></td>
<td width="10%"></td>
</tr>
<tr valign="middle">
<td width="100%" align="center" colspan="8">
  <br>
  <a href="https://opencollective.com/unified"><strong>You?</strong></a>
  <br><br>
</td>
</tr>
</tbody></table>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="license"><a aria-hidden="true" tabindex="-1" href="#license"><span class="icon icon-link"></span></a>License</h2><div class="wrap-body">
<p><a href="https://github.com/rehypejs/rehype/blob/main/license">MIT</a> © <a href="https://wooorm.com">Titus Wormer</a></p>
<!-- Definitions -->
</div></div><div class="h2wrap-body"></div></div></div></div><footer class="footer-wrap"><footer class="max-container">© 2022 Kenny Wang.</footer></footer><script>
if(('onhashchange' in window) && ((typeof document.documentMode==='undefined') || document.documentMode==8)) {
  window.onhashchange = function () {
    anchorPoint()
    updateAnchor()
  };
}
function anchorPoint() {
  const hash = window.location.hash?.replace(/^#/, '') || '';
  const elm = document.getElementById(decodeURIComponent(hash));
  Array.from(document.querySelectorAll('.h2wrap-body .wrap')).forEach((elm) => elm.classList.remove('active'))
  if (elm?.tagName === 'H3') {
    elm?.parentElement?.parentElement?.classList.add('active');
  }
}
anchorPoint();

function updateAnchor(element) {
  const anchorContainer = document.querySelectorAll('.menu-tocs .menu-modal a.tocs-link');
  anchorContainer.forEach((tocanchor) => {
    tocanchor.classList.remove('is-active-link');
  });
  const anchor = element || document.querySelector(`a.tocs-link[href='${decodeURIComponent(window.location.hash)}']`);
  if (anchor) {
    anchor.classList.add('is-active-link');
  }
}
// toc 定位
updateAnchor()
const anchor = document.querySelectorAll('.menu-tocs .menu-modal a.tocs-link');
anchor.forEach((item) => {
  item.addEventListener('click', (e) => {
    updateAnchor()
  })
})
</script></body>
</html>
