<!doctype html>
<html lang="en" data-color-mode="dark">
<head>
<meta charset="utf-8">
<title># sade [![Build Status](https://travis-ci.org/lukeed/sade.svg?branch &#x26;  index cheatsheet &#x26;  Quick Reference</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta description="为开发人员分享快速参考备忘单。">
<meta keywords="Quick,Reference,cheatsheet,index">
<link rel="icon" href="data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%221em%22%20width%3D%221em%22%3E%20%3Cpath%20d%3D%22m21.66%2010.44-.98%204.18c-.84%203.61-2.5%205.07-5.62%204.77-.5-.04-1.04-.13-1.62-.27l-1.68-.4c-4.17-.99-5.46-3.05-4.48-7.23l.98-4.19c.2-.85.44-1.59.74-2.2%201.17-2.42%203.16-3.07%206.5-2.28l1.67.39c4.19.98%205.47%203.05%204.49%207.23Z%22%20fill%3D%22%23c9d1d9%22%2F%3E%20%3Cpath%20d%3D%22M15.06%2019.39c-.62.42-1.4.77-2.35%201.08l-1.58.52c-3.97%201.28-6.06.21-7.35-3.76L2.5%2013.28c-1.28-3.97-.22-6.07%203.75-7.35l1.58-.52c.41-.13.8-.24%201.17-.31-.3.61-.54%201.35-.74%202.2l-.98%204.19c-.98%204.18.31%206.24%204.48%207.23l1.68.4c.58.14%201.12.23%201.62.27Zm2.43-8.88c-.06%200-.12-.01-.19-.02l-4.85-1.23a.75.75%200%200%201%20.37-1.45l4.85%201.23a.748.748%200%200%201-.18%201.47Z%22%20fill%3D%22%23228e6c%22%20%2F%3E%20%3Cpath%20d%3D%22M14.56%2013.89c-.06%200-.12-.01-.19-.02l-2.91-.74a.75.75%200%200%201%20.37-1.45l2.91.74c.4.1.64.51.54.91-.08.34-.38.56-.72.56Z%22%20fill%3D%22%23228e6c%22%20%2F%3E%20%3C%2Fsvg%3E" type="image/svg+xml">
<link rel="stylesheet" href="..\..\style\style.css">
<link rel="stylesheet" href="..\..\style\katex.css">
</head>
<body><nav class="header-nav"><div class="max-container"><a href="..\..\index.html" class="logo"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" height="1em" width="1em">
  <path d="m21.66 10.44-.98 4.18c-.84 3.61-2.5 5.07-5.62 4.77-.5-.04-1.04-.13-1.62-.27l-1.68-.4c-4.17-.99-5.46-3.05-4.48-7.23l.98-4.19c.2-.85.44-1.59.74-2.2 1.17-2.42 3.16-3.07 6.5-2.28l1.67.39c4.19.98 5.47 3.05 4.49 7.23Z" fill="#c9d1d9"></path>
  <path d="M15.06 19.39c-.62.42-1.4.77-2.35 1.08l-1.58.52c-3.97 1.28-6.06.21-7.35-3.76L2.5 13.28c-1.28-3.97-.22-6.07 3.75-7.35l1.58-.52c.41-.13.8-.24 1.17-.31-.3.61-.54 1.35-.74 2.2l-.98 4.19c-.98 4.18.31 6.24 4.48 7.23l1.68.4c.58.14 1.12.23 1.62.27Zm2.43-8.88c-.06 0-.12-.01-.19-.02l-4.85-1.23a.75.75 0 0 1 .37-1.45l4.85 1.23a.748.748 0 0 1-.18 1.47Z" fill="#228e6c"></path>
  <path d="M14.56 13.89c-.06 0-.12-.01-.19-.02l-2.91-.74a.75.75 0 0 1 .37-1.45l2.91.74c.4.1.64.51.54.91-.08.34-.38.56-.72.56Z" fill="#228e6c"></path>
</svg>
<span class="title">Quick Reference</span></a><div class="menu"><a href="https://github.com/jaywcjlove/reference/blob/main/node_modules/sade\readme.md" class="" target="__blank"><svg viewBox="0 0 36 36" fill="currentColor" height="1em" width="1em"><path d="m33 6.4-3.7-3.7a1.71 1.71 0 0 0-2.36 0L23.65 6H6a2 2 0 0 0-2 2v22a2 2 0 0 0 2 2h22a2 2 0 0 0 2-2V11.76l3-3a1.67 1.67 0 0 0 0-2.36ZM18.83 20.13l-4.19.93 1-4.15 9.55-9.57 3.23 3.23ZM29.5 9.43 26.27 6.2l1.85-1.85 3.23 3.23Z"></path><path fill="none" d="M0 0h36v36H0z"></path></svg><span>编辑</span></a><button id="darkMode" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="light" height="1em" width="1em">
  <path d="M6.995 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007-2.246-5.007-5.007-5.007S6.995 9.239 6.995 12zM11 19h2v3h-2zm0-17h2v3h-2zm-9 9h3v2H2zm17 0h3v2h-3zM5.637 19.778l-1.414-1.414 2.121-2.121 1.414 1.414zM16.242 6.344l2.122-2.122 1.414 1.414-2.122 2.122zM6.344 7.759 4.223 5.637l1.415-1.414 2.12 2.122zm13.434 10.605-1.414 1.414-2.122-2.122 1.414-1.414z"></path>
</svg>
<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="dark" height="1em" width="1em">
  <path d="M12 11.807A9.002 9.002 0 0 1 10.049 2a9.942 9.942 0 0 0-5.12 2.735c-3.905 3.905-3.905 10.237 0 14.142 3.906 3.906 10.237 3.905 14.143 0a9.946 9.946 0 0 0 2.735-5.119A9.003 9.003 0 0 1 12 11.807z"></path>
</svg>
</button><script>
  const LOCAL_NANE = '_dark_mode_theme_'
  const rememberedValue = localStorage.getItem(LOCAL_NANE);
  if (rememberedValue && ['light', 'dark'].includes(rememberedValue)) {
    document.documentElement.setAttribute('data-color-mode', rememberedValue);
  }
  const button = document.querySelector('#darkMode');
  button.onclick = () => {
    const theme = document.documentElement.dataset.colorMode;
    const mode = theme === 'light' ? 'dark' : 'light';
    document.documentElement.setAttribute('data-color-mode', mode);
    localStorage.setItem(LOCAL_NANE, mode);
  }
</script><a href="https://github.com/jaywcjlove/reference" class="" target="__blank"><svg viewBox="0 0 16 16" fill="currentColor" height="1em" width="1em"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a></div></div></nav><div class="wrap h1body-exist max-container"><header class="wrap-header h1wrap"><h1 id="sade-"><a aria-hidden="true" tabindex="-1" href="#sade-"><span class="icon icon-link"></span></a>sade <a href="https://travis-ci.org/lukeed/sade"><img src="https://travis-ci.org/lukeed/sade.svg?branch=master" alt="Build Status"></a></h1><div class="wrap-body">
<blockquote>
<p>Smooth (CLI) Operator 🎶</p>
</blockquote>
<p>Sade is a small but powerful tool for building command-line interface (CLI) applications for Node.js that are fast, responsive, and helpful!</p>
<p>It enables default commands, git-like subcommands, option flags with aliases, default option values with type-casting, required-vs-optional argument handling, command validation, and automated help text generation!</p>
<p>Your app's UX will be as smooth as butter... just like <a href="https://www.youtube.com/watch?v=4TYv2PhG89A">Sade's voice</a>. 😉</p>
</div></header><div class="menu-tocs"><div class="menu-btn"><svg aria-hidden="true" fill="currentColor" height="1em" width="1em" viewBox="0 0 16 16" version="1.1" data-view-component="true">
  <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
</svg></div><div class="menu-modal"><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#install">Install</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#usage">Usage</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#tips">Tips</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#subcommands">Subcommands</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#single-command-mode">Single Command Mode</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#command-aliases">Command Aliases</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#api">API</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#sadename-issingle">sade(name, isSingle)</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#name">name</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#issingle">isSingle</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#progcommandusage-desc-opts">prog.command(usage, desc, opts)</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#usage-1">usage</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#desc">desc</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#opts">opts</a><a aria-hidden="true" class="leve5 tocs-link" data-num="5" href="#optsalias">opts.alias</a><a aria-hidden="true" class="leve5 tocs-link" data-num="5" href="#optsdefault">opts.default</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#progdescribetext">prog.describe(text)</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#text">text</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#progaliasnames">prog.alias(...names)</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#names">names</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#progactionhandler">prog.action(handler)</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#handler">handler</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#progexamplestr">prog.example(str)</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#str">str</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#progoptionflags-desc-value">prog.option(flags, desc, value)</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#flags">flags</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#desc-1">desc</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#value">value</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#progversionstr">prog.version(str)</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#str-1">str</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#progparsearr-opts">prog.parse(arr, opts)</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#arr">arr</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#opts-1">opts</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#optsunknown">opts.unknown</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#optslazy">opts.lazy</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#proghelpcmd">prog.help(cmd)</a><a aria-hidden="true" class="leve4 tocs-link" data-num="4" href="#cmd">cmd</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#license">License</a></div></div><div class="h1wrap-body"><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="install"><a aria-hidden="true" tabindex="-1" href="#install"><span class="icon icon-link"></span></a>Install</h2><div class="wrap-body">
<pre><code class="code-highlight"><span class="code-line">$ npm install --save sade
</span></code></pre>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="usage"><a aria-hidden="true" tabindex="-1" href="#usage"><span class="icon icon-link"></span></a>Usage</h2><div class="wrap-body">
<p><em><strong>Input:</strong></em></p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token hashbang comment">#!/usr/bin/env node</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> sade <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'sade'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> prog <span class="token operator">=</span> <span class="token function">sade</span><span class="token punctuation">(</span><span class="token string">'my-cli'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">prog
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">version</span><span class="token punctuation">(</span><span class="token string">'1.0.5'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'--global, -g'</span><span class="token punctuation">,</span> <span class="token string">'An example global flag'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'-c, --config'</span><span class="token punctuation">,</span> <span class="token string">'Provide path to custom config'</span><span class="token punctuation">,</span> <span class="token string">'foo.config.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">prog
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">'build &#x3C;src> &#x3C;dest>'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">describe</span><span class="token punctuation">(</span><span class="token string">'Build the source directory. Expects an `index.js` entry file.'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'-o, --output'</span><span class="token punctuation">,</span> <span class="token string">'Change the name of the output file'</span><span class="token punctuation">,</span> <span class="token string">'bundle.js'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">example</span><span class="token punctuation">(</span><span class="token string">'build src build --global --config my-conf.js'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">example</span><span class="token punctuation">(</span><span class="token string">'build app public -o main.js'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">action</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">src<span class="token punctuation">,</span> dest<span class="token punctuation">,</span> opts</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">> building from </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>src<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dest<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'> these are extra opts'</span><span class="token punctuation">,</span> opts<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">prog<span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token property-access">argv</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p><em><strong>Output:</strong></em></p>
<pre><code class="language-a code-highlight"><span class="code-line">$ my-cli --help
</span><span class="code-line">
</span><span class="code-line">  Usage
</span><span class="code-line">    $ my-cli &#x3C;command> [options]
</span><span class="code-line">
</span><span class="code-line">  Available Commands
</span><span class="code-line">    build    Build the source directory.
</span><span class="code-line">
</span><span class="code-line">  For more info, run any command with the `--help` flag
</span><span class="code-line">    $ my-cli build --help
</span><span class="code-line">
</span><span class="code-line">  Options
</span><span class="code-line">    -v, --version    Displays current version
</span><span class="code-line">    -g, --global     An example global flag
</span><span class="code-line">    -c, --config     Provide path to custom config  (default foo.config.js)
</span><span class="code-line">    -h, --help       Displays this message
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line">$ my-cli build --help
</span><span class="code-line">
</span><span class="code-line">  Description
</span><span class="code-line">    Build the source directory.
</span><span class="code-line">    Expects an `index.js` entry file.
</span><span class="code-line">
</span><span class="code-line">  Usage
</span><span class="code-line">    $ my-cli build &#x3C;src> [options]
</span><span class="code-line">
</span><span class="code-line">  Options
</span><span class="code-line">    -o, --output    Change the name of the output file  (default bundle.js)
</span><span class="code-line">    -g, --global    An example global flag
</span><span class="code-line">    -c, --config    Provide path to custom config  (default foo.config.js)
</span><span class="code-line">    -h, --help      Displays this message
</span><span class="code-line">
</span><span class="code-line">  Examples
</span><span class="code-line">    $ my-cli build src build --global --config my-conf.js
</span><span class="code-line">    $ my-cli build app public -o main.js
</span></code></pre>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="tips"><a aria-hidden="true" tabindex="-1" href="#tips"><span class="icon icon-link"></span></a>Tips</h2><div class="wrap-body">
<ul>
<li>
<p><strong>Define your global/program-wide version, options, description, and/or examples first.</strong><br>
<em>Once you define a Command, you can't access the global-scope again.</em></p>
</li>
<li>
<p><strong>Define all commands &#x26; options in the order that you want them to appear.</strong><br>
<em>Sade will not mutate or sort your CLI for you. Global options print before local options.</em></p>
</li>
<li>
<p><strong>Required arguments without values will error &#x26; exit</strong><br>
<em>An <code>Insufficient arguments!</code> error will be displayed along with a help prompt.</em></p>
</li>
<li>
<p><strong>Don't worry about manually displaying help~!</strong><br>
<em>Your help text is displayed automatically... including command-specific help text!</em></p>
</li>
<li>
<p><strong>Automatic default/basic patterns</strong><br>
<em>Usage text will always append <code>[options]</code> &#x26; <code>--help</code> and <code>--version</code> are done for you.</em></p>
</li>
<li>
<p><strong>Only define what you want to display!</strong><br>
<em>Help text sections (example, options, etc) will only display if you provide values.</em></p>
</li>
</ul>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="subcommands"><a aria-hidden="true" tabindex="-1" href="#subcommands"><span class="icon icon-link"></span></a>Subcommands</h2><div class="wrap-body">
<p>Subcommands are defined &#x26; parsed like any other command! When defining their <a href="#usage-1"><code>usage</code></a>, everything up until the first argument (<code>[foo]</code> or <code>&#x3C;foo></code>) is interpreted as the command string.</p>
<p>They should be defined in the order that you want them to appear in your general <code>--help</code> output.</p>
<p>Lastly, it is <em>not</em> necessary to define the subcommand's "base" as an additional command. However, if you choose to do so, it's recommended that you define it first for better visibility.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword">const</span> prog <span class="token operator">=</span> <span class="token function">sade</span><span class="token punctuation">(</span><span class="token string">'git'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Not necessary for subcommands to work, but it's here anyway!</span>
</span><span class="code-line">prog
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">'remote'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">describe</span><span class="token punctuation">(</span><span class="token string">'Manage set of tracked repositories'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">action</span><span class="token punctuation">(</span><span class="token parameter">opts</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'~> Print current remotes...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">prog
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">'remote add &#x3C;name> &#x3C;url>'</span><span class="token punctuation">,</span> <span class="token string">'Demo...'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">action</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> url<span class="token punctuation">,</span> opts</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">~> Adding a new remote (</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">) to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">prog
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">'remote rename &#x3C;old> &#x3C;new>'</span><span class="token punctuation">,</span> <span class="token string">'Demo...'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">action</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">old<span class="token punctuation">,</span> nxt<span class="token punctuation">,</span> opts</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">~> Renaming from </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>old<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>nxt<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">~!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="single-command-mode"><a aria-hidden="true" tabindex="-1" href="#single-command-mode"><span class="icon icon-link"></span></a>Single Command Mode</h2><div class="wrap-body">
<p>In certain circumstances, you may only need <code>sade</code> for a single-command CLI application.</p>
<blockquote>
<p><strong>Note:</strong> Until <code>v1.6.0</code>, this made for an awkward pairing.</p>
</blockquote>
<p>To enable this, you may make use of the <a href="#issingle"><code>isSingle</code></a> argument. Doing so allows you to pass the program's entire <a href="#usage-1"><code>usage</code> text</a> into the <code>name</code> argument.</p>
<p>With "Single Command Mode" enabled, your entire binary operates as one command. This means that any <a href="#progcommandusage-desc-opts"><code>prog.command</code></a> calls are disallowed &#x26; will instead throw an Error. Of course, you may still define a program version, a description, an example or two, and declare options. You are customizing the program's attributes as a whole.<sup>*</sup></p>
<blockquote>
<p><sup>*</sup> This is true for multi-command applications, too, up until your first <code>prog.command()</code> call!</p>
</blockquote>
<p><em><strong>Example</strong></em></p>
<p>Let's reconstruct <a href="https://github.com/lukeed/sirv"><code>sirv-cli</code></a>, which is a single-command application that (optionally) accepts a directory from which to serve files. It also offers a slew of option flags:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token function">sade</span><span class="token punctuation">(</span><span class="token string">'sirv [dir]'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">version</span><span class="token punctuation">(</span><span class="token string">'1.0.0'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">describe</span><span class="token punctuation">(</span><span class="token string">'Run a static file server'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">example</span><span class="token punctuation">(</span><span class="token string">'public -qeim 31536000'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">example</span><span class="token punctuation">(</span><span class="token string">'--port 8080 --etag'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">example</span><span class="token punctuation">(</span><span class="token string">'my-app --dev'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'-D, --dev'</span><span class="token punctuation">,</span> <span class="token string">'Enable "dev" mode'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'-e, --etag'</span><span class="token punctuation">,</span> <span class="token string">'Enable "Etag" header'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token comment">// There are a lot...</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'-H, --host'</span><span class="token punctuation">,</span> <span class="token string">'Hostname to bind'</span><span class="token punctuation">,</span> <span class="token string">'localhost'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'-p, --port'</span><span class="token punctuation">,</span> <span class="token string">'Port to bind'</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">action</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">dir<span class="token punctuation">,</span> opts</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token comment">// Program handler</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token property-access">argv</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>When <code>sirv --help</code> is run, the generated help text is trimmed, fully aware that there's only one command in this program:</p>
<pre><code class="code-highlight"><span class="code-line">  Description
</span><span class="code-line">    Run a static file server
</span><span class="code-line">
</span><span class="code-line">  Usage
</span><span class="code-line">    $ sirv [dir] [options]
</span><span class="code-line">
</span><span class="code-line">  Options
</span><span class="code-line">    -D, --dev        Enable "dev" mode
</span><span class="code-line">    -e, --etag       Enable "Etag" header
</span><span class="code-line">    -H, --host       Hostname to bind  (default localhost)
</span><span class="code-line">    -p, --port       Port to bind  (default 5000)
</span><span class="code-line">    -v, --version    Displays current version
</span><span class="code-line">    -h, --help       Displays this message
</span><span class="code-line">
</span><span class="code-line">  Examples
</span><span class="code-line">    $ sirv public -qeim 31536000
</span><span class="code-line">    $ sirv --port 8080 --etag
</span><span class="code-line">    $ sirv my-app --dev
</span></code></pre>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="command-aliases"><a aria-hidden="true" tabindex="-1" href="#command-aliases"><span class="icon icon-link"></span></a>Command Aliases</h2><div class="wrap-body">
<p>Command aliases are alternative names (aliases) for a command. They are often used as shortcuts or as typo relief!</p>
<p>The aliased names do not appear in the general help text.<br>
Instead, they only appear within the Command-specific help text under an "Aliases" section.</p>
<p><em><strong>Limitations</strong></em></p>
<ul>
<li>You cannot assign aliases while in <a href="#single-command-mode">Single Command Mode</a></li>
<li>You cannot call <a href="#progaliasnames"><code>prog.alias()</code></a> before defining any Commands (via <code>prog.commmand()</code>)</li>
<li>You, the developer, must keep track of which aliases have already been used and/or exist as Command names</li>
</ul>
<p><em><strong>Example</strong></em></p>
<p>Let's reconstruct the <code>npm install</code> command as a Sade program:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token function">sade</span><span class="token punctuation">(</span><span class="token string">'npm'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token comment">// ...</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">'install [package]'</span><span class="token punctuation">,</span> <span class="token string">'Install a package'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token string">'add'</span><span class="token punctuation">,</span> <span class="token string">'isntall'</span><span class="token punctuation">]</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'-P, --save-prod'</span><span class="token punctuation">,</span> <span class="token string">'Package will appear in your dependencies.'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'-D, --save-dev'</span><span class="token punctuation">,</span> <span class="token string">'Package will appear in your devDependencies.'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'-O, --save-optional'</span><span class="token punctuation">,</span> <span class="token string">'Package will appear in your optionalDependencies'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'-E, --save-exact'</span><span class="token punctuation">,</span> <span class="token string">'Save exact versions instead of using a semver range operator'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token comment">// ...</span>
</span></code></pre>
<p>When we run <code>npm --help</code> we'll see this general help text:</p>
<pre><code class="code-highlight"><span class="code-line">  Usage
</span><span class="code-line">    $ npm &#x3C;command> [options]
</span><span class="code-line">
</span><span class="code-line">  Available Commands
</span><span class="code-line">    install    Install a package
</span><span class="code-line">
</span><span class="code-line">  For more info, run any command with the `--help` flag
</span><span class="code-line">    $ npm install --help
</span><span class="code-line">
</span><span class="code-line">  Options
</span><span class="code-line">    -v, --version    Displays current version
</span><span class="code-line">    -h, --help       Displays this message
</span></code></pre>
<p>When we run <code>npm install --help</code> — <em><strong>or</strong></em> the help flag with any of <code>install</code>'s aliases — we'll see this command-specific help text:</p>
<pre><code class="code-highlight"><span class="code-line">  Description
</span><span class="code-line">    Install a package
</span><span class="code-line">
</span><span class="code-line">  Usage
</span><span class="code-line">    $ npm install [package] [options]
</span><span class="code-line">
</span><span class="code-line">  Aliases
</span><span class="code-line">    $ npm i
</span><span class="code-line">    $ npm add
</span><span class="code-line">    $ npm isntall
</span><span class="code-line">
</span><span class="code-line">  Options
</span><span class="code-line">    -P, --save-prod        Package will appear in your dependencies.
</span><span class="code-line">    -D, --save-dev         Package will appear in your devDependencies.
</span><span class="code-line">    -O, --save-optional    Package will appear in your optionalDependencies
</span><span class="code-line">    -E, --save-exact       Save exact versions instead of using a semver range operator
</span><span class="code-line">    -h, --help             Displays this message
</span></code></pre>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-exist"><div class="wrap-header h2wrap"><h2 id="api"><a aria-hidden="true" tabindex="-1" href="#api"><span class="icon icon-link"></span></a>API</h2><div class="wrap-body">
</div></div><div class="h2wrap-body"><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="sadename-issingle"><a aria-hidden="true" tabindex="-1" href="#sadename-issingle"><span class="icon icon-link"></span></a>sade(name, isSingle)</h3><div class="wrap-body">
<p>Returns: <code>Program</code></p>
<p>Returns your chainable Sade instance, aka your <code>Program</code>.</p>
<h4 id="name"><a aria-hidden="true" tabindex="-1" href="#name"><span class="icon icon-link"></span></a>name</h4>
<p>Type: <code>String</code><br>
Required: <code>true</code></p>
<p>The name of your <code>Program</code> / binary application.</p>
<h4 id="issingle"><a aria-hidden="true" tabindex="-1" href="#issingle"><span class="icon icon-link"></span></a>isSingle</h4>
<p>Type: <code>Boolean</code><br>
Default: <code>name.includes(' ');</code></p>
<p>If your <code>Program</code> is meant to have <em><strong>only one command</strong></em>.<br>
When <code>true</code>, this simplifies your generated <code>--help</code> output such that:</p>
<ul>
<li>the "root-level help" is your <em>only</em> help text</li>
<li>the "root-level help" does not display an <code>Available Commands</code> section</li>
<li>the "root-level help" does not inject <code>$ name &#x3C;command></code> into the <code>Usage</code> section</li>
<li>the "root-level help" does not display <code>For more info, run any command with the </code>--help<code> flag</code> text</li>
</ul>
<p>You may customize the <code>Usage</code> of your command by modifying the <code>name</code> argument directly.<br>
Please read <a href="#single-command-mode">Single Command Mode</a> for an example and more information.</p>
<blockquote>
<p><strong>Important:</strong> Whenever <code>name</code> includes a custom usage, then <code>isSingle</code> is automatically assumed and enforced!</p>
</blockquote>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="progcommandusage-desc-opts"><a aria-hidden="true" tabindex="-1" href="#progcommandusage-desc-opts"><span class="icon icon-link"></span></a>prog.command(usage, desc, opts)</h3><div class="wrap-body">
<p>Create a new Command for your Program. This changes the current state of your Program.</p>
<p>All configuration methods (<code>prog.describe</code>, <code>prog.action</code>, etc) will apply to this Command until another Command has been created!</p>
<h4 id="usage-1"><a aria-hidden="true" tabindex="-1" href="#usage-1"><span class="icon icon-link"></span></a>usage</h4>
<p>Type: <code>String</code></p>
<p>The usage pattern for your current Command. This will be included in the general or command-specific <code>--help</code> output.</p>
<p><em>Required</em> arguments are wrapped with <code>&#x3C;</code> and <code>></code> characters; for example, <code>&#x3C;foo></code> and <code>&#x3C;bar></code>.</p>
<p><em>Optional</em> arguments are wrapped with <code>[</code> and <code>]</code> characters; for example, <code>[foo]</code> and <code>[bar]</code>.</p>
<p>All arguments are <em><strong>positionally important</strong></em>, which means they are passed to your current Command's <a href="#handler"><code>handler</code></a> function in the order that they were defined.</p>
<p>When optional arguments are defined but don't receive a value, their positionally-equivalent function parameter will be <code>undefined</code>.</p>
<blockquote>
<p><strong>Important:</strong> You <strong>must</strong> define &#x26; expect required arguments <em>before</em> optional arguments!</p>
</blockquote>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token function">sade</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">'greet &#x3C;adjective> &#x3C;noun>'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">action</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">adjective<span class="token punctuation">,</span> noun<span class="token punctuation">,</span> opts</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>adjective<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>noun<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">'drive &#x3C;vehicle> [color] [speed]'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">action</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">vehicle<span class="token punctuation">,</span> color<span class="token punctuation">,</span> speed<span class="token punctuation">,</span> opts</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Driving my'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">    arr<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span>color <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>color<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>vehicle<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> vehicle<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    speed <span class="token operator">&#x26;&#x26;</span> arr<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">at </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>speed<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    opts<span class="token punctuation">.</span><span class="token property-access">yolo</span> <span class="token operator">&#x26;&#x26;</span> arr<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token string">'...YOLO!!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">let</span> str <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line">$ foo greet beautiful person
</span><span class="code-line"><span class="token comment"># //=> Hello, beautiful person!</span>
</span><span class="code-line">
</span><span class="code-line">$ foo drive car
</span><span class="code-line"><span class="token comment"># //=> Driving my car</span>
</span><span class="code-line">
</span><span class="code-line">$ foo drive car red
</span><span class="code-line"><span class="token comment"># //=> Driving my red card</span>
</span><span class="code-line">
</span><span class="code-line">$ foo drive car blue 100mph <span class="token parameter variable">--yolo</span>
</span><span class="code-line"><span class="token comment"># //=> Driving my blue car at 100mph ...YOLO!!</span>
</span></code></pre>
<h4 id="desc"><a aria-hidden="true" tabindex="-1" href="#desc"><span class="icon icon-link"></span></a>desc</h4>
<p>Type: <code>String</code><br>
Default: <code>''</code></p>
<p>The Command's description. The value is passed directly to <a href="#progdescribetext"><code>prog.describe</code></a>.</p>
<h4 id="opts"><a aria-hidden="true" tabindex="-1" href="#opts"><span class="icon icon-link"></span></a>opts</h4>
<p>Type: <code>Object</code><br>
Default: <code>{}</code></p>
<h5 id="optsalias"><a aria-hidden="true" tabindex="-1" href="#optsalias"><span class="icon icon-link"></span></a>opts.alias</h5>
<p>Type: <code>String|Array</code></p>
<p>Optionally define one or more aliases for the current Command.<br>
When declared, the <code>opts.alias</code> value is passed <em>directly</em> to the <a href="#progaliasnames"><code>prog.alias</code></a> method.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token comment">// Program A is equivalent to Program B</span>
</span><span class="code-line"><span class="token comment">// ---</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">sade</span><span class="token punctuation">(</span><span class="token string">'bin'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">'build'</span><span class="token punctuation">,</span> <span class="token string">'My build command'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token string">'b'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">'watch'</span><span class="token punctuation">,</span> <span class="token string">'My watch command'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'w'</span><span class="token punctuation">,</span> <span class="token string">'dev'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token function">sade</span><span class="token punctuation">(</span><span class="token string">'bin'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">'build'</span><span class="token punctuation">,</span> <span class="token string">'My build command'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">alias</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">'watch'</span><span class="token punctuation">,</span> <span class="token string">'My watch command'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">alias</span><span class="token punctuation">(</span><span class="token string">'w'</span><span class="token punctuation">,</span> <span class="token string">'dev'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<h5 id="optsdefault"><a aria-hidden="true" tabindex="-1" href="#optsdefault"><span class="icon icon-link"></span></a>opts.default</h5>
<p>Type: <code>Boolean</code></p>
<p>Manually set/force the current Command to be the Program's default command. This ensures that the current Command will run if no command was specified.</p>
<blockquote>
<p><strong>Important:</strong> If you run your Program without a Command <em>and</em> without specifying a default command, your Program will exit with a <code>No command specified</code> error.</p>
</blockquote>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword">const</span> prog <span class="token operator">=</span> <span class="token function">sade</span><span class="token punctuation">(</span><span class="token string">'greet'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">prog<span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token comment">//=> only runs if :: `$ greet hello`</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// $ greet</span>
</span><span class="code-line"><span class="token comment">//=> error: No command specified.</span>
</span><span class="code-line">
</span><span class="code-line">prog<span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">'howdy'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token keyword module">default</span><span class="token operator">:</span><span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token comment">//=> runs as `$ greet` OR `$ greet howdy`</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// $ greet</span>
</span><span class="code-line"><span class="token comment">//=> runs 'howdy' handler</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// $ greet foobar</span>
</span><span class="code-line"><span class="token comment">//=> error: Invalid command</span>
</span></code></pre>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="progdescribetext"><a aria-hidden="true" tabindex="-1" href="#progdescribetext"><span class="icon icon-link"></span></a>prog.describe(text)</h3><div class="wrap-body">
<p>Add a description to the current Command.</p>
<h4 id="text"><a aria-hidden="true" tabindex="-1" href="#text"><span class="icon icon-link"></span></a>text</h4>
<p>Type: <code>String|Array</code></p>
<p>The description text for the current Command. This will be included in the general or command-specific <code>--help</code> output.</p>
<p>Internally, your description will be separated into an <code>Array</code> of sentences.</p>
<p>For general <code>--help</code> output, <em><strong>only</strong></em> the first sentence will be displayed. However, <strong>all sentences</strong> will be printed for command-specific <code>--help</code> text.</p>
<blockquote>
<p><strong>Note:</strong> Pass an <code>Array</code> if you don't want internal assumptions. However, the first item is <em>always</em> displayed in general help, so it's recommended to keep it short.</p>
</blockquote>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="progaliasnames"><a aria-hidden="true" tabindex="-1" href="#progaliasnames"><span class="icon icon-link"></span></a>prog.alias(...names)</h3><div class="wrap-body">
<p>Define one or more aliases for the current Command.</p>
<blockquote>
<p><strong>Important:</strong> An error will be thrown if:<br>1) the program is in <a href="#single-command-mode">Single Command Mode</a>; or<br>2) <code>prog.alias</code> is called before any <code>prog.command</code>.</p>
</blockquote>
<h4 id="names"><a aria-hidden="true" tabindex="-1" href="#names"><span class="icon icon-link"></span></a>names</h4>
<p>Type: <code>String</code></p>
<p>The list of alternative names (aliases) for the current Command.<br>
For example, you may want to define shortcuts and/or common typos for the Command's full name.</p>
<blockquote>
<p><strong>Important:</strong> Sade <em>does not</em> check if the incoming <code>names</code> are already in use by other Commands or their aliases.<br>During conflicts, the Command with the same <code>name</code> is given priority, otherwise the first Command (according to Program order) with <code>name</code> as an alias is chosen.</p>
</blockquote>
<p>The <code>prog.alias()</code> is append-only, so calling it multiple times within a Command context will <em>keep</em> all aliases, including those initially passed via <a href="#optsdefault"><code>opts.alias</code></a>.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token function">sade</span><span class="token punctuation">(</span><span class="token string">'bin'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">'hello &#x3C;name>'</span><span class="token punctuation">,</span> <span class="token string">'Greet someone by their name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'hey'</span><span class="token punctuation">,</span> <span class="token string">'yo'</span><span class="token punctuation">]</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">alias</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">,</span> <span class="token string">'howdy'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">alias</span><span class="token punctuation">(</span><span class="token string">'hola'</span><span class="token punctuation">,</span> <span class="token string">'oi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token comment">//=> hello aliases: hey, yo, hi, howdy, hola, oi</span>
</span></code></pre>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="progactionhandler"><a aria-hidden="true" tabindex="-1" href="#progactionhandler"><span class="icon icon-link"></span></a>prog.action(handler)</h3><div class="wrap-body">
<p>Attach a callback to the current Command.</p>
<h4 id="handler"><a aria-hidden="true" tabindex="-1" href="#handler"><span class="icon icon-link"></span></a>handler</h4>
<p>Type: <code>Function</code></p>
<p>The function to run when the current Command is executed.</p>
<p>Its parameters are based (positionally) on your Command's <a href="#usage-1"><code>usage</code></a> definition.</p>
<p>All options, flags, and extra/unknown values are included as the last parameter.</p>
<blockquote>
<p><strong>Note:</strong> Optional arguments are also passed as parameters &#x26; may be <code>undefined</code>!</p>
</blockquote>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token function">sade</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">'cp &#x3C;src> &#x3C;dest>'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'-f, --force'</span><span class="token punctuation">,</span> <span class="token string">'Overwrite without confirmation'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'-c, --clone-dir'</span><span class="token punctuation">,</span> <span class="token string">'Copy files to additional directory'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'-v, --verbose'</span><span class="token punctuation">,</span> <span class="token string">'Enable verbose output'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">action</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">src<span class="token punctuation">,</span> dest<span class="token punctuation">,</span> opts</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Copying files from </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>src<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> --> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dest<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    opts<span class="token punctuation">.</span><span class="token property-access">c</span> <span class="token operator">&#x26;&#x26;</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ALSO copying files from </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>src<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> --> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>opts<span class="token punctuation">[</span><span class="token string">'clone-dir'</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'My options:'</span><span class="token punctuation">,</span> opts<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// $ foo cp original my-copy -v</span>
</span><span class="code-line"><span class="token comment">//=> Copying files from original --> my-copy</span>
</span><span class="code-line"><span class="token comment">//=> My options: { _:[], v:true, verbose:true }</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// $ foo cp original my-copy --clone-dir my-backup</span>
</span><span class="code-line"><span class="token comment">//=> Copying files from original --> my-copy</span>
</span><span class="code-line"><span class="token comment">//=> ALSO copying files from original --> my-backup</span>
</span><span class="code-line"><span class="token comment">//=> My options: { _:[], c:'my-backup', 'clone-dir':'my-backup' }</span>
</span></code></pre>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="progexamplestr"><a aria-hidden="true" tabindex="-1" href="#progexamplestr"><span class="icon icon-link"></span></a>prog.example(str)</h3><div class="wrap-body">
<p>Add an example for the current Command.</p>
<h4 id="str"><a aria-hidden="true" tabindex="-1" href="#str"><span class="icon icon-link"></span></a>str</h4>
<p>Type: <code>String</code></p>
<p>The example string to add. This will be included in the general or command-specific <code>--help</code> output.</p>
<blockquote>
<p><strong>Note:</strong> Your example's <code>str</code> will be prefixed with your Program's <a href="#sadename"><code>name</code></a>.</p>
</blockquote>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="progoptionflags-desc-value"><a aria-hidden="true" tabindex="-1" href="#progoptionflags-desc-value"><span class="icon icon-link"></span></a>prog.option(flags, desc, value)</h3><div class="wrap-body">
<p>Add an Option to the current Command.</p>
<h4 id="flags"><a aria-hidden="true" tabindex="-1" href="#flags"><span class="icon icon-link"></span></a>flags</h4>
<p>Type: <code>String</code></p>
<p>The Option's flags, which may optionally include an alias.</p>
<p>You may use a comma (<code>,</code>) or a space (<code> </code>) to separate the flags.</p>
<blockquote>
<p><strong>Note:</strong> The short &#x26; long flags can be declared in any order. However, the alias will always be displayed first.</p>
</blockquote>
<blockquote>
<p><strong>Important:</strong> If using hyphenated flag names, they will be accessible <strong>as declared</strong> within your <a href="#progactionhandler"><code>action()</code></a> handler!</p>
</blockquote>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line">prog<span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'--global'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// no alias</span>
</span><span class="code-line">prog<span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'-g, --global'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// alias first, comma</span>
</span><span class="code-line">prog<span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'--global -g'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// alias last, space</span>
</span><span class="code-line"><span class="token comment">// etc...</span>
</span></code></pre>
<h4 id="desc-1"><a aria-hidden="true" tabindex="-1" href="#desc-1"><span class="icon icon-link"></span></a>desc</h4>
<p>Type: <code>String</code></p>
<p>The description for the Option.</p>
<h4 id="value"><a aria-hidden="true" tabindex="-1" href="#value"><span class="icon icon-link"></span></a>value</h4>
<p>Type: <code>String</code></p>
<p>The <strong>default</strong> value for the Option.</p>
<p>Flags and aliases, if parsed, are <code>true</code> by default. See <a href="https://github.com/lukeed/mri#minimist"><code>mri</code></a> for more info.</p>
<blockquote>
<p><strong>Note:</strong> You probably only want to define a default <code>value</code> if you're expecting a <code>String</code> or <code>Number</code> value type.</p>
</blockquote>
<p>If you <em>do</em> pass a <code>String</code> or <code>Number</code> value type, your flag value will be casted to the same type. See <a href="https://github.com/lukeed/mri#optionsdefault"><code>mri#options.default</code></a> for info~!</p>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="progversionstr"><a aria-hidden="true" tabindex="-1" href="#progversionstr"><span class="icon icon-link"></span></a>prog.version(str)</h3><div class="wrap-body">
<p>The <code>--version</code> and <code>-v</code> flags will automatically output the Program version.</p>
<h4 id="str-1"><a aria-hidden="true" tabindex="-1" href="#str-1"><span class="icon icon-link"></span></a>str</h4>
<p>Type: <code>String</code><br>
Default: <code>0.0.0</code></p>
<p>The new version number for your Program.</p>
<blockquote>
<p><strong>Note:</strong> Your Program <code>version</code> is <code>0.0.0</code> until you change it.</p>
</blockquote>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="progparsearr-opts"><a aria-hidden="true" tabindex="-1" href="#progparsearr-opts"><span class="icon icon-link"></span></a>prog.parse(arr, opts)</h3><div class="wrap-body">
<p>Parse a set of CLI arguments.</p>
<h4 id="arr"><a aria-hidden="true" tabindex="-1" href="#arr"><span class="icon icon-link"></span></a>arr</h4>
<p>Type: <code>Array</code></p>
<p>Your Program's <code>process.argv</code> input.</p>
<blockquote>
<p><strong>Important:</strong> Do not <code>.slice(2)</code>! Doing so will break parsing~!</p>
</blockquote>
<h4 id="opts-1"><a aria-hidden="true" tabindex="-1" href="#opts-1"><span class="icon icon-link"></span></a>opts</h4>
<p>Type: <code>Object</code><br>
Default: <code>{}</code></p>
<p>Additional <code>process.argv</code> parsing config. See <a href="https://github.com/lukeed/mri#mriargs-options"><code>mri</code>'s options</a> for details.</p>
<blockquote>
<p><strong>Important:</strong> These values <em>override</em> any internal values!</p>
</blockquote>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line">prog
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">'-f, --force'</span><span class="token punctuation">,</span> <span class="token string">'My flag'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token comment">//=> currently has alias pair: f &#x3C;--> force</span>
</span><span class="code-line">
</span><span class="code-line">prog<span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token property-access">argv</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token literal-property property">f</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'fizz'</span><span class="token punctuation">]</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token literal-property property">abc</span><span class="token operator">:</span> <span class="token number">123</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token comment">//=> ADDS alias pair: f &#x3C;--> foo</span>
</span><span class="code-line"><span class="token comment">//=> REMOVES alias pair: f &#x3C;--> force</span>
</span><span class="code-line"><span class="token comment">//=> ADDS alias pair: f &#x3C;--> fizz</span>
</span><span class="code-line"><span class="token comment">//=> ADDS default: abc -> 123 (number)</span>
</span></code></pre>
<h4 id="optsunknown"><a aria-hidden="true" tabindex="-1" href="#optsunknown"><span class="icon icon-link"></span></a>opts.unknown</h4>
<p>Type: <code>Function</code><br>
Default: <code>undefined</code></p>
<p>Callback to run when an unspecified option flag has been found. This is <a href="https://github.com/lukeed/mri#optionsunknown">passed directly to <code>mri</code></a>.</p>
<p>Your handler will receive the unknown flag (string) as its only argument.<br>
You may return a string, which will be used as a custom error message. Otherwise, a default message is displayed.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token function">sade</span><span class="token punctuation">(</span><span class="token string">'sirv'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">'start [dir]'</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token property-access">argv</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function-variable function">unknown</span><span class="token operator">:</span> <span class="token parameter">arg</span> <span class="token arrow operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Custom error message: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>arg<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">/*
</span></span><span class="code-line"><span class="token comment">$ sirv start --foobar
</span></span><span class="code-line"><span class="token comment">
</span></span><span class="code-line"><span class="token comment">  ERROR
</span></span><span class="code-line"><span class="token comment">    Custom error message: --foobar
</span></span><span class="code-line"><span class="token comment">
</span></span><span class="code-line"><span class="token comment">  Run `$ sirv --help` for more info.
</span></span><span class="code-line"><span class="token comment">*/</span>
</span></code></pre>
<h4 id="optslazy"><a aria-hidden="true" tabindex="-1" href="#optslazy"><span class="icon icon-link"></span></a>opts.lazy</h4>
<p>Type: <code>Boolean</code><br>
Default: <code>false</code></p>
<p>If true, Sade will not immediately execute the <code>action</code> handler. Instead, <code>parse()</code> will return an object of <code>{ name, args, handler }</code> shape, wherein the <code>name</code> is the command name, <code>args</code> is all arguments that <em>would be</em> passed to the action handler, and <code>handler</code> is the function itself.</p>
<p>From this, you may choose when to run the <code>handler</code> function. You also have the option to further modify the <code>args</code> for any reason, if needed.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword">let</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> args<span class="token punctuation">,</span> handler <span class="token punctuation">}</span> <span class="token operator">=</span> prog<span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token property-access">argv</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">lazy</span><span class="token operator">:</span><span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'> Received command: '</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// later on...</span>
</span><span class="code-line">handler<span class="token punctuation">.</span><span class="token method function property-access">apply</span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
</div></div></div><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="proghelpcmd"><a aria-hidden="true" tabindex="-1" href="#proghelpcmd"><span class="icon icon-link"></span></a>prog.help(cmd)</h3><div class="wrap-body">
<p>Manually display the help text for a given command. If no command name is provided, the general/global help is printed.</p>
<p>Your general and command-specific help text is automatically attached to the <code>--help</code> and <code>-h</code> flags.</p>
<blockquote>
<p><strong>Note:</strong> You don't have to call this directly! It's automatically run when you <code>bin --help</code></p>
</blockquote>
<h4 id="cmd"><a aria-hidden="true" tabindex="-1" href="#cmd"><span class="icon icon-link"></span></a>cmd</h4>
<p>Type: <code>String</code><br>
Default: <code>null</code></p>
<p>The name of the command for which to display help. Otherwise displays the general help.</p>
</div></div></div></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="license"><a aria-hidden="true" tabindex="-1" href="#license"><span class="icon icon-link"></span></a>License</h2><div class="wrap-body">
<p>MIT © <a href="https://lukeed.com">Luke Edwards</a></p>
</div></div><div class="h2wrap-body"></div></div></div></div><footer class="footer-wrap"><footer class="max-container">© 2022 Kenny Wang.</footer></footer><script>
if(('onhashchange' in window) && ((typeof document.documentMode==='undefined') || document.documentMode==8)) {
  window.onhashchange = function () {
    anchorPoint()
    updateAnchor()
  };
}
function anchorPoint() {
  const hash = window.location.hash?.replace(/^#/, '') || '';
  const elm = document.getElementById(decodeURIComponent(hash));
  Array.from(document.querySelectorAll('.h2wrap-body .wrap')).forEach((elm) => elm.classList.remove('active'))
  if (elm?.tagName === 'H3') {
    elm?.parentElement?.parentElement?.classList.add('active');
  }
}
anchorPoint();

function updateAnchor(element) {
  const anchorContainer = document.querySelectorAll('.menu-tocs .menu-modal a.tocs-link');
  anchorContainer.forEach((tocanchor) => {
    tocanchor.classList.remove('is-active-link');
  });
  const anchor = element || document.querySelector(`a.tocs-link[href='${decodeURIComponent(window.location.hash)}']`);
  if (anchor) {
    anchor.classList.add('is-active-link');
  }
}
// toc 定位
updateAnchor()
const anchor = document.querySelectorAll('.menu-tocs .menu-modal a.tocs-link');
anchor.forEach((item) => {
  item.addEventListener('click', (e) => {
    updateAnchor()
  })
})
</script></body>
</html>
