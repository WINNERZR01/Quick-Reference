<!doctype html>
<html lang="en" data-color-mode="dark">
<head>
<meta charset="utf-8">
<title># rehype-stringify

[![Build][build-badge]][build]
[![Coverage][coverage-badge]][coverage]
[![Downloads][downloads-badge]][downloads]
[![Size][size-badge]][size]
[![Sponsors][sponsors-badge]][collective]
[![Backers][backers-badge]][collective]
[![Chat][chat-badge]][chat]

**[rehype][]** plugin to add support for serializing HTML.

## Contents

*   [What is this?](#what-is-this)
*   [When should I use this?](#when-should-i-use-this)
*   [Install](#install)
*   [Use](#use)
*   [API](#api)
    *   [`unified().use(rehypeStringify[, options])`](#unifieduserehypestringify-options)
*   [Syntax](#syntax)
*   [Syntax tree](#syntax-tree)
*   [Types](#types)
*   [Compatibility](#compatibility)
*   [Security](#security)
*   [Contribute](#contribute)
*   [Sponsor](#sponsor)
*   [License](#license)

## What is this?

This package is a [unified][] ([rehype][]) plugin that defines how to take a
syntax tree as input and turn it into serialized HTML.
When it’s used, HTML is serialized as the final result.

See [the monorepo readme][rehype] for info on what the rehype ecosystem is.

## When should I use this?

This plugin adds support to unified for serializing HTML.
You can alternatively use [`rehype`][rehype-core] instead, which combines
unified, [`rehype-parse`][rehype-parse], and this plugin.

When you’re in a browser, trust your content, don’t need formatting options, and
value a smaller bundle size, you can use
[`rehype-dom-stringify`][rehype-dom-stringify] instead.

This plugin is built on [`hast-util-to-html`][hast-util-to-html], which turns
[hast][] syntax trees into a string.
rehype focusses on making it easier to transform content by abstracting such
internals away.

## Install

This package is [ESM only][esm].
In Node.js (version 12.20+, 14.14+, or 16.0+), install with [npm][]:

```sh
npm install rehype-stringify
```

In Deno with [Skypack][]:

```js
import rehypeStringify from 'https://cdn.skypack.dev/rehype-stringify@9?dts'
```

In browsers with [Skypack][]:

```html
&#x3C;script type &#x26;  index cheatsheet &#x26;  Quick Reference</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta description="为开发人员分享快速参考备忘单。">
<meta keywords="Quick,Reference,cheatsheet,index">
<link rel="icon" href="data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%221em%22%20width%3D%221em%22%3E%20%3Cpath%20d%3D%22m21.66%2010.44-.98%204.18c-.84%203.61-2.5%205.07-5.62%204.77-.5-.04-1.04-.13-1.62-.27l-1.68-.4c-4.17-.99-5.46-3.05-4.48-7.23l.98-4.19c.2-.85.44-1.59.74-2.2%201.17-2.42%203.16-3.07%206.5-2.28l1.67.39c4.19.98%205.47%203.05%204.49%207.23Z%22%20fill%3D%22%23c9d1d9%22%2F%3E%20%3Cpath%20d%3D%22M15.06%2019.39c-.62.42-1.4.77-2.35%201.08l-1.58.52c-3.97%201.28-6.06.21-7.35-3.76L2.5%2013.28c-1.28-3.97-.22-6.07%203.75-7.35l1.58-.52c.41-.13.8-.24%201.17-.31-.3.61-.54%201.35-.74%202.2l-.98%204.19c-.98%204.18.31%206.24%204.48%207.23l1.68.4c.58.14%201.12.23%201.62.27Zm2.43-8.88c-.06%200-.12-.01-.19-.02l-4.85-1.23a.75.75%200%200%201%20.37-1.45l4.85%201.23a.748.748%200%200%201-.18%201.47Z%22%20fill%3D%22%23228e6c%22%20%2F%3E%20%3Cpath%20d%3D%22M14.56%2013.89c-.06%200-.12-.01-.19-.02l-2.91-.74a.75.75%200%200%201%20.37-1.45l2.91.74c.4.1.64.51.54.91-.08.34-.38.56-.72.56Z%22%20fill%3D%22%23228e6c%22%20%2F%3E%20%3C%2Fsvg%3E" type="image/svg+xml">
<link rel="stylesheet" href="..\..\style\style.css">
<link rel="stylesheet" href="..\..\style\katex.css">
</head>
<body><nav class="header-nav"><div class="max-container"><a href="..\..\index.html" class="logo"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" height="1em" width="1em">
  <path d="m21.66 10.44-.98 4.18c-.84 3.61-2.5 5.07-5.62 4.77-.5-.04-1.04-.13-1.62-.27l-1.68-.4c-4.17-.99-5.46-3.05-4.48-7.23l.98-4.19c.2-.85.44-1.59.74-2.2 1.17-2.42 3.16-3.07 6.5-2.28l1.67.39c4.19.98 5.47 3.05 4.49 7.23Z" fill="#c9d1d9"></path>
  <path d="M15.06 19.39c-.62.42-1.4.77-2.35 1.08l-1.58.52c-3.97 1.28-6.06.21-7.35-3.76L2.5 13.28c-1.28-3.97-.22-6.07 3.75-7.35l1.58-.52c.41-.13.8-.24 1.17-.31-.3.61-.54 1.35-.74 2.2l-.98 4.19c-.98 4.18.31 6.24 4.48 7.23l1.68.4c.58.14 1.12.23 1.62.27Zm2.43-8.88c-.06 0-.12-.01-.19-.02l-4.85-1.23a.75.75 0 0 1 .37-1.45l4.85 1.23a.748.748 0 0 1-.18 1.47Z" fill="#228e6c"></path>
  <path d="M14.56 13.89c-.06 0-.12-.01-.19-.02l-2.91-.74a.75.75 0 0 1 .37-1.45l2.91.74c.4.1.64.51.54.91-.08.34-.38.56-.72.56Z" fill="#228e6c"></path>
</svg>
<span class="title">Quick Reference</span></a><div class="menu"><a href="https://github.com/jaywcjlove/reference/blob/main/node_modules/rehype-stringify\readme.md" class="" target="__blank"><svg viewBox="0 0 36 36" fill="currentColor" height="1em" width="1em"><path d="m33 6.4-3.7-3.7a1.71 1.71 0 0 0-2.36 0L23.65 6H6a2 2 0 0 0-2 2v22a2 2 0 0 0 2 2h22a2 2 0 0 0 2-2V11.76l3-3a1.67 1.67 0 0 0 0-2.36ZM18.83 20.13l-4.19.93 1-4.15 9.55-9.57 3.23 3.23ZM29.5 9.43 26.27 6.2l1.85-1.85 3.23 3.23Z"></path><path fill="none" d="M0 0h36v36H0z"></path></svg><span>编辑</span></a><button id="darkMode" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="light" height="1em" width="1em">
  <path d="M6.995 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007-2.246-5.007-5.007-5.007S6.995 9.239 6.995 12zM11 19h2v3h-2zm0-17h2v3h-2zm-9 9h3v2H2zm17 0h3v2h-3zM5.637 19.778l-1.414-1.414 2.121-2.121 1.414 1.414zM16.242 6.344l2.122-2.122 1.414 1.414-2.122 2.122zM6.344 7.759 4.223 5.637l1.415-1.414 2.12 2.122zm13.434 10.605-1.414 1.414-2.122-2.122 1.414-1.414z"></path>
</svg>
<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="dark" height="1em" width="1em">
  <path d="M12 11.807A9.002 9.002 0 0 1 10.049 2a9.942 9.942 0 0 0-5.12 2.735c-3.905 3.905-3.905 10.237 0 14.142 3.906 3.906 10.237 3.905 14.143 0a9.946 9.946 0 0 0 2.735-5.119A9.003 9.003 0 0 1 12 11.807z"></path>
</svg>
</button><script>
  const LOCAL_NANE = '_dark_mode_theme_'
  const rememberedValue = localStorage.getItem(LOCAL_NANE);
  if (rememberedValue && ['light', 'dark'].includes(rememberedValue)) {
    document.documentElement.setAttribute('data-color-mode', rememberedValue);
  }
  const button = document.querySelector('#darkMode');
  button.onclick = () => {
    const theme = document.documentElement.dataset.colorMode;
    const mode = theme === 'light' ? 'dark' : 'light';
    document.documentElement.setAttribute('data-color-mode', mode);
    localStorage.setItem(LOCAL_NANE, mode);
  }
</script><a href="https://github.com/jaywcjlove/reference" class="" target="__blank"><svg viewBox="0 0 16 16" fill="currentColor" height="1em" width="1em"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a></div></div></nav><div class="wrap h1body-exist max-container"><header class="wrap-header h1wrap"><h1 id="rehype-stringify"><a aria-hidden="true" tabindex="-1" href="#rehype-stringify"><span class="icon icon-link"></span></a>rehype-stringify</h1><div class="wrap-body">
<p><a href="https://github.com/rehypejs/rehype/actions"><img src="https://github.com/rehypejs/rehype/workflows/main/badge.svg" alt="Build"></a>
<a href="https://codecov.io/github/rehypejs/rehype"><img src="https://img.shields.io/codecov/c/github/rehypejs/rehype.svg" alt="Coverage"></a>
<a href="https://www.npmjs.com/package/rehype-stringify"><img src="https://img.shields.io/npm/dm/rehype-stringify.svg" alt="Downloads"></a>
<a href="https://bundlephobia.com/result?p=rehype-stringify"><img src="https://img.shields.io/bundlephobia/minzip/rehype-stringify.svg" alt="Size"></a>
<a href="https://opencollective.com/unified"><img src="https://opencollective.com/unified/sponsors/badge.svg" alt="Sponsors"></a>
<a href="https://opencollective.com/unified"><img src="https://opencollective.com/unified/backers/badge.svg" alt="Backers"></a>
<a href="https://github.com/rehypejs/rehype/discussions"><img src="https://img.shields.io/badge/chat-discussions-success.svg" alt="Chat"></a></p>
<p><strong><a href="https://github.com/rehypejs/rehype">rehype</a></strong> plugin to add support for serializing HTML.</p>
</div></header><div class="menu-tocs"><div class="menu-btn"><svg aria-hidden="true" fill="currentColor" height="1em" width="1em" viewBox="0 0 16 16" version="1.1" data-view-component="true">
  <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
</svg></div><div class="menu-modal"><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#contents">Contents</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#what-is-this">What is this?</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#when-should-i-use-this">When should I use this?</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#install">Install</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#use">Use</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#api">API</a><a aria-hidden="true" class="leve3 tocs-link" data-num="3" href="#unifieduserehypestringify-options">unified().use(rehypeStringify[, options])</a><a aria-hidden="true" class="leve5 tocs-link" data-num="5" href="#options">options</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsentities">options.entities</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsupperdoctype">options.upperDoctype</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsquote">options.quote</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsquotesmart">options.quoteSmart</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionspreferunquoted">options.preferUnquoted</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsomitoptionaltags">options.omitOptionalTags</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionscollapseemptyattributes">options.collapseEmptyAttributes</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionscloseselfclosing">options.closeSelfClosing</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionscloseemptyelements">options.closeEmptyElements</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionstightselfclosing">options.tightSelfClosing</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionstightcommaseparatedlists">options.tightCommaSeparatedLists</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionstightattributes">options.tightAttributes</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionstightdoctype">options.tightDoctype</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsboguscomments">options.bogusComments</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsallowparseerrors">options.allowParseErrors</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsallowdangerouscharacters">options.allowDangerousCharacters</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsallowdangeroushtml">options.allowDangerousHtml</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsspace">options.space</a><a aria-hidden="true" class="leve6 tocs-link" data-num="6" href="#optionsvoids">options.voids</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#syntax">Syntax</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#syntax-tree">Syntax tree</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#types">Types</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#compatibility">Compatibility</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#security">Security</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#contribute">Contribute</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#sponsor">Sponsor</a><a aria-hidden="true" class="leve2 tocs-link" data-num="2" href="#license">License</a></div></div><div class="h1wrap-body"><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="contents"><a aria-hidden="true" tabindex="-1" href="#contents"><span class="icon icon-link"></span></a>Contents</h2><div class="wrap-body">
<ul>
<li><a href="#what-is-this">What is this?</a></li>
<li><a href="#when-should-i-use-this">When should I use this?</a></li>
<li><a href="#install">Install</a></li>
<li><a href="#use">Use</a></li>
<li><a href="#api">API</a>
<ul>
<li><a href="#unifieduserehypestringify-options"><code>unified().use(rehypeStringify[, options])</code></a></li>
</ul>
</li>
<li><a href="#syntax">Syntax</a></li>
<li><a href="#syntax-tree">Syntax tree</a></li>
<li><a href="#types">Types</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#security">Security</a></li>
<li><a href="#contribute">Contribute</a></li>
<li><a href="#sponsor">Sponsor</a></li>
<li><a href="#license">License</a></li>
</ul>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="what-is-this"><a aria-hidden="true" tabindex="-1" href="#what-is-this"><span class="icon icon-link"></span></a>What is this?</h2><div class="wrap-body">
<p>This package is a <a href="https://github.com/unifiedjs/unified">unified</a> (<a href="https://github.com/rehypejs/rehype">rehype</a>) plugin that defines how to take a
syntax tree as input and turn it into serialized HTML.
When it’s used, HTML is serialized as the final result.</p>
<p>See <a href="https://github.com/rehypejs/rehype">the monorepo readme</a> for info on what the rehype ecosystem is.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="when-should-i-use-this"><a aria-hidden="true" tabindex="-1" href="#when-should-i-use-this"><span class="icon icon-link"></span></a>When should I use this?</h2><div class="wrap-body">
<p>This plugin adds support to unified for serializing HTML.
You can alternatively use <a href="../rehype/"><code>rehype</code></a> instead, which combines
unified, <a href="../rehype-parse/"><code>rehype-parse</code></a>, and this plugin.</p>
<p>When you’re in a browser, trust your content, don’t need formatting options, and
value a smaller bundle size, you can use
<a href="https://github.com/rehypejs/rehype-dom/tree/main/packages/rehype-dom-stringify"><code>rehype-dom-stringify</code></a> instead.</p>
<p>This plugin is built on <a href="https://github.com/syntax-tree/hast-util-to-html"><code>hast-util-to-html</code></a>, which turns
<a href="https://github.com/syntax-tree/hast">hast</a> syntax trees into a string.
rehype focusses on making it easier to transform content by abstracting such
internals away.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="install"><a aria-hidden="true" tabindex="-1" href="#install"><span class="icon icon-link"></span></a>Install</h2><div class="wrap-body">
<p>This package is <a href="https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c">ESM only</a>.
In Node.js (version 12.20+, 14.14+, or 16.0+), install with <a href="https://docs.npmjs.com/cli/install">npm</a>:</p>
<pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line"><span class="token function">npm</span> <span class="token function">install</span> rehype-stringify
</span></code></pre>
<p>In Deno with <a href="https://www.skypack.dev">Skypack</a>:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeStringify</span> <span class="token keyword module">from</span> <span class="token string">'https://cdn.skypack.dev/rehype-stringify@9?dts'</span>
</span></code></pre>
<p>In browsers with <a href="https://www.skypack.dev">Skypack</a>:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token keyword module">import</span> <span class="token imports">rehypeStringify</span> <span class="token keyword module">from</span> <span class="token string">'https://cdn.skypack.dev/rehype-stringify@9?min'</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>
</span></code></pre>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="use"><a aria-hidden="true" tabindex="-1" href="#use"><span class="icon icon-link"></span></a>Use</h2><div class="wrap-body">
<p>Say we have the following module <code>example.js</code>:</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span>unified<span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'unified'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkParse</span> <span class="token keyword module">from</span> <span class="token string">'remark-parse'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkGfm</span> <span class="token keyword module">from</span> <span class="token string">'remark-gfm'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">remarkRehype</span> <span class="token keyword module">from</span> <span class="token string">'remark-rehype'</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">rehypeStringify</span> <span class="token keyword module">from</span> <span class="token string">'rehype-stringify'</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">unified</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkParse<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkGfm<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>remarkRehype<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>rehypeStringify<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token method function property-access">process</span><span class="token punctuation">(</span><span class="token string">'# Hi\n\n*Hello*, world!'</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token known-class-name class-name">String</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>…running that with <code>node example.js</code> yields:</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h1</span><span class="token punctuation">></span></span>Hi<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h1</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>em</span><span class="token punctuation">></span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>em</span><span class="token punctuation">></span></span>, world!<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span></code></pre>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-exist"><div class="wrap-header h2wrap"><h2 id="api"><a aria-hidden="true" tabindex="-1" href="#api"><span class="icon icon-link"></span></a>API</h2><div class="wrap-body">
<p>This package exports no identifiers.
The default export is <code>rehypeStringify</code>.</p>
</div></div><div class="h2wrap-body"><div class="wrap h3body-exist"><div class="wrap-header h3wrap"><h3 id="unifieduserehypestringify-options"><a aria-hidden="true" tabindex="-1" href="#unifieduserehypestringify-options"><span class="icon icon-link"></span></a><code>unified().use(rehypeStringify[, options])</code></h3><div class="wrap-body">
<p>Add support for serializing HTML.
Options are passed to <a href="https://github.com/syntax-tree/hast-util-to-html"><code>hast-util-to-html</code></a>.</p>
<h5 id="options"><a aria-hidden="true" tabindex="-1" href="#options"><span class="icon icon-link"></span></a><code>options</code></h5>
<p>Configuration (optional).</p>
<h6 id="optionsentities"><a aria-hidden="true" tabindex="-1" href="#optionsentities"><span class="icon icon-link"></span></a><code>options.entities</code></h6>
<p>Define how to create character references (<code>Object</code>, default: <code>{}</code>).
Configuration is passed to <a href="https://github.com/wooorm/stringify-entities"><code>stringify-entities</code></a>.
You can use the fields <code>useNamedReferences</code>, <code>useShortestReferences</code>, and
<code>omitOptionalSemicolons</code>.
You cannot use the fields <code>escapeOnly</code>, <code>attribute</code>, or <code>subset</code>).</p>
<h6 id="optionsupperdoctype"><a aria-hidden="true" tabindex="-1" href="#optionsupperdoctype"><span class="icon icon-link"></span></a><code>options.upperDoctype</code></h6>
<p>Use a <code>&#x3C;!DOCTYPE…</code> instead of <code>&#x3C;!doctype…</code>.
Useless except for XHTML (<code>boolean</code>, default: <code>false</code>).</p>
<h6 id="optionsquote"><a aria-hidden="true" tabindex="-1" href="#optionsquote"><span class="icon icon-link"></span></a><code>options.quote</code></h6>
<p>Preferred quote to use (<code>'"'</code> or <code>'\''</code>, default: <code>'"'</code>).</p>
<h6 id="optionsquotesmart"><a aria-hidden="true" tabindex="-1" href="#optionsquotesmart"><span class="icon icon-link"></span></a><code>options.quoteSmart</code></h6>
<p>Use the other quote if that results in less bytes (<code>boolean</code>, default: <code>false</code>).</p>
<h6 id="optionspreferunquoted"><a aria-hidden="true" tabindex="-1" href="#optionspreferunquoted"><span class="icon icon-link"></span></a><code>options.preferUnquoted</code></h6>
<p>Leave attributes unquoted if that results in less bytes (<code>boolean</code>, default:
<code>false</code>).</p>
<p>Not used in the SVG space.</p>
<h6 id="optionsomitoptionaltags"><a aria-hidden="true" tabindex="-1" href="#optionsomitoptionaltags"><span class="icon icon-link"></span></a><code>options.omitOptionalTags</code></h6>
<p>Omit optional opening and closing tags (<code>boolean</code>, default: <code>false</code>).
For example, in <code>&#x3C;ol>&#x3C;li>one&#x3C;/li>&#x3C;li>two&#x3C;/li>&#x3C;/ol></code>, both <code>&#x3C;/li></code> closing tags
can be omitted.
The first because it’s followed by another <code>li</code>, the last because it’s followed
by nothing.</p>
<p>Not used in the SVG space.</p>
<h6 id="optionscollapseemptyattributes"><a aria-hidden="true" tabindex="-1" href="#optionscollapseemptyattributes"><span class="icon icon-link"></span></a><code>options.collapseEmptyAttributes</code></h6>
<p>Collapse empty attributes: get <code>class</code> instead of <code>class=""</code> (<code>boolean</code>,
default: <code>false</code>).</p>
<p>Not used in the SVG space.</p>
<blockquote>
<p>👉 <strong>Note</strong>: boolean attributes (such as <code>hidden</code>) are always collapsed.</p>
</blockquote>
<h6 id="optionscloseselfclosing"><a aria-hidden="true" tabindex="-1" href="#optionscloseselfclosing"><span class="icon icon-link"></span></a><code>options.closeSelfClosing</code></h6>
<p>Close self-closing nodes with an extra slash (<code>/</code>): <code>&#x3C;img /></code> instead of
<code>&#x3C;img></code> (<code>boolean</code>, default: <code>false</code>).
See <code>tightSelfClosing</code> to control whether a space is used before the slash.</p>
<p>Not used in the SVG space.</p>
<h6 id="optionscloseemptyelements"><a aria-hidden="true" tabindex="-1" href="#optionscloseemptyelements"><span class="icon icon-link"></span></a><code>options.closeEmptyElements</code></h6>
<p>Close SVG elements without any content with slash (<code>/</code>) on the opening tag
instead of an end tag: <code>&#x3C;circle /></code> instead of <code>&#x3C;circle>&#x3C;/circle></code> (<code>boolean</code>,
default: <code>false</code>).
See <code>tightSelfClosing</code> to control whether a space is used before the slash.</p>
<p>Not used in the HTML space.</p>
<h6 id="optionstightselfclosing"><a aria-hidden="true" tabindex="-1" href="#optionstightselfclosing"><span class="icon icon-link"></span></a><code>options.tightSelfClosing</code></h6>
<p>Do not use an extra space when closing self-closing elements: <code>&#x3C;img/></code> instead
of <code>&#x3C;img /></code> (<code>boolean</code>, default: <code>false</code>).</p>
<blockquote>
<p>👉 <strong>Note</strong>: only used if <code>closeSelfClosing: true</code> or
<code>closeEmptyElements: true</code>.</p>
</blockquote>
<h6 id="optionstightcommaseparatedlists"><a aria-hidden="true" tabindex="-1" href="#optionstightcommaseparatedlists"><span class="icon icon-link"></span></a><code>options.tightCommaSeparatedLists</code></h6>
<p>Join known comma-separated attribute values with just a comma (<code>,</code>), instead of
padding them on the right as well (<code>,␠</code>, where <code>␠</code> represents a space)
(<code>boolean</code>, default: <code>false</code>).</p>
<h6 id="optionstightattributes"><a aria-hidden="true" tabindex="-1" href="#optionstightattributes"><span class="icon icon-link"></span></a><code>options.tightAttributes</code></h6>
<p>Join attributes together, without whitespace, if possible: get
<code>class="a b"title="c d"</code> instead of <code>class="a b" title="c d"</code> to save bytes
(<code>boolean</code>, default: <code>false</code>).</p>
<p>Not used in the SVG space.</p>
<blockquote>
<p>👉 <strong>Note</strong>: intentionally creates parse errors in markup (how parse errors
are handled is well defined, so this works but isn’t pretty).</p>
</blockquote>
<h6 id="optionstightdoctype"><a aria-hidden="true" tabindex="-1" href="#optionstightdoctype"><span class="icon icon-link"></span></a><code>options.tightDoctype</code></h6>
<p>Drop unneeded spaces in doctypes: <code>&#x3C;!doctypehtml></code> instead of <code>&#x3C;!doctype html></code>
to save bytes (<code>boolean</code>, default: <code>false</code>).</p>
<blockquote>
<p>👉 <strong>Note</strong>: intentionally creates parse errors in markup (how parse errors
are handled is well defined, so this works but isn’t pretty).</p>
</blockquote>
<h6 id="optionsboguscomments"><a aria-hidden="true" tabindex="-1" href="#optionsboguscomments"><span class="icon icon-link"></span></a><code>options.bogusComments</code></h6>
<p>Use “bogus comments” instead of comments to save byes: <code>&#x3C;?charlie></code> instead of
<code>&#x3C;!--charlie--></code> (<code>boolean</code>, default: <code>false</code>).</p>
<blockquote>
<p>👉 <strong>Note</strong>: intentionally creates parse errors in markup (how parse errors
are handled is well defined, so this works but isn’t pretty).</p>
</blockquote>
<h6 id="optionsallowparseerrors"><a aria-hidden="true" tabindex="-1" href="#optionsallowparseerrors"><span class="icon icon-link"></span></a><code>options.allowParseErrors</code></h6>
<p>Do not encode characters which cause parse errors (even though they work), to
save bytes (<code>boolean</code>, default: <code>false</code>).</p>
<p>Not used in the SVG space.</p>
<blockquote>
<p>👉 <strong>Note</strong>: intentionally creates parse errors in markup (how parse errors
are handled is well defined, so this works but isn’t pretty).</p>
</blockquote>
<h6 id="optionsallowdangerouscharacters"><a aria-hidden="true" tabindex="-1" href="#optionsallowdangerouscharacters"><span class="icon icon-link"></span></a><code>options.allowDangerousCharacters</code></h6>
<p>Do not encode some characters which cause XSS vulnerabilities in older browsers
(<code>boolean</code>, default: <code>false</code>).</p>
<blockquote>
<p>⚠️ <strong>Danger</strong>: only set this if you completely trust the content.</p>
</blockquote>
<h6 id="optionsallowdangeroushtml"><a aria-hidden="true" tabindex="-1" href="#optionsallowdangeroushtml"><span class="icon icon-link"></span></a><code>options.allowDangerousHtml</code></h6>
<p>Allow <code>raw</code> nodes and insert them as raw HTML.
When falsey, encodes <code>raw</code> nodes (<code>boolean</code>, default: <code>false</code>).</p>
<blockquote>
<p>⚠️ <strong>Danger</strong>: only set this if you completely trust the content.</p>
</blockquote>
<h6 id="optionsspace"><a aria-hidden="true" tabindex="-1" href="#optionsspace"><span class="icon icon-link"></span></a><code>options.space</code></h6>
<p>Which space the document is in (<code>'svg'</code> or <code>'html'</code>, default: <code>'html'</code>).</p>
<p>When an <code>&#x3C;svg></code> element is found in the HTML space, <code>rehype-stringify</code> already
automatically switches to and from the SVG space when entering and exiting it.</p>
<blockquote>
<p>👉 <strong>Note</strong>: rehype is not an XML parser.
It supports SVG as embedded in HTML.
It does not support the features available in XML.
Passing SVG files might break but fragments of modern SVG should be fine.</p>
</blockquote>
<h6 id="optionsvoids"><a aria-hidden="true" tabindex="-1" href="#optionsvoids"><span class="icon icon-link"></span></a><code>options.voids</code></h6>
<p>Tag names of elements to serialize without closing tag (<code>Array&#x3C;string></code>,
default: <a href="https://github.com/wooorm/html-void-elements"><code>html-void-elements</code></a>).</p>
<p>Not used in the SVG space.</p>
<blockquote>
<p>👉 <strong>Note</strong>: It’s highly unlikely that you want to pass this.
It’s only really applicable to the <code>hast-util-to-html</code> utility.</p>
</blockquote>
</div></div></div></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="syntax"><a aria-hidden="true" tabindex="-1" href="#syntax"><span class="icon icon-link"></span></a>Syntax</h2><div class="wrap-body">
<p>HTML is parsed according to WHATWG HTML (the living standard), which is also
followed by browsers such as Chrome and Firefox.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="syntax-tree"><a aria-hidden="true" tabindex="-1" href="#syntax-tree"><span class="icon icon-link"></span></a>Syntax tree</h2><div class="wrap-body">
<p>The syntax tree format used in rehype is <a href="https://github.com/syntax-tree/hast">hast</a>.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="types"><a aria-hidden="true" tabindex="-1" href="#types"><span class="icon icon-link"></span></a>Types</h2><div class="wrap-body">
<p>This package is fully typed with <a href="https://www.typescriptlang.org">TypeScript</a>.
The extra types <code>Options</code> are exported.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="compatibility"><a aria-hidden="true" tabindex="-1" href="#compatibility"><span class="icon icon-link"></span></a>Compatibility</h2><div class="wrap-body">
<p>Projects maintained by the unified collective are compatible with all maintained
versions of Node.js.
As of now, that is Node.js 12.20+, 14.14+, and 16.0+.
Our projects sometimes work with older versions, but this is not guaranteed.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="security"><a aria-hidden="true" tabindex="-1" href="#security"><span class="icon icon-link"></span></a>Security</h2><div class="wrap-body">
<p>As <strong>rehype</strong> works on HTML, and improper use of HTML can open you up to a
<a href="https://en.wikipedia.org/wiki/Cross-site_scripting">cross-site scripting (XSS)</a> attack, use of rehype can also be unsafe.
Use <a href="https://github.com/rehypejs/rehype-sanitize"><code>rehype-sanitize</code></a> to make the tree safe.</p>
<p>Use of rehype plugins could also open you up to other attacks.
Carefully assess each plugin and the risks involved in using them.</p>
<p>For info on how to submit a report, see our <a href="https://github.com/rehypejs/.github/blob/main/security.md">security policy</a>.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="contribute"><a aria-hidden="true" tabindex="-1" href="#contribute"><span class="icon icon-link"></span></a>Contribute</h2><div class="wrap-body">
<p>See <a href="https://github.com/rehypejs/.github/blob/main/contributing.md"><code>contributing.md</code></a> in <a href="https://github.com/rehypejs/.github"><code>rehypejs/.github</code></a> for ways
to get started.
See <a href="https://github.com/rehypejs/.github/blob/main/support.md"><code>support.md</code></a> for ways to get help.</p>
<p>This project has a <a href="https://github.com/rehypejs/.github/blob/main/code-of-conduct.md">code of conduct</a>.
By interacting with this repository, organization, or community you agree to
abide by its terms.</p>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="sponsor"><a aria-hidden="true" tabindex="-1" href="#sponsor"><span class="icon icon-link"></span></a>Sponsor</h2><div class="wrap-body">
<p>Support this effort and give back by sponsoring on <a href="https://opencollective.com/unified">OpenCollective</a>!</p>
<!--lint ignore no-html-->
<table>
<tbody><tr valign="middle">
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://vercel.com">Vercel</a><br><br>
  <a href="https://vercel.com"><img src="https://avatars1.githubusercontent.com/u/14985020?s=256&#x26;v=4" width="128"></a>
</td>
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://motif.land">Motif</a><br><br>
  <a href="https://motif.land"><img src="https://avatars1.githubusercontent.com/u/74457950?s=256&#x26;v=4" width="128"></a>
</td>
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://www.hashicorp.com">HashiCorp</a><br><br>
  <a href="https://www.hashicorp.com"><img src="https://avatars1.githubusercontent.com/u/761456?s=256&#x26;v=4" width="128"></a>
</td>
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://www.gitbook.com">GitBook</a><br><br>
  <a href="https://www.gitbook.com"><img src="https://avatars1.githubusercontent.com/u/7111340?s=256&#x26;v=4" width="128"></a>
</td>
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://www.gatsbyjs.org">Gatsby</a><br><br>
  <a href="https://www.gatsbyjs.org"><img src="https://avatars1.githubusercontent.com/u/12551863?s=256&#x26;v=4" width="128"></a>
</td>
</tr>
<tr valign="middle">
</tr>
<tr valign="middle">
<td width="20%" align="center" rowspan="2" colspan="2">
  <a href="https://www.netlify.com">Netlify</a><br><br>
  <!--OC has a sharper image-->
  <a href="https://www.netlify.com"><img src="https://images.opencollective.com/netlify/4087de2/logo/256.png" width="128"></a>
</td>
<td width="10%" align="center">
  <a href="https://www.coinbase.com">Coinbase</a><br><br>
  <a href="https://www.coinbase.com"><img src="https://avatars1.githubusercontent.com/u/1885080?s=256&#x26;v=4" width="64"></a>
</td>
<td width="10%" align="center">
  <a href="https://themeisle.com">ThemeIsle</a><br><br>
  <a href="https://themeisle.com"><img src="https://avatars1.githubusercontent.com/u/58979018?s=128&#x26;v=4" width="64"></a>
</td>
<td width="10%" align="center">
  <a href="https://expo.io">Expo</a><br><br>
  <a href="https://expo.io"><img src="https://avatars1.githubusercontent.com/u/12504344?s=128&#x26;v=4" width="64"></a>
</td>
<td width="10%" align="center">
  <a href="https://boostnote.io">Boost Note</a><br><br>
  <a href="https://boostnote.io"><img src="https://images.opencollective.com/boosthub/6318083/logo/128.png" width="64"></a>
</td>
<td width="10%" align="center">
  <a href="https://www.holloway.com">Holloway</a><br><br>
  <a href="https://www.holloway.com"><img src="https://avatars1.githubusercontent.com/u/35904294?s=128&#x26;v=4" width="64"></a>
</td>
<td width="10%"></td>
<td width="10%"></td>
<td width="10%"></td>
</tr>
<tr valign="middle">
<td width="100%" align="center" colspan="8">
  <br>
  <a href="https://opencollective.com/unified"><strong>You?</strong></a>
  <br><br>
</td>
</tr>
</tbody></table>
</div></div><div class="h2wrap-body"></div></div><div class="wrap h2body-not-exist"><div class="wrap-header h2wrap"><h2 id="license"><a aria-hidden="true" tabindex="-1" href="#license"><span class="icon icon-link"></span></a>License</h2><div class="wrap-body">
<p><a href="https://github.com/rehypejs/rehype/blob/main/license">MIT</a> © <a href="https://wooorm.com">Titus Wormer</a></p>
<!-- Definitions -->
</div></div><div class="h2wrap-body"></div></div></div></div><footer class="footer-wrap"><footer class="max-container">© 2022 Kenny Wang.</footer></footer><script>
if(('onhashchange' in window) && ((typeof document.documentMode==='undefined') || document.documentMode==8)) {
  window.onhashchange = function () {
    anchorPoint()
    updateAnchor()
  };
}
function anchorPoint() {
  const hash = window.location.hash?.replace(/^#/, '') || '';
  const elm = document.getElementById(decodeURIComponent(hash));
  Array.from(document.querySelectorAll('.h2wrap-body .wrap')).forEach((elm) => elm.classList.remove('active'))
  if (elm?.tagName === 'H3') {
    elm?.parentElement?.parentElement?.classList.add('active');
  }
}
anchorPoint();

function updateAnchor(element) {
  const anchorContainer = document.querySelectorAll('.menu-tocs .menu-modal a.tocs-link');
  anchorContainer.forEach((tocanchor) => {
    tocanchor.classList.remove('is-active-link');
  });
  const anchor = element || document.querySelector(`a.tocs-link[href='${decodeURIComponent(window.location.hash)}']`);
  if (anchor) {
    anchor.classList.add('is-active-link');
  }
}
// toc 定位
updateAnchor()
const anchor = document.querySelectorAll('.menu-tocs .menu-modal a.tocs-link');
anchor.forEach((item) => {
  item.addEventListener('click', (e) => {
    updateAnchor()
  })
})
</script></body>
</html>
